{"version":3,"file":"module.js","mappings":"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","sources":["webpack://grafana-metricsdrilldown-app/webpack/runtime/create fake namespace object","webpack://grafana-metricsdrilldown-app/webpack/runtime/load script","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/reactive.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/transports/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/is.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/json.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/date.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/deepEqual.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/exceptions/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/exceptions/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/utils.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/logs/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/ItemBuffer.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/userActionLifecycleHandler.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/traces/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/meta/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/logs/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/measurements/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/api/events/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/noop.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/internalLogger/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/unpatchedConsole/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/internalLogger/createInternalLogger.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/internalLogger/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/globalObject/globalObject.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/version.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/sdk/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/sdk/registerFaro.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/sdk/internalFaroGlobalObject.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/sdk/faroGlobalObject.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/transports/batchExecutor.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/transports/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/unpatchedConsole/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/metas/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/instrumentations/initialize.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/metas/registerInitial.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/sourceMaps.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/transports/registerInitial.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/instrumentations/registerInitial.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/config/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/consts.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/buildStackFrame.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/getDataFromSafariExtensions.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/getStackFramesFromError.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/stackFrames/parseStacktrace.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/sessionConstants.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/consts.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/browser/meta.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/k6/meta.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/page/meta.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/extensions/baseExtension.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/transports/base.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/transports/utils.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/utils/throttle.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/utils/webStorage.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/shortId.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/semantic.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/sampling.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/sessionManagerUtils.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/PersistentSessionsManager.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/VolatileSessionManager.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/sessionManager/getSessionManagerByConfig.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/transports/fetch/transport.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/promiseBuffer.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/instrumentations/base.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/utils/url.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/httpRequestMonitor.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/instrumentationConstants.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/performanceConstants.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/performanceUtils.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/resource.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/performance/navigation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/processUserActionEventHandler.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/domMutationMonitor.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/performanceEntriesMonitor.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/util.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/userActions/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/const.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/getErrorDetails.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/getValueAndTypeFromMessage.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/registerOnunhandledrejection.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/errors/registerOnerror.js","webpack://grafana-metricsdrilldown-app/../node_modules/web-vitals/dist/web-vitals.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/webVitals/webVitalsBasic.js","webpack://grafana-metricsdrilldown-app/../node_modules/web-vitals/dist/web-vitals.attribution.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/webVitals/webVitalsWithAttribution.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/webVitals/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/session/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/metas/session/createSession.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/view/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/instrumentations/console/instrumentation.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/config/getWebInstrumentations.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/config/makeCoreConfig.js","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-web-sdk/dist/esm/initialize.js","webpack://grafana-metricsdrilldown-app/./tracking/faro/faro-environments.ts","webpack://grafana-metricsdrilldown-app/./tracking/faro/faro.ts","webpack://grafana-metricsdrilldown-app/./tracking/faro/getFaroEnvironment.ts","webpack://grafana-metricsdrilldown-app/external amd \"react-router\"","webpack://grafana-metricsdrilldown-app/external amd \"rxjs\"","webpack://grafana-metricsdrilldown-app/external amd \"module\"","webpack://grafana-metricsdrilldown-app/external amd \"@grafana/ui\"","webpack://grafana-metricsdrilldown-app/./tracking/logger/logger.ts","webpack://grafana-metricsdrilldown-app/external amd \"lodash\"","webpack://grafana-metricsdrilldown-app/./constants.ts","webpack://grafana-metricsdrilldown-app/./version.ts","webpack://grafana-metricsdrilldown-app/../node_modules/@grafana/faro-core/dist/esm/utils/logLevels.js","webpack://grafana-metricsdrilldown-app/external amd \"react\"","webpack://grafana-metricsdrilldown-app/external amd \"@emotion/css\"","webpack://grafana-metricsdrilldown-app/./tracking/getEnvironment.ts","webpack://grafana-metricsdrilldown-app/../node_modules/ua-parser-js/src/ua-parser.js","webpack://grafana-metricsdrilldown-app/external amd \"@grafana/data\"","webpack://grafana-metricsdrilldown-app/external amd \"react-dom\"","webpack://grafana-metricsdrilldown-app/external amd \"@grafana/runtime\"","webpack://grafana-metricsdrilldown-app/webpack/bootstrap","webpack://grafana-metricsdrilldown-app/webpack/runtime/amd options","webpack://grafana-metricsdrilldown-app/webpack/runtime/compat get default export","webpack://grafana-metricsdrilldown-app/webpack/runtime/define property getters","webpack://grafana-metricsdrilldown-app/webpack/runtime/ensure chunk","webpack://grafana-metricsdrilldown-app/webpack/runtime/get javascript chunk filename","webpack://grafana-metricsdrilldown-app/webpack/runtime/global","webpack://grafana-metricsdrilldown-app/webpack/runtime/hasOwnProperty shorthand","webpack://grafana-metricsdrilldown-app/webpack/runtime/make namespace object","webpack://grafana-metricsdrilldown-app/webpack/runtime/node module decorator","webpack://grafana-metricsdrilldown-app/webpack/runtime/publicPath","webpack://grafana-metricsdrilldown-app/webpack/runtime/compat","webpack://grafana-metricsdrilldown-app/webpack/runtime/jsonp chunk loading","webpack://grafana-metricsdrilldown-app/./node_modules/grafana-public-path.js","webpack://grafana-metricsdrilldown-app/./extensions/links.ts","webpack://grafana-metricsdrilldown-app/./module.tsx"],"sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"grafana-metricsdrilldown-app:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t\tif (script.src.indexOf(window.location.origin + '/') !== 0) {\n\t\t\tscript.crossOrigin = \"anonymous\";\n\t\t}\n\t\tscript.integrity = __webpack_require__.sriHashes[chunkId];\n\t\tscript.crossOrigin = \"anonymous\";\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","export class Observable {\n    constructor() {\n        this.subscribers = [];\n    }\n    subscribe(subscriber) {\n        this.subscribers.push(subscriber);\n        return {\n            unsubscribe: () => this.unsubscribe(subscriber),\n        };\n    }\n    unsubscribe(subscriber) {\n        this.subscribers = this.subscribers.filter((sub) => sub !== subscriber);\n    }\n    notify(value) {\n        this.subscribers.forEach((subscriber) => subscriber(value));\n    }\n    first() {\n        const result = new Observable();\n        const internalSubscriber = (data) => {\n            result.notify(data);\n            subscription.unsubscribe();\n        };\n        const subscription = this.subscribe(internalSubscriber);\n        const resultUnsubscribeFn = result.unsubscribe.bind(result);\n        return this.withUnsubscribeOverride(result, resultUnsubscribeFn, internalSubscriber);\n    }\n    takeWhile(predicate) {\n        const result = new Observable();\n        const internalSubscriber = (value) => {\n            if (predicate(value)) {\n                result.notify(value);\n            }\n            else {\n                result.unsubscribe(internalSubscriber);\n            }\n        };\n        this.subscribe(internalSubscriber);\n        const resultUnsubscribeFn = result.unsubscribe.bind(result);\n        return this.withUnsubscribeOverride(result, resultUnsubscribeFn, internalSubscriber);\n    }\n    filter(predicate) {\n        const result = new Observable();\n        const internalSubscriber = (value) => {\n            if (predicate(value)) {\n                result.notify(value);\n            }\n        };\n        this.subscribe(internalSubscriber);\n        const resultUnsubscribeFn = result.unsubscribe.bind(result);\n        return this.withUnsubscribeOverride(result, resultUnsubscribeFn, internalSubscriber);\n    }\n    merge(...observables) {\n        const mergerObservable = new Observable();\n        const subscriptions = [];\n        observables.forEach((observable) => {\n            const subscription = observable.subscribe((value) => {\n                mergerObservable.notify(value);\n            });\n            subscriptions.push(subscription);\n        });\n        const originalUnsubscribeAll = mergerObservable.unsubscribeAll.bind(mergerObservable);\n        mergerObservable.unsubscribe = () => {\n            subscriptions.forEach((subscription) => subscription.unsubscribe());\n            originalUnsubscribeAll();\n        };\n        return mergerObservable;\n    }\n    withUnsubscribeOverride(observable, resultUnsubscribeFn, internalSubscriber) {\n        observable.unsubscribe = (subscriber) => {\n            resultUnsubscribeFn(subscriber);\n            this.unsubscribe(internalSubscriber);\n        };\n        return observable;\n    }\n    unsubscribeAll() {\n        this.subscribers = [];\n    }\n}\n//# sourceMappingURL=reactive.js.map","export var TransportItemType;\n(function (TransportItemType) {\n    TransportItemType[\"EXCEPTION\"] = \"exception\";\n    TransportItemType[\"LOG\"] = \"log\";\n    TransportItemType[\"MEASUREMENT\"] = \"measurement\";\n    TransportItemType[\"TRACE\"] = \"trace\";\n    TransportItemType[\"EVENT\"] = \"event\";\n})(TransportItemType || (TransportItemType = {}));\nexport const transportItemTypeToBodyKey = {\n    [TransportItemType.EXCEPTION]: 'exceptions',\n    [TransportItemType.LOG]: 'logs',\n    [TransportItemType.MEASUREMENT]: 'measurements',\n    [TransportItemType.TRACE]: 'traces',\n    [TransportItemType.EVENT]: 'events',\n};\n//# sourceMappingURL=const.js.map","export function isTypeof(value, type) {\n    return typeof value === type;\n}\nexport function isToString(value, type) {\n    return Object.prototype.toString.call(value) === `[object ${type}]`;\n}\nexport function isInstanceOf(value, reference) {\n    try {\n        return value instanceof reference;\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport const isUndefined = ((value) => isTypeof(value, 'undefined'));\nexport const isNull = ((value) => isTypeof(value, 'null'));\nexport const isString = ((value) => isTypeof(value, 'string'));\nexport const isNumber = ((value) => (isTypeof(value, 'number') && !isNaN(value)) || isTypeof(value, 'bigint'));\nexport const isInt = ((value) => isNumber(value) && Number.isInteger(value));\nexport const isBoolean = ((value) => isTypeof(value, 'boolean'));\nexport const isSymbol = ((value) => isTypeof(value, 'symbol'));\nexport const isObject = ((value) => !isNull(value) && isTypeof(value, 'object'));\nexport const isFunction = ((value) => isTypeof(value, 'function'));\nexport const isArray = ((value) => isToString(value, 'Array'));\nexport const isRegExp = ((value) => isToString(value, 'RegExp'));\nexport const isThenable = ((value) => isFunction(value === null || value === void 0 ? void 0 : value.then));\nexport const isPrimitive = ((value) => !isObject(value) && !isFunction(value));\nexport const isEventDefined = typeof Event !== 'undefined';\nexport const isEvent = ((value) => isEventDefined && isInstanceOf(value, Event));\nexport const isErrorDefined = typeof Error !== 'undefined';\nexport const isError = ((value) => isErrorDefined && isInstanceOf(value, Error));\nexport const isErrorEvent = ((value) => isToString(value, 'ErrorEvent'));\nexport const isDomError = ((value) => isToString(value, 'DOMError'));\nexport const isDomException = ((value) => isToString(value, 'DOMException'));\nexport const isElementDefined = typeof Element !== 'undefined';\nexport const isElement = ((value) => isElementDefined && isInstanceOf(value, Element));\nexport const isMapDefined = typeof Map !== 'undefined';\nexport const isMap = ((value) => isMapDefined && isInstanceOf(value, Map));\nexport const isSyntheticEvent = ((value) => isObject(value) &&\n    'nativeEvent' in value &&\n    'preventDefault' in value &&\n    'stopPropagation' in value);\nexport function isEmpty(value) {\n    if (value == null) {\n        return true;\n    }\n    if (isArray(value) || isString(value)) {\n        return value.length === 0;\n    }\n    if (isObject(value)) {\n        return Object.keys(value).length === 0;\n    }\n    return false;\n}\n//# sourceMappingURL=is.js.map","import { isObject } from './is';\nexport function getCircularDependencyReplacer() {\n    const valueSeen = new WeakSet();\n    return function (_key, value) {\n        if (isObject(value) && value !== null) {\n            if (valueSeen.has(value)) {\n                return null;\n            }\n            valueSeen.add(value);\n        }\n        return value;\n    };\n}\nexport function stringifyExternalJson(json = {}) {\n    return JSON.stringify(json !== null && json !== void 0 ? json : {}, getCircularDependencyReplacer());\n}\nexport function stringifyObjectValues(obj = {}) {\n    const o = {};\n    for (const [key, value] of Object.entries(obj)) {\n        o[key] = isObject(value) && value !== null ? stringifyExternalJson(value) : String(value);\n    }\n    return o;\n}\n//# sourceMappingURL=json.js.map","export function dateNow() {\n    return Date.now();\n}\nexport function getCurrentTimestamp() {\n    return new Date().toISOString();\n}\nexport function timestampToIsoString(value) {\n    return new Date(value).toISOString();\n}\n//# sourceMappingURL=date.js.map","import { isArray, isObject, isTypeof } from './is';\n// This function was inspired by fast-deep-equal\n// fast-deep-equal has issues with Rollup and also it checks for some edge cases that we don't need\nexport function deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    // Using isTypeOf instead of isNumber as isNumber also checks against NaN\n    if (isTypeof(a, 'number') && isNaN(a)) {\n        return isTypeof(b, 'number') && isNaN(b);\n    }\n    const aIsArray = isArray(a);\n    const bIsArray = isArray(b);\n    if (aIsArray !== bIsArray) {\n        return false;\n    }\n    if (aIsArray && bIsArray) {\n        const length = a.length;\n        if (length !== b.length) {\n            return false;\n        }\n        for (let idx = length; idx-- !== 0;) {\n            if (!deepEqual(a[idx], b[idx])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    const aIsObject = isObject(a);\n    const bIsObject = isObject(b);\n    if (aIsObject !== bIsObject) {\n        return false;\n    }\n    if (a && b && aIsObject && bIsObject) {\n        const aKeys = Object.keys(a);\n        const bKeys = Object.keys(b);\n        const aLength = aKeys.length;\n        const bLength = bKeys.length;\n        if (aLength !== bLength) {\n            return false;\n        }\n        for (let aKey of aKeys) {\n            if (!bKeys.includes(aKey)) {\n                return false;\n            }\n        }\n        for (let aKey of aKeys) {\n            if (!deepEqual(a[aKey], b[aKey])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=deepEqual.js.map","export const USER_ACTION_START = 'user-action-start';\nexport const USER_ACTION_END = 'user-action-end';\nexport const USER_ACTION_CANCEL = 'user-action-cancel';\nexport const USER_ACTION_HALT = 'user-action-halt';\n//# sourceMappingURL=const.js.map","import { isObject, stringifyExternalJson } from '../../utils';\nexport const defaultExceptionType = 'Error';\nexport const defaultErrorArgsSerializer = (args) => {\n    return args\n        .map((arg) => {\n        if (isObject(arg)) {\n            return stringifyExternalJson(arg);\n        }\n        return String(arg);\n    })\n        .join(' ');\n};\n//# sourceMappingURL=const.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, getCurrentTimestamp, isArray, isEmpty, isError, isNull, isObject, stringifyExternalJson, stringifyObjectValues, } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nimport { USER_ACTION_START } from '../const';\nimport { shouldIgnoreEvent } from '../utils';\nimport { defaultExceptionType } from './const';\nlet stacktraceParser;\nexport function initializeExceptionsAPI({ internalLogger, config, metas, transports, tracesApi, actionBuffer, getMessage, }) {\n    var _a;\n    internalLogger.debug('Initializing exceptions API');\n    let lastPayload = null;\n    stacktraceParser = (_a = config.parseStacktrace) !== null && _a !== void 0 ? _a : stacktraceParser;\n    const changeStacktraceParser = (newStacktraceParser) => {\n        internalLogger.debug('Changing stacktrace parser');\n        stacktraceParser = newStacktraceParser !== null && newStacktraceParser !== void 0 ? newStacktraceParser : stacktraceParser;\n    };\n    const getStacktraceParser = () => stacktraceParser;\n    const { ignoreErrors = [], preserveOriginalError } = config;\n    const pushError = (error, { skipDedupe, stackFrames, type, context, spanContext, timestampOverwriteMs } = {}) => {\n        if (isErrorIgnored(ignoreErrors, error)) {\n            return;\n        }\n        try {\n            const ctx = stringifyObjectValues(Object.assign(Object.assign({}, parseCause(error)), (context !== null && context !== void 0 ? context : {})));\n            const item = {\n                meta: metas.value,\n                payload: Object.assign(Object.assign({ type: type || error.name || defaultExceptionType, value: error.message, timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(), trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext() }, (isEmpty(ctx) ? {} : { context: ctx })), (preserveOriginalError ? { originalError: error } : {})),\n                type: TransportItemType.EXCEPTION,\n            };\n            stackFrames = stackFrames !== null && stackFrames !== void 0 ? stackFrames : (error.stack ? stacktraceParser === null || stacktraceParser === void 0 ? void 0 : stacktraceParser(error).frames : undefined);\n            if (stackFrames === null || stackFrames === void 0 ? void 0 : stackFrames.length) {\n                item.payload.stacktrace = {\n                    frames: stackFrames,\n                };\n            }\n            const testingPayload = {\n                type: item.payload.type,\n                value: item.payload.value,\n                stackTrace: item.payload.stacktrace,\n                context: item.payload.context,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping error push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing exception\\n', item);\n            const msg = getMessage();\n            if (msg && msg.type === USER_ACTION_START) {\n                actionBuffer.addItem(item);\n            }\n            else {\n                transports.execute(item);\n            }\n        }\n        catch (err) {\n            internalLogger.error('Error pushing event', err);\n        }\n    };\n    changeStacktraceParser(config.parseStacktrace);\n    return {\n        changeStacktraceParser,\n        getStacktraceParser,\n        pushError,\n    };\n}\nfunction parseCause(error) {\n    let cause = error.cause;\n    if (isError(cause)) {\n        cause = error.cause.toString();\n        // typeof operator on null returns \"object\". This is a well-known quirk in JavaScript and is considered a bug that cannot be fixed due to backward compatibility issues.\n        // MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof#typeof_null\n    }\n    else if (cause !== null && (isObject(error.cause) || isArray(error.cause))) {\n        cause = stringifyExternalJson(error.cause);\n    }\n    else if (cause != null) {\n        cause = error.cause.toString();\n    }\n    return cause == null ? {} : { cause };\n}\nfunction isErrorIgnored(ignoreErrors, error) {\n    const { message, name, stack } = error;\n    return shouldIgnoreEvent(ignoreErrors, message + ' ' + name + ' ' + stack);\n}\n//# sourceMappingURL=initialize.js.map","import { isString } from '../utils/is';\nexport function shouldIgnoreEvent(patterns, msg) {\n    return patterns.some((pattern) => {\n        return isString(pattern) ? msg.includes(pattern) : !!msg.match(pattern);\n    });\n}\n//# sourceMappingURL=utils.js.map","export const defaultLogArgsSerializer = (args) => args\n    .map((arg) => {\n    try {\n        return String(arg);\n    }\n    catch (err) {\n        return '';\n    }\n})\n    .join(' ');\n//# sourceMappingURL=const.js.map","import { isFunction } from '../utils/is';\nexport class ItemBuffer {\n    constructor() {\n        this.buffer = [];\n    }\n    addItem(item) {\n        this.buffer.push(item);\n    }\n    flushBuffer(cb) {\n        if (isFunction(cb)) {\n            for (const item of this.buffer) {\n                cb(item);\n            }\n        }\n        this.buffer.length = 0;\n    }\n    size() {\n        return this.buffer.length;\n    }\n}\n//# sourceMappingURL=ItemBuffer.js.map","import { TransportItemType } from '../transports';\nimport { USER_ACTION_CANCEL, USER_ACTION_END, USER_ACTION_HALT, USER_ACTION_START } from './const';\nimport { ItemBuffer } from './ItemBuffer';\nexport function createUserActionLifecycleHandler({ apiMessageBus, transports, config, }) {\n    const actionBuffer = new ItemBuffer();\n    const trackUserActionsExcludeItem = config.trackUserActionsExcludeItem;\n    let message;\n    apiMessageBus.subscribe((msg) => {\n        if (USER_ACTION_START === msg.type || USER_ACTION_HALT === msg.type) {\n            message = msg;\n            return;\n        }\n        if (msg.type === USER_ACTION_END) {\n            const { id, name } = msg;\n            actionBuffer.flushBuffer((item) => {\n                if (isExcludeFromUserAction(item, trackUserActionsExcludeItem)) {\n                    transports.execute(item);\n                    return;\n                }\n                const userActionItem = Object.assign(Object.assign({}, item), { payload: Object.assign(Object.assign({}, item.payload), { action: {\n                            parentId: id,\n                            name,\n                        } }) });\n                transports.execute(userActionItem);\n            });\n            message = undefined;\n            return;\n        }\n        if (msg.type === USER_ACTION_CANCEL) {\n            message = undefined;\n            actionBuffer.flushBuffer((item) => {\n                transports.execute(item);\n            });\n        }\n    });\n    const getMessage = () => message;\n    return { actionBuffer, getMessage };\n}\nfunction isExcludeFromUserAction(item, trackUserActionsExcludeItem) {\n    return ((trackUserActionsExcludeItem === null || trackUserActionsExcludeItem === void 0 ? void 0 : trackUserActionsExcludeItem(item)) ||\n        (item.type === TransportItemType.MEASUREMENT && item.payload.type === 'web-vitals'));\n}\n//# sourceMappingURL=userActionLifecycleHandler.js.map","import { Observable } from '../utils';\nimport { initializeEventsAPI } from './events';\nimport { initializeExceptionsAPI } from './exceptions';\nimport { initializeLogsAPI } from './logs';\nimport { initializeMeasurementsAPI } from './measurements';\nimport { initializeMetaAPI } from './meta';\nimport { initializeTracesAPI } from './traces';\nimport { createUserActionLifecycleHandler } from './userActionLifecycleHandler';\nexport const apiMessageBus = new Observable();\nexport function initializeAPI(unpatchedConsole, internalLogger, config, metas, transports) {\n    internalLogger.debug('Initializing API');\n    const { actionBuffer, getMessage } = createUserActionLifecycleHandler({ apiMessageBus, transports, config });\n    const tracesApi = initializeTracesAPI(unpatchedConsole, internalLogger, config, metas, transports);\n    const props = {\n        unpatchedConsole,\n        internalLogger,\n        config,\n        metas,\n        transports,\n        tracesApi,\n        actionBuffer,\n        getMessage,\n    };\n    return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, tracesApi), initializeExceptionsAPI(props)), initializeMetaAPI(props)), initializeLogsAPI(props)), initializeMeasurementsAPI(props)), initializeEventsAPI(props));\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nexport function initializeTracesAPI(_unpatchedConsole, internalLogger, _config, metas, transports) {\n    internalLogger.debug('Initializing traces API');\n    let otel = undefined;\n    const initOTEL = (trace, context) => {\n        internalLogger.debug('Initializing OpenTelemetry');\n        otel = {\n            trace,\n            context,\n        };\n    };\n    const getTraceContext = () => {\n        const ctx = otel === null || otel === void 0 ? void 0 : otel.trace.getSpanContext(otel.context.active());\n        return !ctx\n            ? undefined\n            : {\n                trace_id: ctx.traceId,\n                span_id: ctx.spanId,\n            };\n    };\n    const pushTraces = (payload) => {\n        try {\n            const item = {\n                type: TransportItemType.TRACE,\n                payload,\n                meta: metas.value,\n            };\n            internalLogger.debug('Pushing trace\\n', item);\n            transports.execute(item);\n        }\n        catch (err) {\n            internalLogger.error('Error pushing trace\\n', err);\n        }\n    };\n    const getOTEL = () => otel;\n    const isOTELInitialized = () => !!otel;\n    return {\n        getOTEL,\n        getTraceContext,\n        initOTEL,\n        isOTELInitialized,\n        pushTraces,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { isEmpty, isString } from '../../utils/is';\nexport function initializeMetaAPI({ internalLogger, metas, }) {\n    internalLogger.debug('Initializing meta API');\n    let metaSession = undefined;\n    let metaUser = undefined;\n    let metaView = undefined;\n    let metaPage = undefined;\n    const setUser = (user) => {\n        if (metaUser) {\n            metas.remove(metaUser);\n        }\n        metaUser = {\n            user,\n        };\n        metas.add(metaUser);\n    };\n    const setSession = (session, options) => {\n        var _a;\n        const newOverrides = options === null || options === void 0 ? void 0 : options.overrides;\n        const overrides = newOverrides\n            ? {\n                overrides: Object.assign(Object.assign({}, (_a = metaSession === null || metaSession === void 0 ? void 0 : metaSession.session) === null || _a === void 0 ? void 0 : _a.overrides), newOverrides),\n            }\n            : {};\n        if (metaSession) {\n            metas.remove(metaSession);\n        }\n        metaSession = {\n            session: Object.assign(Object.assign({}, (isEmpty(session) ? undefined : session)), overrides),\n        };\n        metas.add(metaSession);\n    };\n    const getSession = () => metas.value.session;\n    const setView = (view, options) => {\n        var _a;\n        if (options === null || options === void 0 ? void 0 : options.overrides) {\n            setSession(getSession(), { overrides: options.overrides });\n        }\n        if (((_a = metaView === null || metaView === void 0 ? void 0 : metaView.view) === null || _a === void 0 ? void 0 : _a.name) === (view === null || view === void 0 ? void 0 : view.name)) {\n            return;\n        }\n        const previousView = metaView;\n        metaView = {\n            view,\n        };\n        metas.add(metaView);\n        if (previousView) {\n            metas.remove(previousView);\n        }\n    };\n    const getView = () => metas.value.view;\n    const setPage = (page) => {\n        var _a;\n        const pageMeta = isString(page)\n            ? Object.assign(Object.assign({}, ((_a = metaPage === null || metaPage === void 0 ? void 0 : metaPage.page) !== null && _a !== void 0 ? _a : getPage())), { id: page }) : page;\n        if (metaPage) {\n            metas.remove(metaPage);\n        }\n        metaPage = {\n            page: pageMeta,\n        };\n        metas.add(metaPage);\n    };\n    const getPage = () => metas.value.page;\n    return {\n        setUser,\n        resetUser: setUser,\n        setSession,\n        resetSession: setSession,\n        getSession,\n        setView,\n        getView,\n        setPage,\n        getPage,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, defaultLogLevel, getCurrentTimestamp, isEmpty, isNull, stringifyObjectValues } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nimport { USER_ACTION_START } from '../const';\nimport { defaultLogArgsSerializer } from './const';\nexport function initializeLogsAPI({ internalLogger, config, metas, transports, tracesApi, actionBuffer, getMessage, }) {\n    var _a;\n    internalLogger.debug('Initializing logs API');\n    let lastPayload = null;\n    const logArgsSerializer = (_a = config.logArgsSerializer) !== null && _a !== void 0 ? _a : defaultLogArgsSerializer;\n    const pushLog = (args, { context, level, skipDedupe, spanContext, timestampOverwriteMs } = {}) => {\n        try {\n            const ctx = stringifyObjectValues(context);\n            const item = {\n                type: TransportItemType.LOG,\n                payload: {\n                    message: logArgsSerializer(args),\n                    level: level !== null && level !== void 0 ? level : defaultLogLevel,\n                    context: isEmpty(ctx) ? undefined : ctx,\n                    timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(),\n                    trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext(),\n                },\n                meta: metas.value,\n            };\n            const testingPayload = {\n                message: item.payload.message,\n                level: item.payload.level,\n                context: item.payload.context,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping log push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing log\\n', item);\n            const msg = getMessage();\n            if (msg && msg.type === USER_ACTION_START) {\n                actionBuffer.addItem(item);\n            }\n            else {\n                transports.execute(item);\n            }\n        }\n        catch (err) {\n            internalLogger.error('Error pushing log\\n', err);\n        }\n    };\n    return {\n        pushLog,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, getCurrentTimestamp, isEmpty, isNull, stringifyObjectValues } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nimport { USER_ACTION_START } from '../const';\nexport function initializeMeasurementsAPI({ internalLogger, config, metas, transports, tracesApi, actionBuffer, getMessage, }) {\n    internalLogger.debug('Initializing measurements API');\n    let lastPayload = null;\n    const pushMeasurement = (payload, { skipDedupe, context, spanContext, timestampOverwriteMs } = {}) => {\n        try {\n            const ctx = stringifyObjectValues(context);\n            const item = {\n                type: TransportItemType.MEASUREMENT,\n                payload: Object.assign(Object.assign({}, payload), { trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext(), timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(), context: isEmpty(ctx) ? undefined : ctx }),\n                meta: metas.value,\n            };\n            const testingPayload = {\n                type: item.payload.type,\n                values: item.payload.values,\n                context: item.payload.context,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping measurement push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing measurement\\n', item);\n            const msg = getMessage();\n            if (msg && msg.type === USER_ACTION_START) {\n                actionBuffer.addItem(item);\n            }\n            else {\n                transports.execute(item);\n            }\n        }\n        catch (err) {\n            internalLogger.error('Error pushing measurement\\n', err);\n        }\n    };\n    return {\n        pushMeasurement,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { TransportItemType } from '../../transports';\nimport { deepEqual, getCurrentTimestamp, isEmpty, isNull, stringifyObjectValues } from '../../utils';\nimport { timestampToIsoString } from '../../utils/date';\nimport { USER_ACTION_START } from '../const';\nexport function initializeEventsAPI({ internalLogger, config, metas, transports, tracesApi, actionBuffer, getMessage, }) {\n    let lastPayload = null;\n    const pushEvent = (name, attributes, domain, { skipDedupe, spanContext, timestampOverwriteMs, customPayloadTransformer = (payload) => payload } = {}) => {\n        try {\n            const attrs = stringifyObjectValues(attributes);\n            const item = {\n                meta: metas.value,\n                payload: customPayloadTransformer({\n                    name,\n                    domain: domain !== null && domain !== void 0 ? domain : config.eventDomain,\n                    attributes: isEmpty(attrs) ? undefined : attrs,\n                    timestamp: timestampOverwriteMs ? timestampToIsoString(timestampOverwriteMs) : getCurrentTimestamp(),\n                    trace: spanContext\n                        ? {\n                            trace_id: spanContext.traceId,\n                            span_id: spanContext.spanId,\n                        }\n                        : tracesApi.getTraceContext(),\n                }),\n                type: TransportItemType.EVENT,\n            };\n            const testingPayload = {\n                name: item.payload.name,\n                attributes: item.payload.attributes,\n                domain: item.payload.domain,\n            };\n            if (!skipDedupe && config.dedupe && !isNull(lastPayload) && deepEqual(testingPayload, lastPayload)) {\n                internalLogger.debug('Skipping event push because it is the same as the last one\\n', item.payload);\n                return;\n            }\n            lastPayload = testingPayload;\n            internalLogger.debug('Pushing event\\n', item);\n            const msg = getMessage();\n            if (msg && msg.type === USER_ACTION_START) {\n                actionBuffer.addItem(item);\n            }\n            else {\n                transports.execute(item);\n            }\n        }\n        catch (err) {\n            internalLogger.error('Error pushing event', err);\n        }\n    };\n    return {\n        pushEvent,\n    };\n}\n//# sourceMappingURL=initialize.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","import { noop } from '../utils';\nexport var InternalLoggerLevel;\n(function (InternalLoggerLevel) {\n    InternalLoggerLevel[InternalLoggerLevel[\"OFF\"] = 0] = \"OFF\";\n    InternalLoggerLevel[InternalLoggerLevel[\"ERROR\"] = 1] = \"ERROR\";\n    InternalLoggerLevel[InternalLoggerLevel[\"WARN\"] = 2] = \"WARN\";\n    InternalLoggerLevel[InternalLoggerLevel[\"INFO\"] = 3] = \"INFO\";\n    InternalLoggerLevel[InternalLoggerLevel[\"VERBOSE\"] = 4] = \"VERBOSE\";\n})(InternalLoggerLevel || (InternalLoggerLevel = {}));\nexport const defaultInternalLoggerPrefix = 'Faro';\nexport const defaultInternalLogger = {\n    debug: noop,\n    error: noop,\n    info: noop,\n    prefix: defaultInternalLoggerPrefix,\n    warn: noop,\n};\nexport const defaultInternalLoggerLevel = InternalLoggerLevel.ERROR;\n//# sourceMappingURL=const.js.map","export const defaultUnpatchedConsole = Object.assign({}, console);\n//# sourceMappingURL=const.js.map","import { defaultUnpatchedConsole } from '../unpatchedConsole';\nimport { noop } from '../utils';\nimport { defaultInternalLogger, defaultInternalLoggerLevel, InternalLoggerLevel } from './const';\nexport function createInternalLogger(unpatchedConsole = defaultUnpatchedConsole, internalLoggerLevel = defaultInternalLoggerLevel) {\n    const internalLogger = defaultInternalLogger;\n    if (internalLoggerLevel > InternalLoggerLevel.OFF) {\n        internalLogger.error =\n            internalLoggerLevel >= InternalLoggerLevel.ERROR\n                ? function (...args) {\n                    unpatchedConsole.error(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n        internalLogger.warn =\n            internalLoggerLevel >= InternalLoggerLevel.WARN\n                ? function (...args) {\n                    unpatchedConsole.warn(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n        internalLogger.info =\n            internalLoggerLevel >= InternalLoggerLevel.INFO\n                ? function (...args) {\n                    unpatchedConsole.info(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n        internalLogger.debug =\n            internalLoggerLevel >= InternalLoggerLevel.VERBOSE\n                ? function (...args) {\n                    unpatchedConsole.debug(`${internalLogger.prefix}\\n`, ...args);\n                }\n                : noop;\n    }\n    return internalLogger;\n}\n//# sourceMappingURL=createInternalLogger.js.map","import { defaultInternalLogger } from './const';\nimport { createInternalLogger } from './createInternalLogger';\nexport let internalLogger = defaultInternalLogger;\nexport function initializeInternalLogger(unpatchedConsole, config) {\n    internalLogger = createInternalLogger(unpatchedConsole, config.internalLoggerLevel);\n    return internalLogger;\n}\n//# sourceMappingURL=initialize.js.map","// This does not uses isUndefined method because it will throw an error in non-browser environments\nexport const globalObject = (typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof global !== 'undefined'\n        ? global\n        : typeof self !== 'undefined'\n            ? self\n            : undefined);\n//# sourceMappingURL=globalObject.js.map","// auto-generated by bin/genVersion.ts\nexport const VERSION = '1.17.2';\n//# sourceMappingURL=version.js.map","export const internalGlobalObjectKey = '_faroInternal';\n//# sourceMappingURL=const.js.map","import { setFaroOnGlobalObject } from './faroGlobalObject';\nimport { setInternalFaroOnGlobalObject } from './internalFaroGlobalObject';\nexport let faro = {};\nexport function registerFaro(unpatchedConsole, internalLogger, config, metas, transports, api, instrumentations) {\n    internalLogger.debug('Initializing Faro');\n    faro = {\n        api,\n        config,\n        instrumentations,\n        internalLogger,\n        metas,\n        pause: transports.pause,\n        transports,\n        unpatchedConsole,\n        unpause: transports.unpause,\n    };\n    setInternalFaroOnGlobalObject(faro);\n    setFaroOnGlobalObject(faro);\n    return faro;\n}\n//# sourceMappingURL=registerFaro.js.map","import { globalObject } from '../globalObject';\nimport { internalGlobalObjectKey } from './const';\nexport function getInternalFromGlobalObject() {\n    return globalObject[internalGlobalObjectKey];\n}\nexport function setInternalFaroOnGlobalObject(faro) {\n    if (!faro.config.isolate) {\n        faro.internalLogger.debug('Registering internal Faro instance on global object');\n        Object.defineProperty(globalObject, internalGlobalObjectKey, {\n            configurable: false,\n            enumerable: false,\n            writable: false,\n            value: faro,\n        });\n    }\n    else {\n        faro.internalLogger.debug('Skipping registering internal Faro instance on global object');\n    }\n}\nexport function isInternalFaroOnGlobalObject() {\n    return internalGlobalObjectKey in globalObject;\n}\n//# sourceMappingURL=internalFaroGlobalObject.js.map","import { globalObject } from '../globalObject';\nexport function setFaroOnGlobalObject(faro) {\n    if (!faro.config.preventGlobalExposure) {\n        faro.internalLogger.debug(`Registering public faro reference in the global scope using \"${faro.config.globalObjectKey}\" key`);\n        if (faro.config.globalObjectKey in globalObject) {\n            faro.internalLogger.warn(`Skipping global registration due to key \"${faro.config.globalObjectKey}\" being used already. Please set \"globalObjectKey\" to something else or set \"preventGlobalExposure\" to \"true\"`);\n            return;\n        }\n        Object.defineProperty(globalObject, faro.config.globalObjectKey, {\n            configurable: false,\n            writable: false,\n            value: faro,\n        });\n    }\n    else {\n        faro.internalLogger.debug('Skipping registering public Faro instance in the global scope');\n    }\n}\n//# sourceMappingURL=faroGlobalObject.js.map","const DEFAULT_SEND_TIMEOUT_MS = 250;\nconst DEFAULT_BATCH_ITEM_LIMIT = 50;\nexport class BatchExecutor {\n    constructor(sendFn, options) {\n        var _a, _b;\n        this.signalBuffer = [];\n        this.itemLimit = (_a = options === null || options === void 0 ? void 0 : options.itemLimit) !== null && _a !== void 0 ? _a : DEFAULT_BATCH_ITEM_LIMIT;\n        this.sendTimeout = (_b = options === null || options === void 0 ? void 0 : options.sendTimeout) !== null && _b !== void 0 ? _b : DEFAULT_SEND_TIMEOUT_MS;\n        this.paused = (options === null || options === void 0 ? void 0 : options.paused) || false;\n        this.sendFn = sendFn;\n        this.flushInterval = -1;\n        if (!this.paused) {\n            this.start();\n        }\n        // Send batched/buffered data when user navigates to new page, switches or closes the tab, minimizes or closes the browser.\n        // If on mobile, it also sends data if user switches from the browser to a different app.\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                this.flush();\n            }\n        });\n    }\n    addItem(item) {\n        if (this.paused) {\n            return;\n        }\n        this.signalBuffer.push(item);\n        if (this.signalBuffer.length >= this.itemLimit) {\n            this.flush();\n        }\n    }\n    start() {\n        this.paused = false;\n        if (this.sendTimeout > 0) {\n            this.flushInterval = window.setInterval(() => this.flush(), this.sendTimeout);\n        }\n    }\n    pause() {\n        this.paused = true;\n        clearInterval(this.flushInterval);\n    }\n    groupItems(items) {\n        const itemMap = new Map();\n        items.forEach((item) => {\n            const metaKey = JSON.stringify(item.meta);\n            let currentItems = itemMap.get(metaKey);\n            if (currentItems === undefined) {\n                currentItems = [item];\n            }\n            else {\n                currentItems = [...currentItems, item];\n            }\n            itemMap.set(metaKey, currentItems);\n        });\n        return Array.from(itemMap.values());\n    }\n    flush() {\n        if (this.paused || this.signalBuffer.length === 0) {\n            return;\n        }\n        const itemGroups = this.groupItems(this.signalBuffer);\n        itemGroups.forEach(this.sendFn);\n        this.signalBuffer = [];\n    }\n}\n//# sourceMappingURL=batchExecutor.js.map","import { BatchExecutor } from './batchExecutor';\nimport { TransportItemType } from './const';\nexport function initializeTransports(unpatchedConsole, internalLogger, config, metas) {\n    var _a;\n    internalLogger.debug('Initializing transports');\n    const transports = [];\n    let paused = config.paused;\n    let beforeSendHooks = [];\n    const add = (...newTransports) => {\n        internalLogger.debug('Adding transports');\n        newTransports.forEach((newTransport) => {\n            internalLogger.debug(`Adding \"${newTransport.name}\" transport`);\n            const exists = transports.some((existingTransport) => existingTransport === newTransport);\n            if (exists) {\n                internalLogger.warn(`Transport ${newTransport.name} is already added`);\n                return;\n            }\n            newTransport.unpatchedConsole = unpatchedConsole;\n            newTransport.internalLogger = internalLogger;\n            newTransport.config = config;\n            newTransport.metas = metas;\n            transports.push(newTransport);\n        });\n    };\n    const addBeforeSendHooks = (...newBeforeSendHooks) => {\n        internalLogger.debug('Adding beforeSendHooks\\n', beforeSendHooks);\n        newBeforeSendHooks.forEach((beforeSendHook) => {\n            if (beforeSendHook) {\n                beforeSendHooks.push(beforeSendHook);\n            }\n        });\n    };\n    const applyBeforeSendHooks = (items) => {\n        let filteredItems = items;\n        for (const hook of beforeSendHooks) {\n            const modified = filteredItems.map(hook).filter(Boolean);\n            if (modified.length === 0) {\n                return [];\n            }\n            filteredItems = sanitizeItems(modified, config);\n        }\n        return filteredItems;\n    };\n    const batchedSend = (items) => {\n        const filteredItems = applyBeforeSendHooks(items);\n        if (filteredItems.length === 0) {\n            return;\n        }\n        for (const transport of transports) {\n            internalLogger.debug(`Transporting item using ${transport.name}\\n`, filteredItems);\n            if (transport.isBatched()) {\n                transport.send(filteredItems);\n            }\n        }\n    };\n    const instantSend = (item) => {\n        var _a, _b;\n        // prevent all beforeSend hooks being executed twice if batching is enabled.\n        if (((_a = config.batching) === null || _a === void 0 ? void 0 : _a.enabled) && transports.every((transport) => transport.isBatched())) {\n            return;\n        }\n        const [filteredItem] = applyBeforeSendHooks([item]);\n        if (filteredItem === undefined) {\n            return;\n        }\n        for (const transport of transports) {\n            internalLogger.debug(`Transporting item using ${transport.name}\\n`, filteredItem);\n            if (!transport.isBatched()) {\n                transport.send(filteredItem);\n            }\n            else if (!((_b = config.batching) === null || _b === void 0 ? void 0 : _b.enabled)) {\n                transport.send([filteredItem]);\n            }\n        }\n    };\n    let batchExecutor;\n    if ((_a = config.batching) === null || _a === void 0 ? void 0 : _a.enabled) {\n        batchExecutor = new BatchExecutor(batchedSend, {\n            sendTimeout: config.batching.sendTimeout,\n            itemLimit: config.batching.itemLimit,\n            paused,\n        });\n    }\n    // Send a signal to the appropriate transports\n    //\n    // 1. If SDK is paused, early return\n    // 2. If batching is not enabled send the signal to all transports\n    //    instantly.\n    // 3i. If batching is enabled, enqueue the signal\n    // 3ii. Send the signal instantly to all un-batched transports\n    const execute = (item) => {\n        var _a;\n        if (paused) {\n            return;\n        }\n        if ((_a = config.batching) === null || _a === void 0 ? void 0 : _a.enabled) {\n            batchExecutor === null || batchExecutor === void 0 ? void 0 : batchExecutor.addItem(item);\n        }\n        instantSend(item);\n    };\n    const getBeforeSendHooks = () => [...beforeSendHooks];\n    const isPaused = () => paused;\n    const pause = () => {\n        internalLogger.debug('Pausing transports');\n        batchExecutor === null || batchExecutor === void 0 ? void 0 : batchExecutor.pause();\n        paused = true;\n    };\n    const remove = (...transportsToRemove) => {\n        internalLogger.debug('Removing transports');\n        transportsToRemove.forEach((transportToRemove) => {\n            internalLogger.debug(`Removing \"${transportToRemove.name}\" transport`);\n            const existingTransportIndex = transports.indexOf(transportToRemove);\n            if (existingTransportIndex === -1) {\n                internalLogger.warn(`Transport \"${transportToRemove.name}\" is not added`);\n                return;\n            }\n            transports.splice(existingTransportIndex, 1);\n        });\n    };\n    const removeBeforeSendHooks = (...beforeSendHooksToRemove) => {\n        beforeSendHooks.filter((beforeSendHook) => !beforeSendHooksToRemove.includes(beforeSendHook));\n    };\n    const unpause = () => {\n        internalLogger.debug('Unpausing transports');\n        batchExecutor === null || batchExecutor === void 0 ? void 0 : batchExecutor.start();\n        paused = false;\n    };\n    return {\n        add,\n        addBeforeSendHooks,\n        getBeforeSendHooks,\n        execute,\n        isPaused,\n        pause,\n        remove,\n        removeBeforeSendHooks,\n        get transports() {\n            return [...transports];\n        },\n        unpause,\n    };\n}\n/**\n * Removes the `payload.originalError` property from the provided `TransportItem[]` parameter.\n */\nfunction sanitizeItems(filteredItems, config) {\n    if (config.preserveOriginalError) {\n        for (const item of filteredItems) {\n            if (item.type === TransportItemType.EXCEPTION) {\n                delete item.payload.originalError;\n            }\n        }\n    }\n    return filteredItems;\n}\n//# sourceMappingURL=initialize.js.map","import { defaultUnpatchedConsole } from './const';\nexport let unpatchedConsole = defaultUnpatchedConsole;\nexport function initializeUnpatchedConsole(config) {\n    var _a;\n    unpatchedConsole = (_a = config.unpatchedConsole) !== null && _a !== void 0 ? _a : unpatchedConsole;\n    return unpatchedConsole;\n}\n//# sourceMappingURL=initialize.js.map","import { initializeAPI } from './api';\nimport { initializeInstrumentations, registerInitialInstrumentations } from './instrumentations';\nimport { initializeInternalLogger } from './internalLogger';\nimport { initializeMetas, registerInitialMetas } from './metas';\nimport { isInternalFaroOnGlobalObject, registerFaro } from './sdk';\nimport { initializeTransports, registerInitialTransports } from './transports';\nimport { initializeUnpatchedConsole } from './unpatchedConsole';\nexport function initializeFaro(config) {\n    const unpatchedConsole = initializeUnpatchedConsole(config);\n    const internalLogger = initializeInternalLogger(unpatchedConsole, config);\n    if (isInternalFaroOnGlobalObject() && !config.isolate) {\n        internalLogger.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the \"isolate\" property');\n        return undefined;\n    }\n    internalLogger.debug('Initializing');\n    // Initializing the APIs\n    const metas = initializeMetas(unpatchedConsole, internalLogger, config);\n    const transports = initializeTransports(unpatchedConsole, internalLogger, config, metas);\n    const api = initializeAPI(unpatchedConsole, internalLogger, config, metas, transports);\n    const instrumentations = initializeInstrumentations(unpatchedConsole, internalLogger, config, metas, transports, api);\n    const faro = registerFaro(unpatchedConsole, internalLogger, config, metas, transports, api, instrumentations);\n    // make sure Faro is initialized before registering default metas, instrumentations, transports etc.\n    registerInitialMetas(faro);\n    registerInitialTransports(faro);\n    registerInitialInstrumentations(faro);\n    return faro;\n}\n//# sourceMappingURL=initialize.js.map","import { isFunction } from '../utils';\nexport function initializeMetas(_unpatchedConsole, internalLogger, _config) {\n    let items = [];\n    let listeners = [];\n    const getValue = () => items.reduce((acc, item) => Object.assign(acc, isFunction(item) ? item() : item), {});\n    const notifyListeners = () => {\n        if (listeners.length) {\n            const value = getValue();\n            listeners.forEach((listener) => listener(value));\n        }\n    };\n    const add = (...newItems) => {\n        internalLogger.debug('Adding metas\\n', newItems);\n        items.push(...newItems);\n        notifyListeners();\n    };\n    const remove = (...itemsToRemove) => {\n        internalLogger.debug('Removing metas\\n', itemsToRemove);\n        items = items.filter((currentItem) => !itemsToRemove.includes(currentItem));\n        notifyListeners();\n    };\n    const addListener = (listener) => {\n        internalLogger.debug('Adding metas listener\\n', listener);\n        listeners.push(listener);\n    };\n    const removeListener = (listener) => {\n        internalLogger.debug('Removing metas listener\\n', listener);\n        listeners = listeners.filter((currentListener) => currentListener !== listener);\n    };\n    return {\n        add,\n        remove,\n        addListener,\n        removeListener,\n        get value() {\n            return getValue();\n        },\n    };\n}\n//# sourceMappingURL=initialize.js.map","export function initializeInstrumentations(unpatchedConsole, internalLogger, config, metas, transports, api) {\n    internalLogger.debug('Initializing instrumentations');\n    const instrumentations = [];\n    const add = (...newInstrumentations) => {\n        internalLogger.debug('Adding instrumentations');\n        newInstrumentations.forEach((newInstrumentation) => {\n            internalLogger.debug(`Adding \"${newInstrumentation.name}\" instrumentation`);\n            const exists = instrumentations.some((existingInstrumentation) => existingInstrumentation.name === newInstrumentation.name);\n            if (exists) {\n                internalLogger.warn(`Instrumentation ${newInstrumentation.name} is already added`);\n                return;\n            }\n            newInstrumentation.unpatchedConsole = unpatchedConsole;\n            newInstrumentation.internalLogger = internalLogger;\n            newInstrumentation.config = config;\n            newInstrumentation.metas = metas;\n            newInstrumentation.transports = transports;\n            newInstrumentation.api = api;\n            instrumentations.push(newInstrumentation);\n            newInstrumentation.initialize();\n        });\n    };\n    const remove = (...instrumentationsToRemove) => {\n        internalLogger.debug('Removing instrumentations');\n        instrumentationsToRemove.forEach((instrumentationToRemove) => {\n            var _a, _b;\n            internalLogger.debug(`Removing \"${instrumentationToRemove.name}\" instrumentation`);\n            const existingInstrumentationIndex = instrumentations.reduce((acc, existingInstrumentation, existingTransportIndex) => {\n                if (acc === null && existingInstrumentation.name === instrumentationToRemove.name) {\n                    return existingTransportIndex;\n                }\n                return null;\n            }, null);\n            if (!existingInstrumentationIndex) {\n                internalLogger.warn(`Instrumentation \"${instrumentationToRemove.name}\" is not added`);\n                return;\n            }\n            (_b = (_a = instrumentations[existingInstrumentationIndex]).destroy) === null || _b === void 0 ? void 0 : _b.call(_a);\n            instrumentations.splice(existingInstrumentationIndex, 1);\n        });\n    };\n    return {\n        add,\n        get instrumentations() {\n            return [...instrumentations];\n        },\n        remove,\n    };\n}\n//# sourceMappingURL=initialize.js.map","import { getBundleId } from '../utils/sourceMaps';\nimport { VERSION } from '../version';\nexport function registerInitialMetas(faro) {\n    var _a, _b;\n    const initial = {\n        sdk: {\n            version: VERSION,\n        },\n        app: {\n            bundleId: faro.config.app.name && getBundleId(faro.config.app.name),\n        },\n    };\n    const session = (_a = faro.config.sessionTracking) === null || _a === void 0 ? void 0 : _a.session;\n    if (session) {\n        faro.api.setSession(session);\n    }\n    if (faro.config.app) {\n        initial.app = Object.assign(Object.assign({}, faro.config.app), initial.app);\n    }\n    if (faro.config.user) {\n        initial.user = faro.config.user;\n    }\n    if (faro.config.view) {\n        initial.view = faro.config.view;\n    }\n    faro.metas.add(initial, ...((_b = faro.config.metas) !== null && _b !== void 0 ? _b : []));\n}\n//# sourceMappingURL=registerInitial.js.map","import { globalObject } from '../globalObject';\nexport function getBundleId(appName) {\n    return globalObject === null || globalObject === void 0 ? void 0 : globalObject[`__faroBundleId_${appName}`];\n}\n//# sourceMappingURL=sourceMaps.js.map","export function registerInitialTransports(faro) {\n    faro.transports.add(...faro.config.transports);\n    faro.transports.addBeforeSendHooks(faro.config.beforeSend);\n}\n//# sourceMappingURL=registerInitial.js.map","export function registerInitialInstrumentations(faro) {\n    faro.instrumentations.add(...faro.config.instrumentations);\n}\n//# sourceMappingURL=registerInitial.js.map","export const defaultGlobalObjectKey = 'faro';\nexport const defaultBatchingConfig = {\n    enabled: true,\n    sendTimeout: 250,\n    itemLimit: 50,\n};\n//# sourceMappingURL=const.js.map","export const defaultEventDomain = 'browser';\n//# sourceMappingURL=consts.js.map","export const newLineString = '\\n';\nexport const evalString = 'eval';\nexport const unknownSymbolString = '?';\nexport const atString = '@';\nexport const webkitLineRegex = /^\\s*at (?:(.*\\).*?|.*?) ?\\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nexport const webkitEvalRegex = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\nexport const webkitEvalString = 'eval';\nexport const webkitAddressAtString = 'address at ';\nexport const webkitAddressAtStringLength = webkitAddressAtString.length;\nexport const firefoxLineRegex = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\\/.*?|\\[native code]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nexport const firefoxEvalRegex = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nexport const firefoxEvalString = ' > eval';\nexport const safariExtensionString = 'safari-extension';\nexport const safariWebExtensionString = 'safari-web-extension';\nexport const reactMinifiedRegex = /Minified React error #\\d+;/i;\n//# sourceMappingURL=const.js.map","import { unknownSymbolString } from './const';\nexport function buildStackFrame(filename, func, lineno, colno) {\n    const stackFrame = {\n        filename: filename || document.location.href,\n        function: func || unknownSymbolString,\n    };\n    if (lineno !== undefined) {\n        stackFrame.lineno = lineno;\n    }\n    if (colno !== undefined) {\n        stackFrame.colno = colno;\n    }\n    return stackFrame;\n}\n//# sourceMappingURL=buildStackFrame.js.map","import { atString, safariExtensionString, safariWebExtensionString } from './const';\nexport function getDataFromSafariExtensions(func, filename) {\n    const isSafariExtension = func === null || func === void 0 ? void 0 : func.includes(safariExtensionString);\n    const isSafariWebExtension = !isSafariExtension && (func === null || func === void 0 ? void 0 : func.includes(safariWebExtensionString));\n    if (!isSafariExtension && !isSafariWebExtension) {\n        return [func, filename];\n    }\n    return [\n        (func === null || func === void 0 ? void 0 : func.includes(atString)) ? func.split(atString)[0] : func,\n        isSafariExtension ? `${safariExtensionString}:${filename}` : `${safariWebExtensionString}:${filename}`,\n    ];\n}\n//# sourceMappingURL=getDataFromSafariExtensions.js.map","import { isNumber } from '@grafana/faro-core';\nimport { buildStackFrame } from './buildStackFrame';\nimport { evalString, firefoxEvalRegex, firefoxEvalString, firefoxLineRegex, newLineString, reactMinifiedRegex, webkitAddressAtString, webkitAddressAtStringLength, webkitEvalRegex, webkitEvalString, webkitLineRegex, } from './const';\nimport { getDataFromSafariExtensions } from './getDataFromSafariExtensions';\nexport function getStackFramesFromError(error) {\n    let lines = [];\n    if (error.stacktrace) {\n        lines = error.stacktrace.split(newLineString).filter((_line, idx) => idx % 2 === 0);\n    }\n    else if (error.stack) {\n        lines = error.stack.split(newLineString);\n    }\n    const stackFrames = lines.reduce((acc, line, idx) => {\n        let parts;\n        let func;\n        let filename;\n        let lineno;\n        let colno;\n        if ((parts = webkitLineRegex.exec(line))) {\n            func = parts[1];\n            filename = parts[2];\n            lineno = parts[3];\n            colno = parts[4];\n            if (filename === null || filename === void 0 ? void 0 : filename.startsWith(webkitEvalString)) {\n                const submatch = webkitEvalRegex.exec(filename);\n                if (submatch) {\n                    filename = submatch[1];\n                    lineno = submatch[2];\n                    colno = submatch[3];\n                }\n            }\n            filename = (filename === null || filename === void 0 ? void 0 : filename.startsWith(webkitAddressAtString))\n                ? filename.substring(webkitAddressAtStringLength)\n                : filename;\n            [func, filename] = getDataFromSafariExtensions(func, filename);\n        }\n        else if ((parts = firefoxLineRegex.exec(line))) {\n            func = parts[1];\n            filename = parts[3];\n            lineno = parts[4];\n            colno = parts[5];\n            if (!!filename && filename.includes(firefoxEvalString)) {\n                const submatch = firefoxEvalRegex.exec(filename);\n                if (submatch) {\n                    func = func || evalString;\n                    filename = submatch[1];\n                    lineno = submatch[2];\n                }\n            }\n            else if (idx === 0 && !colno && isNumber(error.columnNumber)) {\n                colno = String(error.columnNumber + 1);\n            }\n            [func, filename] = getDataFromSafariExtensions(func, filename);\n        }\n        if (filename || func) {\n            acc.push(buildStackFrame(filename, func, lineno ? Number(lineno) : undefined, colno ? Number(colno) : undefined));\n        }\n        return acc;\n    }, []);\n    if (reactMinifiedRegex.test(error.message)) {\n        return stackFrames.slice(1);\n    }\n    return stackFrames;\n}\n//# sourceMappingURL=getStackFramesFromError.js.map","import { getStackFramesFromError } from './getStackFramesFromError';\nexport function parseStacktrace(error) {\n    return {\n        frames: getStackFramesFromError(error),\n    };\n}\n//# sourceMappingURL=parseStacktrace.js.map","export const STORAGE_KEY = 'com.grafana.faro.session';\nexport const SESSION_EXPIRATION_TIME = 4 * 60 * 60 * 1000; // hrs\nexport const SESSION_INACTIVITY_TIME = 15 * 60 * 1000; // minutes\nexport const STORAGE_UPDATE_DELAY = 1 * 1000; // seconds\n/**\n * @deprecated MAX_SESSION_PERSISTENCE_TIME_BUFFER is not used anymore. The constant will be removed in the future\n */\nexport const MAX_SESSION_PERSISTENCE_TIME_BUFFER = 1 * 60 * 1000;\nexport const MAX_SESSION_PERSISTENCE_TIME = SESSION_INACTIVITY_TIME;\nexport const defaultSessionTrackingConfig = {\n    enabled: true,\n    persistent: false,\n    maxSessionPersistenceTime: MAX_SESSION_PERSISTENCE_TIME,\n};\n//# sourceMappingURL=sessionConstants.js.map","export const MESSAGE_TYPE_RESOURCE_ENTRY = 'resource-entry';\nexport const MESSAGE_TYPE_HTTP_REQUEST_START = 'http-request-start';\nexport const MESSAGE_TYPE_HTTP_REQUEST_END = 'http-request-end';\nexport const MESSAGE_TYPE_DOM_MUTATION = 'dom-mutation';\nexport const userActionDataAttributeParsed = 'faroUserActionName';\nexport const userActionDataAttribute = 'data-faro-user-action-name';\n//# sourceMappingURL=const.js.map","export const unknownString = 'unknown';\n//# sourceMappingURL=consts.js.map","import { UAParser } from 'ua-parser-js';\nimport { unknownString } from '@grafana/faro-core';\nexport const browserMeta = () => {\n    const parser = new UAParser();\n    const { name, version } = parser.getBrowser();\n    const { name: osName, version: osVersion } = parser.getOS();\n    const userAgent = parser.getUA();\n    const language = navigator.language;\n    const mobile = navigator.userAgent.includes('Mobi');\n    const brands = getBrands();\n    return {\n        browser: {\n            name: name !== null && name !== void 0 ? name : unknownString,\n            version: version !== null && version !== void 0 ? version : unknownString,\n            os: `${osName !== null && osName !== void 0 ? osName : unknownString} ${osVersion !== null && osVersion !== void 0 ? osVersion : unknownString}`,\n            userAgent: userAgent !== null && userAgent !== void 0 ? userAgent : unknownString,\n            language: language !== null && language !== void 0 ? language : unknownString,\n            mobile,\n            brands: brands !== null && brands !== void 0 ? brands : unknownString,\n            viewportWidth: `${window.innerWidth}`,\n            viewportHeight: `${window.innerHeight}`,\n        },\n    };\n    function getBrands() {\n        if (!name || !version) {\n            return undefined;\n        }\n        if ('userAgentData' in navigator && navigator.userAgentData) {\n            // userAgentData in experimental (only Chrome supports it) thus TS does not ship the respective type declarations\n            return navigator.userAgentData.brands;\n        }\n        return undefined;\n    }\n};\n//# sourceMappingURL=meta.js.map","export const k6Meta = () => {\n    const k6Properties = window.k6;\n    return {\n        k6: Object.assign({ \n            // we only add the k6 meta if Faro is running inside a k6 environment, so this is always true\n            isK6Browser: true }, ((k6Properties === null || k6Properties === void 0 ? void 0 : k6Properties.testRunId) && { testRunId: k6Properties === null || k6Properties === void 0 ? void 0 : k6Properties.testRunId })),\n    };\n};\n//# sourceMappingURL=meta.js.map","import { isFunction } from '@grafana/faro-core';\nlet currentHref;\nlet pageId;\nexport function createPageMeta({ generatePageId, initialPageMeta } = {}) {\n    const pageMeta = () => {\n        const locationHref = location.href;\n        if (isFunction(generatePageId) && currentHref !== locationHref) {\n            currentHref = locationHref;\n            pageId = generatePageId(location);\n        }\n        return {\n            page: Object.assign(Object.assign({ url: locationHref }, (pageId ? { id: pageId } : {})), initialPageMeta),\n        };\n    };\n    return pageMeta;\n}\n//# sourceMappingURL=meta.js.map","import { defaultInternalLogger } from '../internalLogger';\nimport { defaultUnpatchedConsole } from '../unpatchedConsole';\nexport class BaseExtension {\n    constructor() {\n        this.unpatchedConsole = defaultUnpatchedConsole;\n        this.internalLogger = defaultInternalLogger;\n        this.config = {};\n        this.metas = {};\n    }\n    logDebug(...args) {\n        this.internalLogger.debug(`${this.name}\\n`, ...args);\n    }\n    logInfo(...args) {\n        this.internalLogger.info(`${this.name}\\n`, ...args);\n    }\n    logWarn(...args) {\n        this.internalLogger.warn(`${this.name}\\n`, ...args);\n    }\n    logError(...args) {\n        this.internalLogger.error(`${this.name}\\n`, ...args);\n    }\n}\n//# sourceMappingURL=baseExtension.js.map","import { BaseExtension } from '../extensions';\nexport class BaseTransport extends BaseExtension {\n    isBatched() {\n        return false;\n    }\n    getIgnoreUrls() {\n        return [];\n    }\n}\n//# sourceMappingURL=base.js.map","import { TransportItemType, transportItemTypeToBodyKey } from './const';\nexport function mergeResourceSpans(traces, resourceSpans) {\n    var _a, _b;\n    if (resourceSpans === undefined) {\n        return traces;\n    }\n    if (traces === undefined) {\n        return {\n            resourceSpans,\n        };\n    }\n    const currentResource = (_a = traces.resourceSpans) === null || _a === void 0 ? void 0 : _a[0];\n    if (currentResource === undefined) {\n        return traces;\n    }\n    const currentSpans = (currentResource === null || currentResource === void 0 ? void 0 : currentResource.scopeSpans) || [];\n    const newSpans = ((_b = resourceSpans === null || resourceSpans === void 0 ? void 0 : resourceSpans[0]) === null || _b === void 0 ? void 0 : _b.scopeSpans) || [];\n    return Object.assign(Object.assign({}, traces), { resourceSpans: [\n            Object.assign(Object.assign({}, currentResource), { scopeSpans: [...currentSpans, ...newSpans] }),\n        ] });\n}\nexport function getTransportBody(item) {\n    let body = {\n        meta: {},\n    };\n    if (item[0] !== undefined) {\n        body.meta = item[0].meta;\n    }\n    item.forEach((currentItem) => {\n        switch (currentItem.type) {\n            case TransportItemType.LOG:\n            case TransportItemType.EVENT:\n            case TransportItemType.EXCEPTION:\n            case TransportItemType.MEASUREMENT:\n                const bk = transportItemTypeToBodyKey[currentItem.type];\n                const signals = body[bk];\n                body = Object.assign(Object.assign({}, body), { [bk]: signals === undefined ? [currentItem.payload] : [...signals, currentItem.payload] });\n                break;\n            case TransportItemType.TRACE:\n                body = Object.assign(Object.assign({}, body), { traces: mergeResourceSpans(body.traces, currentItem.payload.resourceSpans) });\n                break;\n        }\n    });\n    return body;\n}\n//# sourceMappingURL=utils.js.map","/**\n * Tail based throttle which caches the args of the last call and updates\n */\nexport function throttle(callback, delay) {\n    let pause = false;\n    let lastPending;\n    const timeoutBehavior = () => {\n        if (lastPending == null) {\n            pause = false;\n            return;\n        }\n        callback(...lastPending);\n        lastPending = null;\n        setTimeout(timeoutBehavior, delay);\n    };\n    return (...args) => {\n        if (pause) {\n            lastPending = args;\n            return;\n        }\n        callback(...args);\n        pause = true;\n        setTimeout(timeoutBehavior, delay);\n    };\n}\n//# sourceMappingURL=throttle.js.map","import { faro } from '@grafana/faro-core';\nexport const webStorageType = {\n    session: 'sessionStorage',\n    local: 'localStorage',\n};\n/**\n * Check if selected web storage mechanism is available.\n * @param type storage mechanism to test availability for.\n * @returns\n */\nexport function isWebStorageAvailable(type) {\n    var _a;\n    try {\n        let storage;\n        storage = window[type];\n        const testItem = '__faro_storage_test__';\n        storage.setItem(testItem, testItem);\n        storage.removeItem(testItem);\n        return true;\n    }\n    catch (error) {\n        // the above can throw\n        (_a = faro.internalLogger) === null || _a === void 0 ? void 0 : _a.info(`Web storage of type ${type} is not available. Reason: ${error}`);\n        return false;\n    }\n}\n/**\n * Get item from SessionStorage or LocalStorage.\n * @param key: the item key.\n * @param webStorageMechanism: wether the item shall be received form local storage or session storage. Defaults to local storage.\n */\nexport function getItem(key, webStorageMechanism) {\n    if (isWebStorageTypeAvailable(webStorageMechanism)) {\n        return window[webStorageMechanism].getItem(key);\n    }\n    return null;\n}\n/**\n * Store item in SessionStorage or LocalStorage.\n * @param key: the item key.\n * @param value: the item data.\n * @param webStorageMechanism: wether the item shall be received form local storage or session storage. Defaults to local storage.\n */\nexport function setItem(key, value, webStorageMechanism) {\n    if (isWebStorageTypeAvailable(webStorageMechanism)) {\n        try {\n            window[webStorageMechanism].setItem(key, value);\n        }\n        catch (error) {\n            // do nothing\n        }\n    }\n}\n/**\n * Remove item from SessionStorage or LocalStorage.\n * @param key: the item key.\n * @param webStorageMechanism: wether the item shall be received form local storage or session storage. Defaults to local storage.\n */\nexport function removeItem(key, webStorageMechanism) {\n    if (isWebStorageTypeAvailable(webStorageMechanism)) {\n        window[webStorageMechanism].removeItem(key);\n    }\n}\nexport const isLocalStorageAvailable = isWebStorageAvailable(webStorageType.local);\nexport const isSessionStorageAvailable = isWebStorageAvailable(webStorageType.session);\nfunction isWebStorageTypeAvailable(webStorageMechanism) {\n    if (webStorageMechanism === webStorageType.local) {\n        return isLocalStorageAvailable;\n    }\n    if (webStorageMechanism === webStorageType.session) {\n        return isSessionStorageAvailable;\n    }\n    return false;\n}\n//# sourceMappingURL=webStorage.js.map","const alphabet = 'abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789';\nexport function genShortID(length = 10) {\n    return Array.from(Array(length))\n        .map(() => alphabet[Math.floor(Math.random() * alphabet.length)])\n        .join('');\n}\n//# sourceMappingURL=shortId.js.map","/**\n * @deprecated The conventions object will be removed in a future version\n */\nexport const Conventions = {\n    /**\n     * @deprecated The event names object will be removed in a future version\n     */\n    EventNames: {\n        CLICK: 'click',\n        NAVIGATION: 'navigation',\n        SESSION_START: 'session_start',\n        VIEW_CHANGED: 'view_changed',\n    },\n};\nexport const EVENT_CLICK = 'click';\nexport const EVENT_NAVIGATION = 'navigation';\nexport const EVENT_VIEW_CHANGED = 'view_changed';\nexport const EVENT_SESSION_START = 'session_start';\nexport const EVENT_SESSION_RESUME = 'session_resume';\nexport const EVENT_SESSION_EXTEND = 'session_extend';\nexport const EVENT_OVERRIDES_SERVICE_NAME = 'service_name_override';\nexport const EVENT_ROUTE_CHANGE = 'route_change';\n//# sourceMappingURL=semantic.js.map","import { faro } from '@grafana/faro-core';\nexport function isSampled() {\n    var _a, _b, _c;\n    const sendAllSignals = 1;\n    const sessionTracking = faro.config.sessionTracking;\n    let samplingRate = (_c = (_b = (_a = sessionTracking === null || sessionTracking === void 0 ? void 0 : sessionTracking.sampler) === null || _a === void 0 ? void 0 : _a.call(sessionTracking, { metas: faro.metas.value })) !== null && _b !== void 0 ? _b : sessionTracking === null || sessionTracking === void 0 ? void 0 : sessionTracking.samplingRate) !== null && _c !== void 0 ? _c : sendAllSignals;\n    if (typeof samplingRate !== 'number') {\n        const sendNoSignals = 0;\n        samplingRate = sendNoSignals;\n    }\n    return Math.random() < samplingRate;\n}\n//# sourceMappingURL=sampling.js.map","import { dateNow, deepEqual, EVENT_OVERRIDES_SERVICE_NAME, faro, genShortID, isEmpty } from '@grafana/faro-core';\nimport { isLocalStorageAvailable, isSessionStorageAvailable } from '../../../utils';\nimport { isSampled } from './sampling';\nimport { SESSION_EXPIRATION_TIME, SESSION_INACTIVITY_TIME } from './sessionConstants';\nexport function createUserSessionObject({ sessionId, started, lastActivity, isSampled = true, } = {}) {\n    var _a, _b;\n    const now = dateNow();\n    const generateSessionId = (_b = (_a = faro.config) === null || _a === void 0 ? void 0 : _a.sessionTracking) === null || _b === void 0 ? void 0 : _b.generateSessionId;\n    if (sessionId == null) {\n        sessionId = typeof generateSessionId === 'function' ? generateSessionId() : genShortID();\n    }\n    return {\n        sessionId,\n        lastActivity: lastActivity !== null && lastActivity !== void 0 ? lastActivity : now,\n        started: started !== null && started !== void 0 ? started : now,\n        isSampled: isSampled,\n    };\n}\nexport function isUserSessionValid(session) {\n    if (session == null) {\n        return false;\n    }\n    const now = dateNow();\n    const lifetimeValid = now - session.started < SESSION_EXPIRATION_TIME;\n    if (!lifetimeValid) {\n        return false;\n    }\n    const inactivityPeriodValid = now - session.lastActivity < SESSION_INACTIVITY_TIME;\n    return inactivityPeriodValid;\n}\nexport function getUserSessionUpdater({ fetchUserSession, storeUserSession, }) {\n    return function updateSession({ forceSessionExtend } = { forceSessionExtend: false }) {\n        var _a, _b, _c;\n        if (!fetchUserSession || !storeUserSession) {\n            return;\n        }\n        const sessionTrackingConfig = faro.config.sessionTracking;\n        const isPersistentSessions = sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.persistent;\n        if ((isPersistentSessions && !isLocalStorageAvailable) || (!isPersistentSessions && !isSessionStorageAvailable)) {\n            return;\n        }\n        const sessionFromStorage = fetchUserSession();\n        if (forceSessionExtend === false && isUserSessionValid(sessionFromStorage)) {\n            storeUserSession(Object.assign(Object.assign({}, sessionFromStorage), { lastActivity: dateNow() }));\n        }\n        else {\n            let newSession = addSessionMetadataToNextSession(createUserSessionObject({ isSampled: isSampled() }), sessionFromStorage);\n            storeUserSession(newSession);\n            (_a = faro.api) === null || _a === void 0 ? void 0 : _a.setSession(newSession.sessionMeta);\n            (_b = sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.onSessionChange) === null || _b === void 0 ? void 0 : _b.call(sessionTrackingConfig, (_c = sessionFromStorage === null || sessionFromStorage === void 0 ? void 0 : sessionFromStorage.sessionMeta) !== null && _c !== void 0 ? _c : null, newSession.sessionMeta);\n        }\n    };\n}\nexport function addSessionMetadataToNextSession(newSession, previousSession) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const sessionWithMeta = Object.assign(Object.assign({}, newSession), { sessionMeta: {\n            id: newSession.sessionId,\n            attributes: Object.assign(Object.assign(Object.assign({}, (_b = (_a = faro.config.sessionTracking) === null || _a === void 0 ? void 0 : _a.session) === null || _b === void 0 ? void 0 : _b.attributes), ((_d = (_c = faro.metas.value.session) === null || _c === void 0 ? void 0 : _c.attributes) !== null && _d !== void 0 ? _d : {})), { isSampled: newSession.isSampled.toString() }),\n        } });\n    const overrides = (_f = (_e = faro.metas.value.session) === null || _e === void 0 ? void 0 : _e.overrides) !== null && _f !== void 0 ? _f : (_g = previousSession === null || previousSession === void 0 ? void 0 : previousSession.sessionMeta) === null || _g === void 0 ? void 0 : _g.overrides;\n    if (!isEmpty(overrides)) {\n        sessionWithMeta.sessionMeta.overrides = overrides;\n    }\n    const previousSessionId = previousSession === null || previousSession === void 0 ? void 0 : previousSession.sessionId;\n    if (previousSessionId != null) {\n        sessionWithMeta.sessionMeta.attributes['previousSession'] = previousSessionId;\n    }\n    return sessionWithMeta;\n}\nexport function getSessionMetaUpdateHandler({ fetchUserSession, storeUserSession, }) {\n    return function syncSessionIfChangedExternally(meta) {\n        const session = meta.session;\n        const sessionFromSessionStorage = fetchUserSession();\n        let sessionId = session === null || session === void 0 ? void 0 : session.id;\n        const sessionAttributes = session === null || session === void 0 ? void 0 : session.attributes;\n        const sessionOverrides = session === null || session === void 0 ? void 0 : session.overrides;\n        const storedSessionMeta = sessionFromSessionStorage === null || sessionFromSessionStorage === void 0 ? void 0 : sessionFromSessionStorage.sessionMeta;\n        const storedSessionMetaOverrides = storedSessionMeta === null || storedSessionMeta === void 0 ? void 0 : storedSessionMeta.overrides;\n        const hasSessionOverridesChanged = !!sessionOverrides && !deepEqual(sessionOverrides, storedSessionMetaOverrides);\n        const hasAttributesChanged = !!sessionAttributes && !deepEqual(sessionAttributes, storedSessionMeta === null || storedSessionMeta === void 0 ? void 0 : storedSessionMeta.attributes);\n        const hasSessionIdChanged = !!session && sessionId !== (sessionFromSessionStorage === null || sessionFromSessionStorage === void 0 ? void 0 : sessionFromSessionStorage.sessionId);\n        if (hasSessionIdChanged || hasAttributesChanged || hasSessionOverridesChanged) {\n            const userSession = addSessionMetadataToNextSession(createUserSessionObject({ sessionId, isSampled: isSampled() }), sessionFromSessionStorage);\n            storeUserSession(userSession);\n            sendOverrideEvent(hasSessionOverridesChanged, sessionOverrides, storedSessionMetaOverrides);\n            faro.api.setSession(userSession.sessionMeta);\n        }\n    };\n}\nfunction sendOverrideEvent(hasSessionOverridesChanged, sessionOverrides = {}, storedSessionOverrides = {}) {\n    var _a, _b, _c;\n    if (!hasSessionOverridesChanged) {\n        return;\n    }\n    const serviceName = sessionOverrides.serviceName;\n    const previousServiceName = (_c = (_a = storedSessionOverrides.serviceName) !== null && _a !== void 0 ? _a : (_b = faro.metas.value.app) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : '';\n    if (serviceName && serviceName !== previousServiceName) {\n        faro.api.pushEvent(EVENT_OVERRIDES_SERVICE_NAME, {\n            serviceName,\n            previousServiceName,\n        });\n    }\n}\n//# sourceMappingURL=sessionManagerUtils.js.map","import { faro, stringifyExternalJson } from '@grafana/faro-core';\nimport { throttle } from '../../../utils';\nimport { getItem, removeItem, setItem, webStorageType } from '../../../utils/webStorage';\nimport { STORAGE_KEY, STORAGE_UPDATE_DELAY } from './sessionConstants';\nimport { getSessionMetaUpdateHandler, getUserSessionUpdater } from './sessionManagerUtils';\nexport class PersistentSessionsManager {\n    constructor() {\n        this.updateSession = throttle(() => this.updateUserSession(), STORAGE_UPDATE_DELAY);\n        this.updateUserSession = getUserSessionUpdater({\n            fetchUserSession: PersistentSessionsManager.fetchUserSession,\n            storeUserSession: PersistentSessionsManager.storeUserSession,\n        });\n        this.init();\n    }\n    static removeUserSession() {\n        removeItem(STORAGE_KEY, PersistentSessionsManager.storageTypeLocal);\n    }\n    static storeUserSession(session) {\n        setItem(STORAGE_KEY, stringifyExternalJson(session), PersistentSessionsManager.storageTypeLocal);\n    }\n    static fetchUserSession() {\n        const storedSession = getItem(STORAGE_KEY, PersistentSessionsManager.storageTypeLocal);\n        if (storedSession) {\n            return JSON.parse(storedSession);\n        }\n        return null;\n    }\n    init() {\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'visible') {\n                this.updateSession();\n            }\n        });\n        // Users can call the setSession() method, so we need to sync this with the local storage session\n        faro.metas.addListener(getSessionMetaUpdateHandler({\n            fetchUserSession: PersistentSessionsManager.fetchUserSession,\n            storeUserSession: PersistentSessionsManager.storeUserSession,\n        }));\n    }\n}\nPersistentSessionsManager.storageTypeLocal = webStorageType.local;\n//# sourceMappingURL=PersistentSessionsManager.js.map","import { faro, stringifyExternalJson } from '@grafana/faro-core';\nimport { throttle } from '../../../utils';\nimport { getItem, removeItem, setItem, webStorageType } from '../../../utils/webStorage';\nimport { STORAGE_KEY, STORAGE_UPDATE_DELAY } from './sessionConstants';\nimport { getSessionMetaUpdateHandler, getUserSessionUpdater } from './sessionManagerUtils';\nexport class VolatileSessionsManager {\n    constructor() {\n        this.updateSession = throttle(() => this.updateUserSession(), STORAGE_UPDATE_DELAY);\n        this.updateUserSession = getUserSessionUpdater({\n            fetchUserSession: VolatileSessionsManager.fetchUserSession,\n            storeUserSession: VolatileSessionsManager.storeUserSession,\n        });\n        this.init();\n    }\n    static removeUserSession() {\n        removeItem(STORAGE_KEY, VolatileSessionsManager.storageTypeSession);\n    }\n    static storeUserSession(session) {\n        setItem(STORAGE_KEY, stringifyExternalJson(session), VolatileSessionsManager.storageTypeSession);\n    }\n    static fetchUserSession() {\n        const storedSession = getItem(STORAGE_KEY, VolatileSessionsManager.storageTypeSession);\n        if (storedSession) {\n            return JSON.parse(storedSession);\n        }\n        return null;\n    }\n    init() {\n        document.addEventListener('visibilitychange', () => {\n            if (document.visibilityState === 'visible') {\n                this.updateSession();\n            }\n        });\n        // Users can call the setSession() method, so we need to sync this with the local storage session\n        faro.metas.addListener(getSessionMetaUpdateHandler({\n            fetchUserSession: VolatileSessionsManager.fetchUserSession,\n            storeUserSession: VolatileSessionsManager.storeUserSession,\n        }));\n    }\n}\nVolatileSessionsManager.storageTypeSession = webStorageType.session;\n//# sourceMappingURL=VolatileSessionManager.js.map","import { PersistentSessionsManager } from './PersistentSessionsManager';\nimport { VolatileSessionsManager } from './VolatileSessionManager';\nexport function getSessionManagerByConfig(sessionTrackingConfig) {\n    return (sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.persistent) ? PersistentSessionsManager : VolatileSessionsManager;\n}\n//# sourceMappingURL=getSessionManagerByConfig.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { BaseExtension, BaseTransport, createPromiseBuffer, getTransportBody, noop, VERSION } from '@grafana/faro-core';\nimport { getSessionManagerByConfig } from '../../instrumentations/session/sessionManager';\nimport { getUserSessionUpdater } from '../../instrumentations/session/sessionManager/sessionManagerUtils';\nconst DEFAULT_BUFFER_SIZE = 30;\nconst DEFAULT_CONCURRENCY = 5; // chrome supports 10 total, firefox 17\nconst DEFAULT_RATE_LIMIT_BACKOFF_MS = 5000;\nconst BEACON_BODY_SIZE_LIMIT = 60000;\nconst TOO_MANY_REQUESTS = 429;\nconst ACCEPTED = 202;\nexport class FetchTransport extends BaseTransport {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super();\n        this.options = options;\n        this.name = '@grafana/faro-web-sdk:transport-fetch';\n        this.version = VERSION;\n        this.disabledUntil = new Date();\n        this.rateLimitBackoffMs = (_a = options.defaultRateLimitBackoffMs) !== null && _a !== void 0 ? _a : DEFAULT_RATE_LIMIT_BACKOFF_MS;\n        this.getNow = (_b = options.getNow) !== null && _b !== void 0 ? _b : (() => Date.now());\n        this.promiseBuffer = createPromiseBuffer({\n            size: (_c = options.bufferSize) !== null && _c !== void 0 ? _c : DEFAULT_BUFFER_SIZE,\n            concurrency: (_d = options.concurrency) !== null && _d !== void 0 ? _d : DEFAULT_CONCURRENCY,\n        });\n    }\n    send(items) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (this.disabledUntil > new Date(this.getNow())) {\n                    this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`);\n                    return Promise.resolve();\n                }\n                yield this.promiseBuffer.add(() => {\n                    const body = JSON.stringify(getTransportBody(items));\n                    const { url, requestOptions, apiKey } = this.options;\n                    const _a = requestOptions !== null && requestOptions !== void 0 ? requestOptions : {}, { headers } = _a, restOfRequestOptions = __rest(_a, [\"headers\"]);\n                    let sessionId;\n                    const sessionMeta = this.metas.value.session;\n                    if (sessionMeta != null) {\n                        sessionId = sessionMeta.id;\n                    }\n                    return fetch(url, Object.assign({ method: 'POST', headers: Object.assign(Object.assign(Object.assign({ 'Content-Type': 'application/json' }, (headers !== null && headers !== void 0 ? headers : {})), (apiKey ? { 'x-api-key': apiKey } : {})), (sessionId ? { 'x-faro-session-id': sessionId } : {})), body, keepalive: body.length <= BEACON_BODY_SIZE_LIMIT }, (restOfRequestOptions !== null && restOfRequestOptions !== void 0 ? restOfRequestOptions : {})))\n                        .then((response) => __awaiter(this, void 0, void 0, function* () {\n                        if (response.status === ACCEPTED) {\n                            const sessionExpired = response.headers.get('X-Faro-Session-Status') === 'invalid';\n                            if (sessionExpired) {\n                                this.extendFaroSession(this.config, this.logDebug);\n                            }\n                        }\n                        if (response.status === TOO_MANY_REQUESTS) {\n                            this.disabledUntil = this.getRetryAfterDate(response);\n                            this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`);\n                        }\n                        // read the body so the connection can be closed\n                        response.text().catch(noop);\n                        return response;\n                    }))\n                        .catch((err) => {\n                        this.logError('Failed sending payload to the receiver\\n', JSON.parse(body), err);\n                    });\n                });\n            }\n            catch (err) {\n                this.logError(err);\n            }\n        });\n    }\n    getIgnoreUrls() {\n        var _a;\n        return [this.options.url].concat((_a = this.config.ignoreUrls) !== null && _a !== void 0 ? _a : []);\n    }\n    isBatched() {\n        return true;\n    }\n    getRetryAfterDate(response) {\n        const now = this.getNow();\n        const retryAfterHeader = response.headers.get('Retry-After');\n        if (retryAfterHeader) {\n            const delay = Number(retryAfterHeader);\n            if (!isNaN(delay)) {\n                return new Date(delay * 1000 + now);\n            }\n            const date = Date.parse(retryAfterHeader);\n            if (!isNaN(date)) {\n                return new Date(date);\n            }\n        }\n        return new Date(now + this.rateLimitBackoffMs);\n    }\n    extendFaroSession(config, logDebug) {\n        const SessionExpiredString = `Session expired`;\n        const sessionTrackingConfig = config.sessionTracking;\n        if (sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.enabled) {\n            const { fetchUserSession, storeUserSession } = getSessionManagerByConfig(sessionTrackingConfig);\n            getUserSessionUpdater({ fetchUserSession, storeUserSession })({ forceSessionExtend: true });\n            logDebug(`${SessionExpiredString} created new session.`);\n        }\n        else {\n            logDebug(`${SessionExpiredString}.`);\n        }\n    }\n}\n//# sourceMappingURL=transport.js.map","export function createPromiseBuffer(options) {\n    const { size, concurrency } = options;\n    const buffer = []; // pending, not-yet-started tasks\n    let inProgress = 0; // counter for tasks currently in progress\n    const work = () => {\n        // if there's space for a task and buffer is not empty,\n        // take one task from buffer and run it\n        if (inProgress < concurrency && buffer.length) {\n            const { producer, resolve, reject } = buffer.shift();\n            inProgress++;\n            producer().then((result) => {\n                inProgress--;\n                work();\n                resolve(result);\n            }, (reason) => {\n                inProgress--;\n                work();\n                reject(reason);\n            });\n        }\n    };\n    const add = (promiseProducer) => {\n        if (buffer.length + inProgress >= size) {\n            throw new Error('Task buffer full');\n        }\n        return new Promise((resolve, reject) => {\n            buffer.push({\n                producer: promiseProducer,\n                resolve,\n                reject,\n            });\n            work();\n        });\n    };\n    return {\n        add,\n    };\n}\n//# sourceMappingURL=promiseBuffer.js.map","import { BaseExtension } from '../extensions';\nexport class BaseInstrumentation extends BaseExtension {\n    constructor() {\n        super(...arguments);\n        this.api = {};\n        this.transports = {};\n    }\n}\n//# sourceMappingURL=base.js.map","import { faro, isEmpty, isFunction, isString } from '@grafana/faro-core';\n/**\n * Retrieves a list of URLs to be ignored by aggregating the ignore URLs from all transports.\n *\n * @returns {string[]} An array of URLs to be ignored.\n */\nexport function getIgnoreUrls() {\n    return faro.transports.transports.flatMap((transport) => transport.getIgnoreUrls());\n}\n/**\n * Checks if the given URL should be ignored based on a list of ignored URLs.\n *\n * @param url - The URL to check.\n * @returns `true` if the URL is in the list of ignored URLs, `false` otherwise.\n */\nexport function isUrlIgnored(url = '') {\n    return getIgnoreUrls().some((ignoredUrl) => url && url.match(ignoredUrl) != null);\n}\n/**\n * Extracts a URL string from the given resource.\n *\n * @param resource - The input resource which can be a string, a URL object, or an object with a `toString` method.\n * @returns The URL as a string if the resource is a valid URL-like object, or `undefined` if the resource is not valid.\n *\n */\nexport function getUrlFromResource(resource) {\n    if (isString(resource)) {\n        return resource;\n    }\n    if (resource instanceof URL) {\n        return resource.href;\n    }\n    if (!isEmpty(resource) && isFunction(resource === null || resource === void 0 ? void 0 : resource.toString)) {\n        return resource.toString();\n    }\n    return undefined;\n}\n//# sourceMappingURL=url.js.map","import { genShortID, Observable } from '@grafana/faro-core';\nimport { getUrlFromResource, isUrlIgnored } from '../../utils/url';\nimport { MESSAGE_TYPE_HTTP_REQUEST_END, MESSAGE_TYPE_HTTP_REQUEST_START } from './const';\nconst apiTypeFetch = 'fetch';\nconst apiTypeXhr = 'xhr';\n/**\n * Monitors if any http requests are in progress.\n */\nexport function monitorHttpRequests() {\n    const observable = new Observable();\n    function emitStartMessage(requestProps) {\n        observable.notify({\n            type: MESSAGE_TYPE_HTTP_REQUEST_START,\n            request: requestProps,\n        });\n    }\n    function emitEndMessage(requestProps) {\n        observable.notify({\n            type: MESSAGE_TYPE_HTTP_REQUEST_END,\n            request: requestProps,\n        });\n    }\n    monitorFetch({\n        onRequestStart: emitStartMessage,\n        onRequestEnd: emitEndMessage,\n    });\n    monitorXhr({\n        onRequestStart: emitStartMessage,\n        onRequestEnd: emitEndMessage,\n    });\n    return observable;\n}\nfunction monitorXhr({ onRequestStart, onRequestEnd, }) {\n    const originalOpen = XMLHttpRequest.prototype.open;\n    XMLHttpRequest.prototype.open = function () {\n        const url = arguments[1];\n        const isIgnoredUrl = isUrlIgnored(url);\n        const method = arguments[0];\n        const requestId = genShortID();\n        // request has started to load data.\n        this.addEventListener('loadstart', function () {\n            if (!isIgnoredUrl) {\n                onRequestStart({ url, method, requestId, apiType: apiTypeXhr });\n            }\n        });\n        // transaction completes successfully.\n        this.addEventListener('load', function () {\n            if (!isIgnoredUrl) {\n                onRequestEnd({ url, method, requestId, apiType: apiTypeXhr });\n            }\n        });\n        this.addEventListener('error', function () {\n            if (!isIgnoredUrl) {\n                onRequestEnd({ url, method, requestId, apiType: apiTypeXhr });\n            }\n        });\n        this.addEventListener('abort', function () {\n            if (!isIgnoredUrl) {\n                onRequestEnd({ url, method, requestId, apiType: apiTypeXhr });\n            }\n        });\n        originalOpen.apply(this, arguments);\n    };\n}\nfunction monitorFetch({ onRequestEnd, onRequestStart, }) {\n    const originalFetch = window.fetch;\n    window.fetch = function () {\n        var _a, _b;\n        const url = (_a = getUrlFromResource(arguments[0])) !== null && _a !== void 0 ? _a : '';\n        const isIgnoredUrl = isUrlIgnored(url);\n        const method = ((_b = arguments[1]) !== null && _b !== void 0 ? _b : {}).method;\n        const requestId = genShortID();\n        if (!isIgnoredUrl) {\n            onRequestStart({ url, method, requestId, apiType: apiTypeFetch });\n        }\n        return originalFetch\n            .apply(this, arguments)\n            .then((response) => {\n            if (!isIgnoredUrl) {\n                onRequestEnd({ url, method, requestId, apiType: apiTypeFetch });\n            }\n            return response;\n        })\n            .catch((error) => {\n            if (!isIgnoredUrl) {\n                onRequestEnd({ url, method, requestId, apiType: apiTypeFetch });\n            }\n            throw error;\n        });\n    };\n}\n//# sourceMappingURL=httpRequestMonitor.js.map","export const NAVIGATION_ID_STORAGE_KEY = 'com.grafana.faro.lastNavigationId';\n//# sourceMappingURL=instrumentationConstants.js.map","export const NAVIGATION_ENTRY = 'navigation';\nexport const RESOURCE_ENTRY = 'resource';\n//# sourceMappingURL=performanceConstants.js.map","import { isArray, unknownString } from '@grafana/faro-core';\nconst w3cTraceparentFormat = /^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;\n// Extract traceparent from serverTiming, if present\nexport function getSpanContextFromServerTiming(serverTimings = []) {\n    for (const serverEntry of serverTimings) {\n        if (serverEntry.name === 'traceparent') {\n            if (!w3cTraceparentFormat.test(serverEntry.description)) {\n                continue;\n            }\n            const [, traceId, spanId] = serverEntry.description.split('-');\n            if (traceId != null && spanId != null) {\n                return { traceId, spanId };\n            }\n            break;\n        }\n    }\n    return undefined;\n}\nexport function performanceObserverSupported() {\n    return 'PerformanceObserver' in window;\n}\nexport function onDocumentReady(handleReady) {\n    if (document.readyState === 'complete') {\n        handleReady();\n    }\n    else {\n        const readyStateCompleteHandler = () => {\n            if (document.readyState === 'complete') {\n                handleReady();\n                document.removeEventListener('readystatechange', readyStateCompleteHandler);\n            }\n        };\n        document.addEventListener('readystatechange', readyStateCompleteHandler);\n    }\n}\nexport function includePerformanceEntry(performanceEntryJSON, allowProps = {}) {\n    for (const [allowPropKey, allowPropValue] of Object.entries(allowProps)) {\n        const perfEntryPropVal = performanceEntryJSON[allowPropKey];\n        if (perfEntryPropVal == null) {\n            return false;\n        }\n        if (isArray(allowPropValue)) {\n            return allowPropValue.includes(perfEntryPropVal);\n        }\n        return perfEntryPropVal === allowPropValue;\n    }\n    // empty object allows all\n    return true;\n}\nexport function createFaroResourceTiming(resourceEntryRaw) {\n    const { connectEnd, connectStart, decodedBodySize, domainLookupEnd, domainLookupStart, duration, encodedBodySize, fetchStart, initiatorType, name, nextHopProtocol, redirectEnd, redirectStart, \n    // @ts-expect-error the renderBlockingStatus property is not available in all browsers\n    renderBlockingStatus: rbs, requestStart, responseEnd, responseStart, responseStatus, secureConnectionStart, transferSize, workerStart, } = resourceEntryRaw;\n    return {\n        name: name,\n        duration: toFaroPerformanceTimingString(duration),\n        tcpHandshakeTime: toFaroPerformanceTimingString(connectEnd - connectStart),\n        dnsLookupTime: toFaroPerformanceTimingString(domainLookupEnd - domainLookupStart),\n        tlsNegotiationTime: toFaroPerformanceTimingString(connectEnd - secureConnectionStart),\n        responseStatus: toFaroPerformanceTimingString(responseStatus),\n        redirectTime: toFaroPerformanceTimingString(redirectEnd - redirectStart),\n        requestTime: toFaroPerformanceTimingString(responseStart - requestStart),\n        responseTime: toFaroPerformanceTimingString(responseEnd - responseStart),\n        fetchTime: toFaroPerformanceTimingString(responseEnd - fetchStart),\n        serviceWorkerTime: toFaroPerformanceTimingString(fetchStart - workerStart),\n        decodedBodySize: toFaroPerformanceTimingString(decodedBodySize),\n        encodedBodySize: toFaroPerformanceTimingString(encodedBodySize),\n        cacheHitStatus: getCacheType(),\n        renderBlockingStatus: toFaroPerformanceTimingString(rbs),\n        protocol: nextHopProtocol,\n        initiatorType: initiatorType,\n        visibilityState: document.visibilityState,\n        ttfb: toFaroPerformanceTimingString(responseStart - requestStart),\n        // TODO: add in future iteration, ideally after nested objects are supported by the collector.\n        // serverTiming: resourceEntryRaw.serverTiming,\n    };\n    function getCacheType() {\n        let cacheType = 'fullLoad';\n        if (transferSize === 0) {\n            if (decodedBodySize > 0) {\n                cacheType = 'cache';\n            }\n        }\n        else {\n            if (responseStatus != null) {\n                if (responseStatus === 304) {\n                    cacheType = 'conditionalFetch';\n                }\n            }\n            else if (encodedBodySize > 0 && transferSize < encodedBodySize) {\n                cacheType = 'conditionalFetch';\n            }\n        }\n        return cacheType;\n    }\n}\nexport function createFaroNavigationTiming(navigationEntryRaw) {\n    const { activationStart, domComplete, domContentLoadedEventEnd, domContentLoadedEventStart, domInteractive, fetchStart, loadEventEnd, loadEventStart, responseStart, type, } = navigationEntryRaw;\n    const parserStart = getDocumentParsingTime();\n    return Object.assign(Object.assign({}, createFaroResourceTiming(navigationEntryRaw)), { pageLoadTime: toFaroPerformanceTimingString(domComplete - fetchStart), documentParsingTime: toFaroPerformanceTimingString(parserStart ? domInteractive - parserStart : null), domProcessingTime: toFaroPerformanceTimingString(domComplete - domInteractive), domContentLoadHandlerTime: toFaroPerformanceTimingString(domContentLoadedEventEnd - domContentLoadedEventStart), onLoadTime: toFaroPerformanceTimingString(loadEventEnd - loadEventStart), \n        // For navigation entries we can calculate the TTFB based on activationStart. We overwrite the TTFB value coming with the resource entry.\n        // For more accuracy on prerendered pages page we calculate relative top the activationStart instead of the start of the navigation.\n        // clamp to 0 if activationStart occurs after first byte is received.\n        ttfb: toFaroPerformanceTimingString(Math.max(responseStart - (activationStart !== null && activationStart !== void 0 ? activationStart : 0), 0)), type: type });\n}\nfunction getDocumentParsingTime() {\n    var _a;\n    if (((_a = performance.timing) === null || _a === void 0 ? void 0 : _a.domLoading) != null) {\n        // the browser is about to start parsing the first received bytes of the HTML document.\n        // This property is deprecated but there isn't a really good alternative atm.\n        // For now we stick with domLoading and keep researching a better alternative.\n        return performance.timing.domLoading - performance.timeOrigin;\n    }\n    return null;\n}\nfunction toFaroPerformanceTimingString(v) {\n    if (v == null) {\n        return unknownString;\n    }\n    if (typeof v === 'number') {\n        return Math.round(v > 0 ? v : 0).toString();\n    }\n    return v.toString();\n}\n//# sourceMappingURL=performanceUtils.js.map","import { faro, genShortID } from '@grafana/faro-core';\nimport { isUrlIgnored } from '../../utils/url';\nimport { RESOURCE_ENTRY } from './performanceConstants';\nimport { createFaroResourceTiming, getSpanContextFromServerTiming, includePerformanceEntry } from './performanceUtils';\nconst DEFAULT_TRACK_RESOURCES = { initiatorType: ['xmlhttprequest', 'fetch'] };\nexport function observeResourceTimings(faroNavigationId, pushEvent, observable) {\n    const trackResources = faro.config.trackResources;\n    const observer = new PerformanceObserver((observedEntries) => {\n        const entries = observedEntries.getEntries();\n        for (const resourceEntryRaw of entries) {\n            if (isUrlIgnored(resourceEntryRaw.name)) {\n                return;\n            }\n            const resourceEntryJson = resourceEntryRaw.toJSON();\n            let spanContext = getSpanContextFromServerTiming(resourceEntryJson === null || resourceEntryJson === void 0 ? void 0 : resourceEntryJson.serverTiming);\n            if ((trackResources == null && includePerformanceEntry(resourceEntryJson, DEFAULT_TRACK_RESOURCES)) ||\n                trackResources) {\n                const faroResourceEntry = Object.assign(Object.assign({}, createFaroResourceTiming(resourceEntryJson)), { faroNavigationId, faroResourceId: genShortID() });\n                if (faro.config.trackUserActionsPreview) {\n                    observable === null || observable === void 0 ? void 0 : observable.notify({\n                        type: RESOURCE_ENTRY,\n                    });\n                }\n                pushEvent('faro.performance.resource', faroResourceEntry, undefined, {\n                    spanContext,\n                    timestampOverwriteMs: performance.timeOrigin + resourceEntryJson.startTime,\n                });\n            }\n        }\n    });\n    observer.observe({\n        type: RESOURCE_ENTRY,\n        buffered: true,\n    });\n}\n//# sourceMappingURL=resource.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { BaseInstrumentation, Observable, VERSION } from '@grafana/faro-core';\nimport { getNavigationTimings } from './navigation';\nimport { onDocumentReady, performanceObserverSupported } from './performanceUtils';\nimport { observeResourceTimings } from './resource';\nexport const performanceEntriesSubscription = new Observable();\nexport class PerformanceInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-performance';\n        this.version = VERSION;\n    }\n    initialize() {\n        if (!performanceObserverSupported()) {\n            this.logDebug('performance observer not supported. Disable performance instrumentation.');\n            return;\n        }\n        onDocumentReady(() => __awaiter(this, void 0, void 0, function* () {\n            const pushEvent = this.api.pushEvent;\n            const { faroNavigationId } = yield getNavigationTimings(pushEvent);\n            if (faroNavigationId != null) {\n                observeResourceTimings(faroNavigationId, pushEvent, performanceEntriesSubscription);\n            }\n        }));\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { genShortID, unknownString } from '@grafana/faro-core';\nimport { getItem, setItem, webStorageType } from '../../utils';\nimport { isUrlIgnored } from '../../utils/url';\nimport { NAVIGATION_ID_STORAGE_KEY } from '../instrumentationConstants';\nimport { NAVIGATION_ENTRY } from './performanceConstants';\nimport { createFaroNavigationTiming, getSpanContextFromServerTiming } from './performanceUtils';\nexport function getNavigationTimings(pushEvent) {\n    let faroNavigationEntryResolve;\n    const faroNavigationEntryPromise = new Promise((resolve) => {\n        faroNavigationEntryResolve = resolve;\n    });\n    const observer = new PerformanceObserver((observedEntries) => {\n        var _a;\n        const [navigationEntryRaw] = observedEntries.getEntries();\n        if (navigationEntryRaw == null || isUrlIgnored(navigationEntryRaw.name)) {\n            return;\n        }\n        const navEntryJson = navigationEntryRaw.toJSON();\n        let spanContext = getSpanContextFromServerTiming(navEntryJson === null || navEntryJson === void 0 ? void 0 : navEntryJson.serverTiming);\n        const faroPreviousNavigationId = (_a = getItem(NAVIGATION_ID_STORAGE_KEY, webStorageType.session)) !== null && _a !== void 0 ? _a : unknownString;\n        const faroNavigationEntry = Object.assign(Object.assign({}, createFaroNavigationTiming(navEntryJson)), { faroNavigationId: genShortID(), faroPreviousNavigationId });\n        setItem(NAVIGATION_ID_STORAGE_KEY, faroNavigationEntry.faroNavigationId, webStorageType.session);\n        pushEvent('faro.performance.navigation', faroNavigationEntry, undefined, {\n            spanContext,\n            timestampOverwriteMs: performance.timeOrigin + navEntryJson.startTime,\n        });\n        faroNavigationEntryResolve(faroNavigationEntry);\n    });\n    observer.observe({\n        type: NAVIGATION_ENTRY,\n        buffered: true,\n    });\n    return faroNavigationEntryPromise;\n}\n//# sourceMappingURL=navigation.js.map","import { apiMessageBus, dateNow, genShortID, Observable, stringifyObjectValues, USER_ACTION_CANCEL, USER_ACTION_END, USER_ACTION_HALT, USER_ACTION_START, } from '@grafana/faro-core';\nimport { MESSAGE_TYPE_HTTP_REQUEST_END, MESSAGE_TYPE_HTTP_REQUEST_START, userActionDataAttributeParsed as userActionDataAttribute, } from './const';\nimport { monitorDomMutations } from './domMutationMonitor';\nimport { monitorHttpRequests } from './httpRequestMonitor';\nimport { monitorPerformanceEntries } from './performanceEntriesMonitor';\nimport { convertDataAttributeName } from './util';\nconst maxFollowUpActionTimeRange = 100;\nexport function getUserEventHandler(faro) {\n    const { api, config } = faro;\n    const httpMonitor = monitorHttpRequests();\n    const domMutationsMonitor = monitorDomMutations();\n    const performanceEntriesMonitor = monitorPerformanceEntries();\n    let timeoutId;\n    let actionRunning = false;\n    function processUserEvent(event) {\n        var _a;\n        let userActionName;\n        const isApiEventDetected = isApiEvent(event);\n        if (isApiEventDetected) {\n            userActionName = event.name;\n        }\n        else {\n            userActionName = getUserActionName(event.target, (_a = config.trackUserActionsDataAttributeName) !== null && _a !== void 0 ? _a : userActionDataAttribute);\n        }\n        if (actionRunning || userActionName == null) {\n            return;\n        }\n        actionRunning = true;\n        const startTime = dateNow();\n        let endTime;\n        const actionId = genShortID();\n        apiMessageBus.notify({\n            type: USER_ACTION_START,\n            name: userActionName,\n            startTime: startTime,\n            parentId: actionId,\n        });\n        // Triggers if no initial action happened within the first 100ms\n        timeoutId = startTimeout(timeoutId, () => {\n            endTime = dateNow();\n            // Listening for follow up activities stops once action is cancelled (set to false)\n            actionRunning = false;\n            sendUserActionCancelMessage(userActionName, actionId);\n        }, maxFollowUpActionTimeRange);\n        const runningRequests = new Map();\n        let isHalted = false;\n        let pendingActionTimeoutId;\n        const allMonitorsSub = new Observable()\n            .merge(httpMonitor, domMutationsMonitor, performanceEntriesMonitor)\n            .takeWhile(() => actionRunning)\n            .filter((msg) => {\n            // If the user action is in halt state, we only keep listening to ended http requests\n            if (isHalted && !(isRequestEndMessage(msg) && runningRequests.has(msg.request.requestId))) {\n                return false;\n            }\n            return true;\n        })\n            .subscribe((msg) => {\n            if (isRequestStartMessage(msg)) {\n                // An action is on halt if it has pending items, like pending HTTP requests.\n                // In this case we start a separate timeout to wait for the requests to finish\n                // If in the halt state, we stop adding Faro signals to the action's buffer (see userActionLifecycleHandler.ts)\n                // But we are still subscribed to\n                runningRequests.set(msg.request.requestId, msg.request);\n            }\n            if (isRequestEndMessage(msg)) {\n                // console.log('request end msg :>> ', msg);\n                runningRequests.delete(msg.request.requestId);\n            }\n            // A http request, a DOM mutation or a performance entry happened so we have a follow up activity and start the timeout again\n            // If timeout is triggered the user action is done and we send respective messages and events\n            timeoutId = startTimeout(timeoutId, () => {\n                endTime = dateNow();\n                const userActionParentEventProps = Object.assign({ api,\n                    userActionName,\n                    startTime, endTime: endTime, actionId,\n                    event }, (isApiEventDetected ? { attributes: event.attributes } : {}));\n                const hasPendingRequests = runningRequests.size > 0;\n                const isAllPendingRequestsResolved = isHalted && !hasPendingRequests;\n                if (isAllPendingRequestsResolved) {\n                    clearTimeout(pendingActionTimeoutId);\n                    isHalted = false;\n                }\n                if (hasPendingRequests) {\n                    isHalted = true;\n                    apiMessageBus.notify({\n                        type: USER_ACTION_HALT,\n                        name: userActionName,\n                        parentId: actionId,\n                        reason: 'pending-requests',\n                        haltTime: dateNow(),\n                    });\n                    pendingActionTimeoutId = startTimeout(undefined, () => {\n                        unsubscribeAllMonitors(allMonitorsSub);\n                        endUserAction(userActionParentEventProps);\n                        actionRunning = false;\n                        isHalted = false;\n                    }, 1000 * 10);\n                }\n                else {\n                    unsubscribeAllMonitors(allMonitorsSub);\n                    endUserAction(userActionParentEventProps);\n                    actionRunning = false;\n                    isHalted = false;\n                }\n            }, maxFollowUpActionTimeRange);\n        });\n    }\n    return processUserEvent;\n}\n/**\n * User action was successfully completed and we send the final event(s)\n */\nfunction endUserAction(props) {\n    const { api, userActionName, startTime, endTime, actionId, event, attributes } = props;\n    const duration = endTime - startTime;\n    const eventType = event.type;\n    // order matters, first emit the user-action-end event and afterwards push the parent event\n    apiMessageBus.notify({\n        type: USER_ACTION_END,\n        name: userActionName,\n        id: actionId,\n        startTime,\n        endTime,\n        duration,\n        eventType,\n    });\n    // Send the final action parent event\n    api.pushEvent(userActionName, Object.assign({ userActionStartTime: startTime.toString(), userActionEndTime: endTime.toString(), userActionDuration: duration.toString(), userActionEventType: eventType }, stringifyObjectValues(attributes)), undefined, {\n        timestampOverwriteMs: startTime,\n        customPayloadTransformer: (payload) => {\n            payload.action = {\n                id: actionId,\n                name: userActionName,\n            };\n            return payload;\n        },\n    });\n}\nfunction getUserActionName(element, dataAttributeName) {\n    const parsedDataAttributeName = convertDataAttributeName(dataAttributeName);\n    const dataset = element.dataset;\n    for (const key in dataset) {\n        if (key === parsedDataAttributeName) {\n            return dataset[key];\n        }\n    }\n    return undefined;\n}\nfunction startTimeout(timeoutId, cb, delay) {\n    if (timeoutId) {\n        clearTimeout(timeoutId);\n    }\n    //@ts-expect-error for some reason vscode is using the node types\n    timeoutId = setTimeout(() => {\n        cb();\n    }, delay);\n    return timeoutId;\n}\nfunction sendUserActionCancelMessage(userActionName, actionId) {\n    apiMessageBus.notify({\n        type: USER_ACTION_CANCEL,\n        name: userActionName,\n        parentId: actionId,\n    });\n}\nfunction unsubscribeAllMonitors(allMonitorsSub) {\n    allMonitorsSub === null || allMonitorsSub === void 0 ? void 0 : allMonitorsSub.unsubscribe();\n    allMonitorsSub = undefined;\n}\nfunction isRequestStartMessage(msg) {\n    return msg.type === MESSAGE_TYPE_HTTP_REQUEST_START;\n}\nfunction isRequestEndMessage(msg) {\n    return msg.type === MESSAGE_TYPE_HTTP_REQUEST_END;\n}\nfunction isApiEvent(apiEvent) {\n    return apiEvent.type === 'apiEvent' && typeof apiEvent.name === 'string';\n}\n//# sourceMappingURL=processUserActionEventHandler.js.map","import { Observable } from '@grafana/faro-core';\nimport { MESSAGE_TYPE_DOM_MUTATION } from './const';\nexport function monitorDomMutations() {\n    const observable = new Observable();\n    const observer = new MutationObserver((_mutationsList, _observer) => {\n        observable.notify({ type: MESSAGE_TYPE_DOM_MUTATION });\n    });\n    observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true,\n        characterData: true,\n    });\n    return observable;\n}\n//# sourceMappingURL=domMutationMonitor.js.map","import { Observable } from '@grafana/faro-core';\nimport { performanceEntriesSubscription } from '../performance/instrumentation';\nimport { RESOURCE_ENTRY } from '../performance/performanceConstants';\nimport { MESSAGE_TYPE_RESOURCE_ENTRY } from './const';\nexport function monitorPerformanceEntries() {\n    const observable = new Observable();\n    performanceEntriesSubscription.subscribe((data) => {\n        if (data.type === RESOURCE_ENTRY) {\n            observable.notify({ type: MESSAGE_TYPE_RESOURCE_ENTRY });\n        }\n    });\n    return observable;\n}\n//# sourceMappingURL=performanceEntriesMonitor.js.map","/**\n * Parses the action attribute name by removing the 'data-' prefix and converting\n * the remaining string to camelCase.\n *\n * This is needed because the browser will remove the 'data-' prefix and the dashes from\n * data attributes and make then camelCase.\n */\nexport function convertDataAttributeName(userActionDataAttribute) {\n    const withoutData = userActionDataAttribute.split('data-')[1];\n    const withUpperCase = withoutData === null || withoutData === void 0 ? void 0 : withoutData.replace(/-(.)/g, (_, char) => char.toUpperCase());\n    return withUpperCase === null || withUpperCase === void 0 ? void 0 : withUpperCase.replace(/-/g, '');\n}\n//# sourceMappingURL=util.js.map","import { BaseInstrumentation, faro, VERSION } from '@grafana/faro-core';\nimport { getUserEventHandler } from './processUserActionEventHandler';\nlet processUserEventHandler;\nexport class UserActionInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-user-action';\n        this.version = VERSION;\n    }\n    initialize() {\n        processUserEventHandler = getUserEventHandler(faro);\n        window.addEventListener('pointerdown', processUserEventHandler);\n        window.addEventListener('keydown', processUserEventHandler);\n    }\n}\nexport function startUserAction(name, attributes) {\n    processUserEventHandler === null || processUserEventHandler === void 0 ? void 0 : processUserEventHandler(createUserActionApiEvent(name, attributes));\n}\nfunction createUserActionApiEvent(name, attributes) {\n    return {\n        name,\n        attributes,\n        type: 'apiEvent',\n    };\n}\n//# sourceMappingURL=instrumentation.js.map","export const primitiveUnhandledValue = 'Non-Error promise rejection captured with value:';\nexport const primitiveUnhandledType = 'UnhandledRejection';\nexport const domErrorType = 'DOMError';\nexport const domExceptionType = 'DOMException';\nexport const objectEventValue = 'Non-Error exception captured with keys:';\nexport const unknownSymbolString = '?';\nexport const valueTypeRegex = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n//# sourceMappingURL=const.js.map","import { isDomError, isDomException, isError, isErrorEvent, isEvent, isObject, isString } from '@grafana/faro-core';\nimport { domErrorType, domExceptionType, objectEventValue, unknownSymbolString } from './const';\nimport { getValueAndTypeFromMessage } from './getValueAndTypeFromMessage';\nimport { buildStackFrame, getStackFramesFromError } from './stackFrames';\nexport function getErrorDetails(evt) {\n    let value;\n    let type;\n    let stackFrames = [];\n    let isDomErrorRes;\n    let isEventRes;\n    if (isErrorEvent(evt) && evt.error) {\n        value = evt.error.message;\n        type = evt.error.name;\n        stackFrames = getStackFramesFromError(evt.error);\n    }\n    else if ((isDomErrorRes = isDomError(evt)) || isDomException(evt)) {\n        const { name, message } = evt;\n        type = name !== null && name !== void 0 ? name : (isDomErrorRes ? domErrorType : domExceptionType);\n        value = message ? `${type}: ${message}` : type;\n    }\n    else if (isError(evt)) {\n        value = evt.message;\n        stackFrames = getStackFramesFromError(evt);\n    }\n    else if (isObject(evt) || (isEventRes = isEvent(evt))) {\n        type = isEventRes ? evt.constructor.name : undefined;\n        value = `${objectEventValue} ${Object.keys(evt)}`;\n    }\n    return [value, type, stackFrames];\n}\nexport function getDetailsFromErrorArgs(args) {\n    const [evt, source, lineno, colno, error] = args;\n    let value;\n    let type;\n    let stackFrames = [];\n    const eventIsString = isString(evt);\n    const initialStackFrame = buildStackFrame(source, unknownSymbolString, lineno, colno);\n    if (error || !eventIsString) {\n        [value, type, stackFrames] = getErrorDetails((error !== null && error !== void 0 ? error : evt));\n        if (stackFrames.length === 0) {\n            stackFrames = [initialStackFrame];\n        }\n    }\n    else if (eventIsString) {\n        [value, type] = getValueAndTypeFromMessage(evt);\n        stackFrames = [initialStackFrame];\n    }\n    return { value, type, stackFrames };\n}\nexport function getDetailsFromConsoleErrorArgs(args, serializer) {\n    if (isError(args[0])) {\n        return getDetailsFromErrorArgs(args);\n    }\n    else {\n        return { value: serializer(args) };\n    }\n}\n//# sourceMappingURL=getErrorDetails.js.map","import { defaultExceptionType } from '@grafana/faro-core';\nimport { valueTypeRegex } from './const';\nexport function getValueAndTypeFromMessage(message) {\n    var _a, _b;\n    const groups = message.match(valueTypeRegex);\n    const type = (_a = groups === null || groups === void 0 ? void 0 : groups[1]) !== null && _a !== void 0 ? _a : defaultExceptionType;\n    const value = (_b = groups === null || groups === void 0 ? void 0 : groups[2]) !== null && _b !== void 0 ? _b : message;\n    return [value, type];\n}\n//# sourceMappingURL=getValueAndTypeFromMessage.js.map","import { isPrimitive } from '@grafana/faro-core';\nimport { primitiveUnhandledType, primitiveUnhandledValue } from './const';\nimport { getErrorDetails } from './getErrorDetails';\nexport function registerOnunhandledrejection(api) {\n    window.addEventListener('unhandledrejection', (evt) => {\n        var _a, _b;\n        let error = evt;\n        if (error.reason) {\n            error = evt.reason;\n        }\n        else if ((_a = evt.detail) === null || _a === void 0 ? void 0 : _a.reason) {\n            error = (_b = evt.detail) === null || _b === void 0 ? void 0 : _b.reason;\n        }\n        let value;\n        let type;\n        let stackFrames = [];\n        if (isPrimitive(error)) {\n            value = `${primitiveUnhandledValue} ${String(error)}`;\n            type = primitiveUnhandledType;\n        }\n        else {\n            [value, type, stackFrames] = getErrorDetails(error);\n        }\n        if (value) {\n            api.pushError(new Error(value), { type, stackFrames });\n        }\n    });\n}\n//# sourceMappingURL=registerOnunhandledrejection.js.map","import { BaseInstrumentation, VERSION } from '@grafana/faro-core';\nimport { registerOnerror } from './registerOnerror';\nimport { registerOnunhandledrejection } from './registerOnunhandledrejection';\nexport class ErrorsInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-errors';\n        this.version = VERSION;\n    }\n    initialize() {\n        this.logDebug('Initializing');\n        registerOnerror(this.api);\n        registerOnunhandledrejection(this.api);\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { getDetailsFromErrorArgs } from './getErrorDetails';\nexport function registerOnerror(api) {\n    const oldOnerror = window.onerror;\n    window.onerror = (...args) => {\n        try {\n            const { value, type, stackFrames } = getDetailsFromErrorArgs(args);\n            if (value) {\n                api.pushError(new Error(value), { type, stackFrames });\n            }\n        }\n        finally {\n            oldOnerror === null || oldOnerror === void 0 ? void 0 : oldOnerror.apply(window, args);\n        }\n    };\n}\n//# sourceMappingURL=registerOnerror.js.map","var e,n,t,r,i,o=-1,a=function(e){addEventListener(\"pageshow\",(function(n){n.persisted&&(o=n.timeStamp,e(n))}),!0)},c=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},u=function(){var e=c();return e&&e.activationStart||0},f=function(e,n){var t=c(),r=\"navigate\";o>=0?r=\"back-forward-cache\":t&&(document.prerendering||u()>0?r=\"prerender\":document.wasDiscarded?r=\"restore\":t.type&&(r=t.type.replace(/_/g,\"-\")));return{name:e,value:void 0===n?-1:n,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},s=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},d=function(e,n,t,r){var i,o;return function(a){n.value>=0&&(a||r)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,n.rating=function(e,n){return e>n[1]?\"poor\":e>n[0]?\"needs-improvement\":\"good\"}(n.value,t),e(n))}},l=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},p=function(e){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&e()}))},v=function(e){var n=!1;return function(){n||(e(),n=!0)}},m=-1,h=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},g=function(e){\"hidden\"===document.visibilityState&&m>-1&&(m=\"visibilitychange\"===e.type?e.timeStamp:0,T())},y=function(){addEventListener(\"visibilitychange\",g,!0),addEventListener(\"prerenderingchange\",g,!0)},T=function(){removeEventListener(\"visibilitychange\",g,!0),removeEventListener(\"prerenderingchange\",g,!0)},E=function(){return m<0&&(m=h(),y(),a((function(){setTimeout((function(){m=h(),y()}),0)}))),{get firstHiddenTime(){return m}}},C=function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()},b=[1800,3e3],S=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"FCP\"),o=s(\"paint\",(function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries.push(e),t(!0)))}))}));o&&(t=d(e,i,b,n.reportAllChanges),a((function(r){i=f(\"FCP\"),t=d(e,i,b,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,t(!0)}))})))}))},L=[.1,.25],w=function(e,n){n=n||{},S(v((function(){var t,r=f(\"CLS\",0),i=0,o=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=o[0],t=o[o.length-1];i&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,t())},u=s(\"layout-shift\",c);u&&(t=d(e,r,L,n.reportAllChanges),p((function(){c(u.takeRecords()),t(!0)})),a((function(){i=0,r=f(\"CLS\",0),t=d(e,r,L,n.reportAllChanges),l((function(){return t()}))})),setTimeout(t,0))})))},A=0,I=1/0,P=0,M=function(e){e.forEach((function(e){e.interactionId&&(I=Math.min(I,e.interactionId),P=Math.max(P,e.interactionId),A=P?(P-I)/7+1:0)}))},k=function(){return e?A:performance.interactionCount||0},F=function(){\"interactionCount\"in performance||e||(e=s(\"event\",M,{type:\"event\",buffered:!0,durationThreshold:0}))},D=[],x=new Map,R=0,B=function(){var e=Math.min(D.length-1,Math.floor((k()-R)/50));return D[e]},H=[],q=function(e){if(H.forEach((function(n){return n(e)})),e.interactionId||\"first-input\"===e.entryType){var n=D[D.length-1],t=x.get(e.interactionId);if(t||D.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};x.set(r.id,r),D.push(r)}D.sort((function(e,n){return n.latency-e.latency})),D.length>10&&D.splice(10).forEach((function(e){return x.delete(e.id)}))}}},O=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=v(e),\"hidden\"===document.visibilityState?e():(t=n(e),p(e)),t},N=[200,500],j=function(e,n){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(n=n||{},C((function(){var t;F();var r,i=f(\"INP\"),o=function(e){O((function(){e.forEach(q);var n=B();n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())}))},c=s(\"event\",o,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=d(e,i,N,n.reportAllChanges),c&&(c.observe({type:\"first-input\",buffered:!0}),p((function(){o(c.takeRecords()),r(!0)})),a((function(){R=k(),D.length=0,x.clear(),i=f(\"INP\"),r=d(e,i,N,n.reportAllChanges)})))})))},_=[2500,4e3],z={},G=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"LCP\"),o=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries=[e],t())}))},c=s(\"largest-contentful-paint\",o);if(c){t=d(e,i,_,n.reportAllChanges);var m=v((function(){z[i.id]||(o(c.takeRecords()),c.disconnect(),z[i.id]=!0,t(!0))}));[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,(function(){return O(m)}),{once:!0,capture:!0})})),p(m),a((function(r){i=f(\"LCP\"),t=d(e,i,_,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,z[i.id]=!0,t(!0)}))}))}}))},J=[800,1800],K=function e(n){document.prerendering?C((function(){return e(n)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return e(n)}),!0):setTimeout(n,0)},Q=function(e,n){n=n||{};var t=f(\"TTFB\"),r=d(e,t,J,n.reportAllChanges);K((function(){var i=c();i&&(t.value=Math.max(i.responseStart-u(),0),t.entries=[i],r(!0),a((function(){t=f(\"TTFB\",0),(r=d(e,t,J,n.reportAllChanges))(!0)})))}))},U={passive:!0,capture:!0},V=new Date,W=function(e,i){n||(n=i,t=e,r=new Date,Z(removeEventListener),X())},X=function(){if(t>=0&&t<r-V){var e={entryType:\"first-input\",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+t};i.forEach((function(n){n(e)})),i=[]}},Y=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,n){var t=function(){W(e,n),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",t,U),removeEventListener(\"pointercancel\",r,U)};addEventListener(\"pointerup\",t,U),addEventListener(\"pointercancel\",r,U)}(n,e):W(n,e)}},Z=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(n){return e(n,Y,U)}))},$=[100,300],ee=function(e,r){r=r||{},C((function(){var o,c=E(),u=f(\"FID\"),l=function(e){e.startTime<c.firstHiddenTime&&(u.value=e.processingStart-e.startTime,u.entries.push(e),o(!0))},m=function(e){e.forEach(l)},h=s(\"first-input\",m);o=d(e,u,$,r.reportAllChanges),h&&(p(v((function(){m(h.takeRecords()),h.disconnect()}))),a((function(){var a;u=f(\"FID\"),o=d(e,u,$,r.reportAllChanges),i=[],t=-1,n=null,Z(addEventListener),a=l,i.push(a),X()})))}))};export{L as CLSThresholds,b as FCPThresholds,$ as FIDThresholds,N as INPThresholds,_ as LCPThresholds,J as TTFBThresholds,w as onCLS,S as onFCP,ee as onFID,j as onINP,G as onLCP,Q as onTTFB};\n","import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals';\nexport class WebVitalsBasic {\n    constructor(pushMeasurement, webVitalConfig) {\n        this.pushMeasurement = pushMeasurement;\n        this.webVitalConfig = webVitalConfig;\n    }\n    initialize() {\n        Object.entries(WebVitalsBasic.mapping).forEach(([indicator, executor]) => {\n            var _a;\n            executor((metric) => {\n                this.pushMeasurement({\n                    type: 'web-vitals',\n                    values: {\n                        [indicator]: metric.value,\n                    },\n                });\n            }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n        });\n    }\n}\nWebVitalsBasic.mapping = {\n    cls: onCLS,\n    fcp: onFCP,\n    fid: onFID,\n    inp: onINP,\n    lcp: onLCP,\n    ttfb: onTTFB,\n};\n//# sourceMappingURL=webVitalsBasic.js.map","var t,e,n=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},r=function(t){if(\"loading\"===document.readyState)return\"loading\";var e=n();if(e){if(t<e.domInteractive)return\"loading\";if(0===e.domContentLoadedEventStart||t<e.domContentLoadedEventStart)return\"dom-interactive\";if(0===e.domComplete||t<e.domComplete)return\"dom-content-loaded\"}return\"complete\"},i=function(t){var e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,\"\")},a=function(t,e){var n=\"\";try{for(;t&&9!==t.nodeType;){var r=t,a=r.id?\"#\"+r.id:i(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?\".\"+r.classList.value.trim().replace(/\\s+/g,\".\"):\"\");if(n.length+a.length>(e||100)-1)return n||a;if(n=n?a+\">\"+n:a,r.id)break;t=r.parentNode}}catch(t){}return n},o=-1,c=function(){return o},u=function(t){addEventListener(\"pageshow\",(function(e){e.persisted&&(o=e.timeStamp,t(e))}),!0)},s=function(){var t=n();return t&&t.activationStart||0},f=function(t,e){var r=n(),i=\"navigate\";c()>=0?i=\"back-forward-cache\":r&&(document.prerendering||s()>0?i=\"prerender\":document.wasDiscarded?i=\"restore\":r.type&&(i=r.type.replace(/_/g,\"-\")));return{name:t,value:void 0===e?-1:e,rating:\"good\",delta:0,entries:[],id:\"v4-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},d=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},l=function(t,e,n,r){var i,a;return function(o){e.value>=0&&(o||r)&&((a=e.value-(i||0))||void 0===i)&&(i=e.value,e.delta=a,e.rating=function(t,e){return t>e[1]?\"poor\":t>e[0]?\"needs-improvement\":\"good\"}(e.value,n),t(e))}},m=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},p=function(t){document.addEventListener(\"visibilitychange\",(function(){\"hidden\"===document.visibilityState&&t()}))},v=function(t){var e=!1;return function(){e||(t(),e=!0)}},g=-1,h=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},T=function(t){\"hidden\"===document.visibilityState&&g>-1&&(g=\"visibilitychange\"===t.type?t.timeStamp:0,E())},y=function(){addEventListener(\"visibilitychange\",T,!0),addEventListener(\"prerenderingchange\",T,!0)},E=function(){removeEventListener(\"visibilitychange\",T,!0),removeEventListener(\"prerenderingchange\",T,!0)},S=function(){return g<0&&(g=h(),y(),u((function(){setTimeout((function(){g=h(),y()}),0)}))),{get firstHiddenTime(){return g}}},b=function(t){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return t()}),!0):t()},L=[1800,3e3],C=function(t,e){e=e||{},b((function(){var n,r=S(),i=f(\"FCP\"),a=d(\"paint\",(function(t){t.forEach((function(t){\"first-contentful-paint\"===t.name&&(a.disconnect(),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-s(),0),i.entries.push(t),n(!0)))}))}));a&&(n=l(t,i,L,e.reportAllChanges),u((function(r){i=f(\"FCP\"),n=l(t,i,L,e.reportAllChanges),m((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},M=[.1,.25],D=function(t,e){!function(t,e){e=e||{},C(v((function(){var n,r=f(\"CLS\",0),i=0,a=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=a[0],n=a[a.length-1];i&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,a.push(t)):(i=t.value,a=[t])}})),i>r.value&&(r.value=i,r.entries=a,n())},c=d(\"layout-shift\",o);c&&(n=l(t,r,M,e.reportAllChanges),p((function(){o(c.takeRecords()),n(!0)})),u((function(){i=0,r=f(\"CLS\",0),n=l(t,r,M,e.reportAllChanges),m((function(){return n()}))})),setTimeout(n,0))})))}((function(e){var n=function(t){var e,n={};if(t.entries.length){var i=t.entries.reduce((function(t,e){return t&&t.value>e.value?t:e}));if(i&&i.sources&&i.sources.length){var o=(e=i.sources).find((function(t){return t.node&&1===t.node.nodeType}))||e[0];o&&(n={largestShiftTarget:a(o.node),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:o,largestShiftEntry:i,loadState:r(i.startTime)})}}return Object.assign(t,{attribution:n})}(e);t(n)}),e)},w=function(t,e){C((function(e){var i=function(t){var e={timeToFirstByte:0,firstByteToFCP:t.value,loadState:r(c())};if(t.entries.length){var i=n(),a=t.entries[t.entries.length-1];if(i){var o=i.activationStart||0,u=Math.max(0,i.responseStart-o);e={timeToFirstByte:u,firstByteToFCP:t.value-u,loadState:r(t.entries[0].startTime),navigationEntry:i,fcpEntry:a}}}return Object.assign(t,{attribution:e})}(e);t(i)}),e)},x=0,I=1/0,k=0,A=function(t){t.forEach((function(t){t.interactionId&&(I=Math.min(I,t.interactionId),k=Math.max(k,t.interactionId),x=k?(k-I)/7+1:0)}))},F=function(){return t?x:performance.interactionCount||0},P=function(){\"interactionCount\"in performance||t||(t=d(\"event\",A,{type:\"event\",buffered:!0,durationThreshold:0}))},B=[],O=new Map,R=0,j=function(){var t=Math.min(B.length-1,Math.floor((F()-R)/50));return B[t]},q=[],H=function(t){if(q.forEach((function(e){return e(t)})),t.interactionId||\"first-input\"===t.entryType){var e=B[B.length-1],n=O.get(t.interactionId);if(n||B.length<10||t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};O.set(r.id,r),B.push(r)}B.sort((function(t,e){return e.latency-t.latency})),B.length>10&&B.splice(10).forEach((function(t){return O.delete(t.id)}))}}},N=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=v(t),\"hidden\"===document.visibilityState?t():(n=e(t),p(t)),n},W=[200,500],z=function(t,e){\"PerformanceEventTiming\"in self&&\"interactionId\"in PerformanceEventTiming.prototype&&(e=e||{},b((function(){var n;P();var r,i=f(\"INP\"),a=function(t){N((function(){t.forEach(H);var e=j();e&&e.latency!==i.value&&(i.value=e.latency,i.entries=e.entries,r())}))},o=d(\"event\",a,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});r=l(t,i,W,e.reportAllChanges),o&&(o.observe({type:\"first-input\",buffered:!0}),p((function(){a(o.takeRecords()),r(!0)})),u((function(){R=F(),B.length=0,O.clear(),i=f(\"INP\"),r=l(t,i,W,e.reportAllChanges)})))})))},U=[],V=[],_=0,G=new WeakMap,J=new Map,K=-1,Q=function(t){U=U.concat(t),X()},X=function(){K<0&&(K=N(Y))},Y=function(){J.size>10&&J.forEach((function(t,e){O.has(e)||J.delete(e)}));var t=B.map((function(t){return G.get(t.entries[0])})),e=V.length-50;V=V.filter((function(n,r){return r>=e||t.includes(n)}));for(var n=new Set,r=0;r<V.length;r++){var i=V[r];nt(i.startTime,i.processingEnd).forEach((function(t){n.add(t)}))}var a=U.length-1-50;U=U.filter((function(t,e){return t.startTime>_&&e>a||n.has(t)})),K=-1};q.push((function(t){t.interactionId&&t.target&&!J.has(t.interactionId)&&J.set(t.interactionId,t.target)}),(function(t){var e,n=t.startTime+t.duration;_=Math.max(_,t.processingEnd);for(var r=V.length-1;r>=0;r--){var i=V[r];if(Math.abs(n-i.renderTime)<=8){(e=i).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:n,entries:[t]},V.push(e)),(t.interactionId||\"first-input\"===t.entryType)&&G.set(t,e),X()}));var Z,$,tt,et,nt=function(t,e){for(var n,r=[],i=0;n=U[i];i++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},rt=function(t,n){e||(e=d(\"long-animation-frame\",Q)),z((function(e){var n=function(t){var e=t.entries[0],n=G.get(e),i=e.processingStart,o=n.processingEnd,c=n.entries.sort((function(t,e){return t.processingStart-e.processingStart})),u=nt(e.startTime,o),s=t.entries.find((function(t){return t.target})),f=s&&s.target||J.get(e.interactionId),d=[e.startTime+e.duration,o].concat(u.map((function(t){return t.startTime+t.duration}))),l=Math.max.apply(Math,d),m={interactionTarget:a(f),interactionTargetElement:f,interactionType:e.name.startsWith(\"key\")?\"keyboard\":\"pointer\",interactionTime:e.startTime,nextPaintTime:l,processedEventEntries:c,longAnimationFrameEntries:u,inputDelay:i-e.startTime,processingDuration:o-i,presentationDelay:Math.max(l-o,0),loadState:r(e.startTime)};return Object.assign(t,{attribution:m})}(e);t(n)}),n)},it=[2500,4e3],at={},ot=function(t,e){!function(t,e){e=e||{},b((function(){var n,r=S(),i=f(\"LCP\"),a=function(t){e.reportAllChanges||(t=t.slice(-1)),t.forEach((function(t){t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-s(),0),i.entries=[t],n())}))},o=d(\"largest-contentful-paint\",a);if(o){n=l(t,i,it,e.reportAllChanges);var c=v((function(){at[i.id]||(a(o.takeRecords()),o.disconnect(),at[i.id]=!0,n(!0))}));[\"keydown\",\"click\"].forEach((function(t){addEventListener(t,(function(){return N(c)}),{once:!0,capture:!0})})),p(c),u((function(r){i=f(\"LCP\"),n=l(t,i,it,e.reportAllChanges),m((function(){i.value=performance.now()-r.timeStamp,at[i.id]=!0,n(!0)}))}))}}))}((function(e){var r=function(t){var e={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){var r=n();if(r){var i=r.activationStart||0,o=t.entries[t.entries.length-1],c=o.url&&performance.getEntriesByType(\"resource\").filter((function(t){return t.name===o.url}))[0],u=Math.max(0,r.responseStart-i),s=Math.max(u,c?(c.requestStart||c.startTime)-i:0),f=Math.max(s,c?c.responseEnd-i:0),d=Math.max(f,o.startTime-i);e={element:a(o.element),timeToFirstByte:u,resourceLoadDelay:s-u,resourceLoadDuration:f-s,elementRenderDelay:d-f,navigationEntry:r,lcpEntry:o},o.url&&(e.url=o.url),c&&(e.lcpResourceEntry=c)}}return Object.assign(t,{attribution:e})}(e);t(r)}),e)},ct=[800,1800],ut=function t(e){document.prerendering?b((function(){return t(e)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return t(e)}),!0):setTimeout(e,0)},st=function(t,e){e=e||{};var r=f(\"TTFB\"),i=l(t,r,ct,e.reportAllChanges);ut((function(){var a=n();a&&(r.value=Math.max(a.responseStart-s(),0),r.entries=[a],i(!0),u((function(){r=f(\"TTFB\",0),(i=l(t,r,ct,e.reportAllChanges))(!0)})))}))},ft=function(t,e){st((function(e){var n=function(t){var e={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(t.entries.length){var n=t.entries[0],r=n.activationStart||0,i=Math.max((n.workerStart||n.fetchStart)-r,0),a=Math.max(n.domainLookupStart-r,0),o=Math.max(n.connectStart-r,0),c=Math.max(n.connectEnd-r,0);e={waitingDuration:i,cacheDuration:a-i,dnsDuration:o-a,connectionDuration:c-o,requestDuration:t.value-c,navigationEntry:n}}return Object.assign(t,{attribution:e})}(e);t(n)}),e)},dt={passive:!0,capture:!0},lt=new Date,mt=function(t,e){Z||(Z=e,$=t,tt=new Date,gt(removeEventListener),pt())},pt=function(){if($>=0&&$<tt-lt){var t={entryType:\"first-input\",name:Z.type,target:Z.target,cancelable:Z.cancelable,startTime:Z.timeStamp,processingStart:Z.timeStamp+$};et.forEach((function(e){e(t)})),et=[]}},vt=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;\"pointerdown\"==t.type?function(t,e){var n=function(){mt(t,e),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",n,dt),removeEventListener(\"pointercancel\",r,dt)};addEventListener(\"pointerup\",n,dt),addEventListener(\"pointercancel\",r,dt)}(e,t):mt(e,t)}},gt=function(t){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(e){return t(e,vt,dt)}))},ht=[100,300],Tt=function(t,e){e=e||{},b((function(){var n,r=S(),i=f(\"FID\"),a=function(t){t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},o=function(t){t.forEach(a)},c=d(\"first-input\",o);n=l(t,i,ht,e.reportAllChanges),c&&(p(v((function(){o(c.takeRecords()),c.disconnect()}))),u((function(){var r;i=f(\"FID\"),n=l(t,i,ht,e.reportAllChanges),et=[],$=-1,Z=null,gt(addEventListener),r=a,et.push(r),pt()})))}))},yt=function(t,e){Tt((function(e){var n=function(t){var e=t.entries[0],n={eventTarget:a(e.target),eventType:e.name,eventTime:e.startTime,eventEntry:e,loadState:r(e.startTime)};return Object.assign(t,{attribution:n})}(e);t(n)}),e)};export{M as CLSThresholds,L as FCPThresholds,ht as FIDThresholds,W as INPThresholds,it as LCPThresholds,ct as TTFBThresholds,D as onCLS,w as onFCP,yt as onFID,rt as onINP,ot as onLCP,ft as onTTFB};\n","import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals/attribution';\nimport { unknownString } from '@grafana/faro-core';\nimport { getItem, webStorageType } from '../../utils';\nimport { NAVIGATION_ID_STORAGE_KEY } from '../instrumentationConstants';\n// duplicate keys saved in variables to save bundle size\n// refs: https://github.com/grafana/faro-web-sdk/pull/595#discussion_r1615833968\nconst loadStateKey = 'load_state';\nconst timeToFirstByteKey = 'time_to_first_byte';\nexport class WebVitalsWithAttribution {\n    constructor(corePushMeasurement, webVitalConfig) {\n        this.corePushMeasurement = corePushMeasurement;\n        this.webVitalConfig = webVitalConfig;\n    }\n    initialize() {\n        this.measureCLS();\n        this.measureFCP();\n        this.measureFID();\n        this.measureINP();\n        this.measureLCP();\n        this.measureTTFB();\n    }\n    measureCLS() {\n        var _a;\n        onCLS((metric) => {\n            const { loadState, largestShiftValue, largestShiftTime, largestShiftTarget } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'largest_shift_value', largestShiftValue);\n            this.addIfPresent(values, 'largest_shift_time', largestShiftTime);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.addIfPresent(context, 'largest_shift_target', largestShiftTarget);\n            this.pushMeasurement(values, context);\n        }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n    }\n    measureFCP() {\n        var _a;\n        onFCP((metric) => {\n            const { firstByteToFCP, timeToFirstByte, loadState } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'first_byte_to_fcp', firstByteToFCP);\n            this.addIfPresent(values, timeToFirstByteKey, timeToFirstByte);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.pushMeasurement(values, context);\n        }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n    }\n    measureFID() {\n        var _a;\n        onFID((metric) => {\n            const { eventTime, eventTarget, eventType, loadState } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'event_time', eventTime);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, 'event_target', eventTarget);\n            this.addIfPresent(context, 'event_type', eventType);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.pushMeasurement(values, context);\n        }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n    }\n    measureINP() {\n        var _a;\n        onINP((metric) => {\n            const { interactionTime, presentationDelay, inputDelay, processingDuration, nextPaintTime, loadState, interactionTarget, interactionType, } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'interaction_time', interactionTime);\n            this.addIfPresent(values, 'presentation_delay', presentationDelay);\n            this.addIfPresent(values, 'input_delay', inputDelay);\n            this.addIfPresent(values, 'processing_duration', processingDuration);\n            this.addIfPresent(values, 'next_paint_time', nextPaintTime);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, loadStateKey, loadState);\n            this.addIfPresent(context, 'interaction_target', interactionTarget);\n            this.addIfPresent(context, 'interaction_type', interactionType);\n            this.pushMeasurement(values, context);\n        }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n    }\n    measureLCP() {\n        var _a;\n        onLCP((metric) => {\n            const { elementRenderDelay, resourceLoadDelay, resourceLoadDuration, timeToFirstByte, element } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'element_render_delay', elementRenderDelay);\n            this.addIfPresent(values, 'resource_load_delay', resourceLoadDelay);\n            this.addIfPresent(values, 'resource_load_duration', resourceLoadDuration);\n            this.addIfPresent(values, timeToFirstByteKey, timeToFirstByte);\n            const context = this.buildInitialContext(metric);\n            this.addIfPresent(context, 'element', element);\n            this.pushMeasurement(values, context);\n        }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n    }\n    measureTTFB() {\n        var _a;\n        onTTFB((metric) => {\n            const { dnsDuration, connectionDuration, requestDuration, waitingDuration, cacheDuration } = metric.attribution;\n            const values = this.buildInitialValues(metric);\n            this.addIfPresent(values, 'dns_duration', dnsDuration);\n            this.addIfPresent(values, 'connection_duration', connectionDuration);\n            this.addIfPresent(values, 'request_duration', requestDuration);\n            this.addIfPresent(values, 'waiting_duration', waitingDuration);\n            this.addIfPresent(values, 'cache_duration', cacheDuration);\n            const context = this.buildInitialContext(metric);\n            this.pushMeasurement(values, context);\n        }, { reportAllChanges: (_a = this.webVitalConfig) === null || _a === void 0 ? void 0 : _a.reportAllChanges });\n    }\n    buildInitialValues(metric) {\n        const indicator = metric.name.toLowerCase();\n        return {\n            [indicator]: metric.value,\n            delta: metric.delta,\n        };\n    }\n    buildInitialContext(metric) {\n        var _a;\n        const navigationEntryId = (_a = getItem(NAVIGATION_ID_STORAGE_KEY, webStorageType.session)) !== null && _a !== void 0 ? _a : unknownString;\n        return {\n            id: metric.id,\n            rating: metric.rating,\n            navigation_type: metric.navigationType,\n            navigation_entry_id: navigationEntryId,\n        };\n    }\n    pushMeasurement(values, context) {\n        const type = 'web-vitals';\n        this.corePushMeasurement({ type, values }, { context });\n    }\n    addIfPresent(source, key, metric) {\n        if (metric) {\n            source[key] = metric;\n        }\n    }\n}\n//# sourceMappingURL=webVitalsWithAttribution.js.map","import { BaseInstrumentation, VERSION } from '@grafana/faro-core';\nimport { WebVitalsBasic } from './webVitalsBasic';\nimport { WebVitalsWithAttribution } from './webVitalsWithAttribution';\nexport class WebVitalsInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-web-vitals';\n        this.version = VERSION;\n    }\n    initialize() {\n        this.logDebug('Initializing');\n        const webVitals = this.intializeWebVitalsInstrumentation();\n        webVitals.initialize();\n    }\n    intializeWebVitalsInstrumentation() {\n        var _a, _b, _c;\n        if (((_a = this.config) === null || _a === void 0 ? void 0 : _a.trackWebVitalsAttribution) === false ||\n            ((_c = (_b = this.config) === null || _b === void 0 ? void 0 : _b.webVitalsInstrumentation) === null || _c === void 0 ? void 0 : _c.trackAttribution) === false) {\n            return new WebVitalsBasic(this.api.pushMeasurement, this.config.webVitalsInstrumentation);\n        }\n        return new WebVitalsWithAttribution(this.api.pushMeasurement, this.config.webVitalsInstrumentation);\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { BaseInstrumentation, dateNow, EVENT_SESSION_EXTEND, EVENT_SESSION_RESUME, EVENT_SESSION_START, VERSION, } from '@grafana/faro-core';\nimport { createSession } from '../../metas';\nimport { getSessionManagerByConfig, isSampled } from './sessionManager';\nimport { PersistentSessionsManager } from './sessionManager/PersistentSessionsManager';\nimport { createUserSessionObject, isUserSessionValid } from './sessionManager/sessionManagerUtils';\nexport class SessionInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-session';\n        this.version = VERSION;\n    }\n    sendSessionStartEvent(meta) {\n        var _a, _b;\n        const session = meta.session;\n        if (session && session.id !== ((_a = this.notifiedSession) === null || _a === void 0 ? void 0 : _a.id)) {\n            if (this.notifiedSession && this.notifiedSession.id === ((_b = session.attributes) === null || _b === void 0 ? void 0 : _b['previousSession'])) {\n                this.api.pushEvent(EVENT_SESSION_EXTEND, {}, undefined, { skipDedupe: true });\n                this.notifiedSession = session;\n                return;\n            }\n            this.notifiedSession = session;\n            // no need to add attributes and session id, they are included as part of meta\n            // automatically\n            this.api.pushEvent(EVENT_SESSION_START, {}, undefined, { skipDedupe: true });\n        }\n    }\n    createInitialSession(SessionManager, sessionsConfig) {\n        var _a, _b, _c, _d, _e, _f;\n        let storedUserSession = SessionManager.fetchUserSession();\n        if (sessionsConfig.persistent && sessionsConfig.maxSessionPersistenceTime && storedUserSession) {\n            const now = dateNow();\n            const shouldClearPersistentSession = storedUserSession.lastActivity < now - sessionsConfig.maxSessionPersistenceTime;\n            if (shouldClearPersistentSession) {\n                PersistentSessionsManager.removeUserSession();\n                storedUserSession = null;\n            }\n        }\n        let lifecycleType;\n        let initialSession;\n        if (isUserSessionValid(storedUserSession)) {\n            const sessionId = storedUserSession === null || storedUserSession === void 0 ? void 0 : storedUserSession.sessionId;\n            initialSession = createUserSessionObject({\n                sessionId,\n                isSampled: storedUserSession.isSampled || false,\n                started: storedUserSession === null || storedUserSession === void 0 ? void 0 : storedUserSession.started,\n            });\n            const storedUserSessionMeta = storedUserSession === null || storedUserSession === void 0 ? void 0 : storedUserSession.sessionMeta;\n            // For resumed sessions we want to merge the previous overrides with the configured ones.\n            // If the same key is present in both, the new one will override the old one.\n            const overrides = Object.assign(Object.assign({}, (_a = sessionsConfig.session) === null || _a === void 0 ? void 0 : _a.overrides), storedUserSessionMeta === null || storedUserSessionMeta === void 0 ? void 0 : storedUserSessionMeta.overrides);\n            initialSession.sessionMeta = Object.assign(Object.assign({}, sessionsConfig.session), { id: sessionId, attributes: Object.assign(Object.assign(Object.assign({}, (_b = sessionsConfig.session) === null || _b === void 0 ? void 0 : _b.attributes), storedUserSessionMeta === null || storedUserSessionMeta === void 0 ? void 0 : storedUserSessionMeta.attributes), { \n                    // For valid resumed sessions we do not want to recalculate the sampling decision on each init phase.\n                    isSampled: initialSession.isSampled.toString() }), overrides });\n            lifecycleType = EVENT_SESSION_RESUME;\n        }\n        else {\n            const sessionId = (_d = (_c = sessionsConfig.session) === null || _c === void 0 ? void 0 : _c.id) !== null && _d !== void 0 ? _d : createSession().id;\n            initialSession = createUserSessionObject({\n                sessionId,\n                isSampled: isSampled(),\n            });\n            const overrides = (_e = sessionsConfig.session) === null || _e === void 0 ? void 0 : _e.overrides;\n            initialSession.sessionMeta = Object.assign({ id: sessionId, attributes: Object.assign({ isSampled: initialSession.isSampled.toString() }, (_f = sessionsConfig.session) === null || _f === void 0 ? void 0 : _f.attributes) }, (overrides ? { overrides } : {}));\n            lifecycleType = EVENT_SESSION_START;\n        }\n        return { initialSession, lifecycleType };\n    }\n    registerBeforeSendHook(SessionManager) {\n        var _a;\n        const { updateSession } = new SessionManager();\n        (_a = this.transports) === null || _a === void 0 ? void 0 : _a.addBeforeSendHooks((item) => {\n            var _a, _b, _c;\n            updateSession();\n            const attributes = (_a = item.meta.session) === null || _a === void 0 ? void 0 : _a.attributes;\n            if (attributes && (attributes === null || attributes === void 0 ? void 0 : attributes['isSampled']) === 'true') {\n                let newItem = JSON.parse(JSON.stringify(item));\n                const newAttributes = (_b = newItem.meta.session) === null || _b === void 0 ? void 0 : _b.attributes;\n                newAttributes === null || newAttributes === void 0 ? true : delete newAttributes['isSampled'];\n                if (Object.keys(newAttributes !== null && newAttributes !== void 0 ? newAttributes : {}).length === 0) {\n                    (_c = newItem.meta.session) === null || _c === void 0 ? true : delete _c.attributes;\n                }\n                return newItem;\n            }\n            return null;\n        });\n    }\n    initialize() {\n        this.logDebug('init session instrumentation');\n        const sessionTrackingConfig = this.config.sessionTracking;\n        if (sessionTrackingConfig === null || sessionTrackingConfig === void 0 ? void 0 : sessionTrackingConfig.enabled) {\n            const SessionManager = getSessionManagerByConfig(sessionTrackingConfig);\n            this.registerBeforeSendHook(SessionManager);\n            const { initialSession, lifecycleType } = this.createInitialSession(SessionManager, sessionTrackingConfig);\n            SessionManager.storeUserSession(initialSession);\n            const initialSessionMeta = initialSession.sessionMeta;\n            this.notifiedSession = initialSessionMeta;\n            this.api.setSession(initialSessionMeta);\n            if (lifecycleType === EVENT_SESSION_START) {\n                this.api.pushEvent(EVENT_SESSION_START, {}, undefined, { skipDedupe: true });\n            }\n            if (lifecycleType === EVENT_SESSION_RESUME) {\n                this.api.pushEvent(EVENT_SESSION_RESUME, {}, undefined, { skipDedupe: true });\n            }\n        }\n        this.metas.addListener(this.sendSessionStartEvent.bind(this));\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { faro, genShortID } from '@grafana/faro-core';\nexport function createSession(attributes) {\n    var _a, _b, _c, _d;\n    return {\n        id: (_d = (_c = (_b = (_a = faro.config) === null || _a === void 0 ? void 0 : _a.sessionTracking) === null || _b === void 0 ? void 0 : _b.generateSessionId) === null || _c === void 0 ? void 0 : _c.call(_b)) !== null && _d !== void 0 ? _d : genShortID(),\n        attributes,\n    };\n}\n//# sourceMappingURL=createSession.js.map","import { BaseInstrumentation, EVENT_VIEW_CHANGED, unknownString, VERSION } from '@grafana/faro-core';\n// all this does is send VIEW_CHANGED event\nexport class ViewInstrumentation extends BaseInstrumentation {\n    constructor() {\n        super(...arguments);\n        this.name = '@grafana/faro-web-sdk:instrumentation-view';\n        this.version = VERSION;\n    }\n    sendViewChangedEvent(meta) {\n        var _a, _b, _c, _d;\n        const view = meta.view;\n        if (view && view.name !== ((_a = this.notifiedView) === null || _a === void 0 ? void 0 : _a.name)) {\n            this.api.pushEvent(EVENT_VIEW_CHANGED, {\n                fromView: (_c = (_b = this.notifiedView) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : unknownString,\n                toView: (_d = view.name) !== null && _d !== void 0 ? _d : unknownString,\n            }, undefined, { skipDedupe: true });\n            this.notifiedView = view;\n        }\n    }\n    initialize() {\n        this.metas.addListener(this.sendViewChangedEvent.bind(this));\n    }\n}\n//# sourceMappingURL=instrumentation.js.map","import { allLogLevels, BaseInstrumentation, defaultErrorArgsSerializer, defaultLogArgsSerializer, LogLevel, VERSION, } from '@grafana/faro-core';\nimport { getDetailsFromConsoleErrorArgs } from '../errors/getErrorDetails';\nexport class ConsoleInstrumentation extends BaseInstrumentation {\n    constructor(options = {}) {\n        super();\n        this.options = options;\n        this.name = '@grafana/faro-web-sdk:instrumentation-console';\n        this.version = VERSION;\n        this.errorSerializer = defaultLogArgsSerializer;\n    }\n    initialize() {\n        var _a, _b, _c, _d;\n        this.options = Object.assign(Object.assign({}, this.options), this.config.consoleInstrumentation);\n        const serializeErrors = ((_a = this.options) === null || _a === void 0 ? void 0 : _a.serializeErrors) || !!((_b = this.options) === null || _b === void 0 ? void 0 : _b.errorSerializer);\n        this.errorSerializer = serializeErrors\n            ? ((_d = (_c = this.options) === null || _c === void 0 ? void 0 : _c.errorSerializer) !== null && _d !== void 0 ? _d : defaultErrorArgsSerializer)\n            : defaultLogArgsSerializer;\n        allLogLevels\n            .filter((level) => { var _a, _b; return !((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.disabledLevels) !== null && _b !== void 0 ? _b : ConsoleInstrumentation.defaultDisabledLevels).includes(level); })\n            .forEach((level) => {\n            /* eslint-disable-next-line no-console */\n            console[level] = (...args) => {\n                var _a, _b;\n                try {\n                    if (level === LogLevel.ERROR && !((_a = this.options) === null || _a === void 0 ? void 0 : _a.consoleErrorAsLog)) {\n                        const { value, type, stackFrames } = getDetailsFromConsoleErrorArgs(args, this.errorSerializer);\n                        if (value && !type && !stackFrames) {\n                            this.api.pushError(new Error(ConsoleInstrumentation.consoleErrorPrefix + value));\n                            return;\n                        }\n                        this.api.pushError(new Error(ConsoleInstrumentation.consoleErrorPrefix + value), { type, stackFrames });\n                    }\n                    else if (level === LogLevel.ERROR && ((_b = this.options) === null || _b === void 0 ? void 0 : _b.consoleErrorAsLog)) {\n                        const { value, type, stackFrames } = getDetailsFromConsoleErrorArgs(args, this.errorSerializer);\n                        this.api.pushLog(value ? [ConsoleInstrumentation.consoleErrorPrefix + value] : args, {\n                            level,\n                            context: {\n                                value: value !== null && value !== void 0 ? value : '',\n                                type: type !== null && type !== void 0 ? type : '',\n                                stackFrames: (stackFrames === null || stackFrames === void 0 ? void 0 : stackFrames.length) ? defaultErrorArgsSerializer(stackFrames) : '',\n                            },\n                        });\n                    }\n                    else {\n                        this.api.pushLog(args, { level });\n                    }\n                }\n                catch (err) {\n                    this.logError(err);\n                }\n                finally {\n                    this.unpatchedConsole[level](...args);\n                }\n            };\n        });\n    }\n}\nConsoleInstrumentation.defaultDisabledLevels = [LogLevel.DEBUG, LogLevel.TRACE, LogLevel.LOG];\nConsoleInstrumentation.consoleErrorPrefix = 'console.error: ';\n//# sourceMappingURL=instrumentation.js.map","import { ConsoleInstrumentation, ErrorsInstrumentation, PerformanceInstrumentation, SessionInstrumentation, UserActionInstrumentation, ViewInstrumentation, WebVitalsInstrumentation, } from '../instrumentations';\nexport function getWebInstrumentations(options = {}) {\n    const instrumentations = [\n        new UserActionInstrumentation(),\n        new ErrorsInstrumentation(),\n        new WebVitalsInstrumentation(),\n        new SessionInstrumentation(),\n        new ViewInstrumentation(),\n    ];\n    if (options.enablePerformanceInstrumentation !== false) {\n        // unshift to ensure that initialization starts before the other instrumentations\n        instrumentations.unshift(new PerformanceInstrumentation());\n    }\n    if (options.captureConsole !== false) {\n        instrumentations.push(new ConsoleInstrumentation({\n            disabledLevels: options.captureConsoleDisabledLevels,\n        }));\n    }\n    return instrumentations;\n}\n//# sourceMappingURL=getWebInstrumentations.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { createInternalLogger, defaultBatchingConfig, defaultGlobalObjectKey, defaultInternalLoggerLevel, defaultLogArgsSerializer, defaultUnpatchedConsole, isBoolean, isEmpty, isObject, } from '@grafana/faro-core';\nimport { defaultEventDomain } from '../consts';\nimport { parseStacktrace } from '../instrumentations';\nimport { defaultSessionTrackingConfig } from '../instrumentations/session';\nimport { userActionDataAttribute } from '../instrumentations/userActions/const';\nimport { browserMeta } from '../metas';\nimport { k6Meta } from '../metas/k6';\nimport { createPageMeta } from '../metas/page';\nimport { FetchTransport } from '../transports';\nimport { getWebInstrumentations } from './getWebInstrumentations';\nexport function makeCoreConfig(browserConfig) {\n    var _a;\n    const transports = [];\n    const internalLogger = createInternalLogger(browserConfig.unpatchedConsole, browserConfig.internalLoggerLevel);\n    if (browserConfig.transports) {\n        if (browserConfig.url || browserConfig.apiKey) {\n            internalLogger.error('if \"transports\" is defined, \"url\" and \"apiKey\" should not be defined');\n        }\n        transports.push(...browserConfig.transports);\n    }\n    else if (browserConfig.url) {\n        transports.push(new FetchTransport({\n            url: browserConfig.url,\n            apiKey: browserConfig.apiKey,\n        }));\n    }\n    else {\n        internalLogger.error('either \"url\" or \"transports\" must be defined');\n    }\n    const { \n    // properties with default values\n    dedupe = true, eventDomain = defaultEventDomain, globalObjectKey = defaultGlobalObjectKey, instrumentations = getWebInstrumentations(), internalLoggerLevel = defaultInternalLoggerLevel, isolate = false, logArgsSerializer = defaultLogArgsSerializer, metas = createDefaultMetas(browserConfig), paused = false, preventGlobalExposure = false, unpatchedConsole = defaultUnpatchedConsole, trackUserActionsPreview = false, trackUserActionsDataAttributeName = userActionDataAttribute } = browserConfig, \n    // Properties without default values or which aren't used to create derived config\n    restProperties = __rest(browserConfig, [\"dedupe\", \"eventDomain\", \"globalObjectKey\", \"instrumentations\", \"internalLoggerLevel\", \"isolate\", \"logArgsSerializer\", \"metas\", \"paused\", \"preventGlobalExposure\", \"unpatchedConsole\", \"trackUserActionsPreview\", \"trackUserActionsDataAttributeName\"]);\n    return Object.assign(Object.assign({}, restProperties), { batching: Object.assign(Object.assign({}, defaultBatchingConfig), browserConfig.batching), dedupe: dedupe, globalObjectKey, instrumentations: getFilteredInstrumentations(instrumentations, browserConfig), internalLoggerLevel,\n        isolate,\n        logArgsSerializer,\n        metas,\n        parseStacktrace,\n        paused,\n        preventGlobalExposure,\n        transports,\n        unpatchedConsole,\n        eventDomain, \n        // ignore cloud collector urls by default. These are URLs ending with /collect or /collect/ followed by alphanumeric characters.\n        ignoreUrls: ((_a = browserConfig.ignoreUrls) !== null && _a !== void 0 ? _a : []).concat([/\\/collect(?:\\/[\\w]*)?$/]), sessionTracking: Object.assign(Object.assign(Object.assign({}, defaultSessionTrackingConfig), browserConfig.sessionTracking), crateSessionMeta({\n            trackGeolocation: browserConfig.trackGeolocation,\n            sessionTracking: browserConfig.sessionTracking,\n        })), trackUserActionsPreview,\n        trackUserActionsDataAttributeName });\n}\nfunction getFilteredInstrumentations(instrumentations, { trackUserActionsPreview }) {\n    return instrumentations.filter((instr) => {\n        if (instr.name === '@grafana/faro-web-sdk:instrumentation-user-action' && !trackUserActionsPreview) {\n            return false;\n        }\n        return true;\n    });\n}\nfunction createDefaultMetas(browserConfig) {\n    var _a, _b;\n    const { page, generatePageId } = (_a = browserConfig === null || browserConfig === void 0 ? void 0 : browserConfig.pageTracking) !== null && _a !== void 0 ? _a : {};\n    const initialMetas = [\n        browserMeta,\n        createPageMeta({ generatePageId, initialPageMeta: page }),\n        ...((_b = browserConfig.metas) !== null && _b !== void 0 ? _b : []),\n    ];\n    const isK6BrowserSession = isObject(window.k6);\n    if (isK6BrowserSession) {\n        return [...initialMetas, k6Meta];\n    }\n    return initialMetas;\n}\nfunction crateSessionMeta({ trackGeolocation, sessionTracking, }) {\n    var _a;\n    const overrides = {};\n    if (isBoolean(trackGeolocation)) {\n        overrides.geoLocationTrackingEnabled = trackGeolocation;\n    }\n    if (isEmpty(overrides)) {\n        return {};\n    }\n    return {\n        session: Object.assign(Object.assign({}, ((_a = sessionTracking === null || sessionTracking === void 0 ? void 0 : sessionTracking.session) !== null && _a !== void 0 ? _a : {})), { overrides }),\n    };\n}\n//# sourceMappingURL=makeCoreConfig.js.map","import { initializeFaro as coreInit } from '@grafana/faro-core';\nimport { makeCoreConfig } from './config';\nexport function initializeFaro(config) {\n    const coreConfig = makeCoreConfig(config);\n    if (!coreConfig) {\n        return undefined;\n    }\n    return coreInit(coreConfig);\n}\n//# sourceMappingURL=initialize.js.map","import { type Environment } from '../getEnvironment';\nimport { type FaroEnvironment } from './getFaroEnvironment';\n\nexport const FARO_ENVIRONMENTS = new Map<Environment, FaroEnvironment>([\n  // Uncomment this map entry to test from your local machine\n  // [\n  //   'local',\n  //   {\n  //     environment: 'local',\n  //     appName: 'grafana-metricsdrilldown-app-local',\n  //     faroUrl: 'https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/b854cd2319527968f415fd44ea01fe8a',\n  //   },\n  // ],\n  // Always keep the options below\n  [\n    'dev',\n    {\n      environment: 'dev',\n      appName: 'grafana-metricsdrilldown-app-dev',\n      faroUrl: 'https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/8c57b32175ba39d35dfaccee7cd793c7',\n    },\n  ],\n  [\n    'ops',\n    {\n      environment: 'ops',\n      appName: 'grafana-metricsdrilldown-app-ops',\n      faroUrl: 'https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/d65ab91eb9c5e8c51b474d9313ba28f4',\n    },\n  ],\n  [\n    'prod',\n    {\n      environment: 'prod',\n      appName: 'grafana-metricsdrilldown-app-prod',\n      faroUrl: 'https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/0f4f1bbc97c9e2db4fa85ef75a559885',\n    },\n  ],\n]);\n","import { getWebInstrumentations, initializeFaro, type Faro } from '@grafana/faro-web-sdk';\nimport { config } from '@grafana/runtime';\n\nimport { getFaroEnvironment } from './getFaroEnvironment';\nimport { PLUGIN_BASE_URL, PLUGIN_ID } from '../../constants';\nimport { GIT_COMMIT } from '../../version';\n\nlet faro: Faro | null = null;\n\nexport const getFaro = () => faro;\nexport const setFaro = (instance: Faro | null) => (faro = instance);\n\nexport function initFaro() {\n  if (getFaro()) {\n    return;\n  }\n\n  const faroEnvironment = getFaroEnvironment();\n  if (!faroEnvironment) {\n    return;\n  }\n\n  const { environment, faroUrl, appName } = faroEnvironment;\n  const { apps, bootData } = config;\n  const appRelease = apps[PLUGIN_ID].version;\n  const userEmail = bootData.user.email;\n\n  setFaro(\n    initializeFaro({\n      url: faroUrl,\n      app: {\n        name: appName,\n        release: appRelease,\n        version: GIT_COMMIT,\n        environment,\n      },\n      user: {\n        email: userEmail,\n      },\n      instrumentations: [\n        ...getWebInstrumentations({\n          captureConsole: false,\n        }),\n      ],\n      isolate: true,\n      beforeSend: (event) => {\n        if ((event.meta.page?.url ?? '').includes(PLUGIN_BASE_URL)) {\n          return event;\n        }\n\n        return null;\n      },\n    })\n  );\n}\n","import { getEnvironment, type Environment } from '../getEnvironment';\nimport { FARO_ENVIRONMENTS } from './faro-environments';\n\nexport type FaroEnvironment = { environment: Environment; appName: string; faroUrl: string };\n\nexport function getFaroEnvironment() {\n  const environment = getEnvironment();\n\n  if (!environment || !FARO_ENVIRONMENTS.has(environment)) {\n    return;\n  }\n\n  return FARO_ENVIRONMENTS.get(environment) as FaroEnvironment;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1159__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1269__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1308__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2007__;","import { LogLevel } from '@grafana/faro-web-sdk';\n\nimport { getFaro } from '../faro/faro';\nimport { getEnvironment, type Environment } from '../getEnvironment';\n\nexport type ErrorContext = Record<string, string>;\n\n/**\n * Logger class that handles logging to both console and Grafana Faro.\n *\n * This class provides a unified logging interface that:\n * - Logs to console in non-production environments\n * - Sends logs to Faro for remote monitoring and error tracking\n * - Supports different log levels (trace, debug, info, log, warn, error)\n * - Handles error contexts for better error tracking\n *\n * Used throughout the application for consistent logging and error reporting.\n */\n\nexport class Logger {\n  #environment: Environment | null;\n\n  constructor() {\n    this.#environment = getEnvironment();\n  }\n\n  #callConsole(methodName: 'trace' | 'debug' | 'info' | 'log' | 'warn' | 'error', args: any[]) {\n    // silence console in production\n    if (this.#environment !== 'prod') {\n      console[methodName](...args); // eslint-disable-line no-console\n    }\n  }\n\n  trace() {\n    this.#callConsole('trace', []);\n\n    getFaro()?.api.pushLog([], {\n      level: LogLevel.TRACE,\n    });\n  }\n\n  debug(...args: any) {\n    this.#callConsole('debug', args);\n\n    getFaro()?.api.pushLog(args, {\n      level: LogLevel.DEBUG,\n    });\n  }\n\n  info(...args: any) {\n    this.#callConsole('info', args);\n\n    getFaro()?.api.pushLog(args, {\n      level: LogLevel.INFO,\n    });\n  }\n\n  log(...args: any) {\n    this.#callConsole('log', args);\n\n    getFaro()?.api.pushLog(args, {\n      level: LogLevel.LOG,\n    });\n  }\n\n  warn(...args: any) {\n    this.#callConsole('warn', args);\n\n    getFaro()?.api.pushLog(args, {\n      level: LogLevel.WARN,\n    });\n  }\n\n  error(error: Error, context?: ErrorContext) {\n    this.#callConsole('error', [error]);\n\n    if (context) {\n      this.#callConsole('error', ['Error context', context]);\n    }\n\n    // does not report an error, but an exception ;)\n    getFaro()?.api.pushError(error, {\n      context,\n    });\n  }\n}\n\nexport const logger = new Logger();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3241__;","import pluginJson from './plugin.json';\n\nexport const PLUGIN_ID = pluginJson.id;\nexport const PLUGIN_BASE_URL = `/a/${pluginJson.id}`;\n\nexport const ROUTES = {\n  Trail: 'trail',\n  Drilldown: 'drilldown',\n};\n\nexport const DATASOURCE_REF = {\n  uid: 'gdev-testdata',\n  type: 'testdata',\n};\n","export const GIT_COMMIT = 'cf1b6ebfd4cdcd7e953e37c41de52dadfe7c06b4';\n","export var LogLevel;\n(function (LogLevel) {\n    LogLevel[\"TRACE\"] = \"trace\";\n    LogLevel[\"DEBUG\"] = \"debug\";\n    LogLevel[\"INFO\"] = \"info\";\n    LogLevel[\"LOG\"] = \"log\";\n    LogLevel[\"WARN\"] = \"warn\";\n    LogLevel[\"ERROR\"] = \"error\";\n})(LogLevel || (LogLevel = {}));\nexport const defaultLogLevel = LogLevel.LOG;\nexport const allLogLevels = [\n    LogLevel.TRACE,\n    LogLevel.DEBUG,\n    LogLevel.INFO,\n    LogLevel.LOG,\n    LogLevel.WARN,\n    LogLevel.ERROR,\n];\n//# sourceMappingURL=logLevels.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__5959__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6089__;","export type Environment = 'local' | 'dev' | 'ops' | 'prod';\n\nconst MATCHERS: Array<{ regExp: RegExp; environment: Environment }> = [\n  {\n    regExp: /localhost/,\n    environment: 'local',\n  },\n  {\n    regExp: /grafana-dev\\.net/,\n    environment: 'dev',\n  },\n  {\n    regExp: /grafana-ops\\.net/,\n    environment: 'ops',\n  },\n  {\n    regExp: /grafana\\.net/,\n    environment: 'prod',\n  },\n];\n\nexport function getEnvironment(): Environment | null {\n  if (!window?.location?.host) {\n    return null;\n  }\n\n  const found = MATCHERS.find(({ regExp }) => regExp.test(window.location.host));\n\n  return found ? found.environment : null;\n}\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.40\n   Copyright  2012-2024 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.40',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS',\n        SUFFIX_BROWSER = ' Browser';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return map.hasOwnProperty('*') ? map['*'] : str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i                       // Maxthon\n            ], [VERSION, [NAME, 'Maxthon']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,      \n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n            // Trident based\n            /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n            /(heytap|ovi|115)browser\\/([\\d\\.]+)/i,                              // HeyTap/Ovi/115\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /quark(?:pc)?\\/([-\\w\\.]+)/i                                         // Quark\n            ], [VERSION, [NAME, 'Quark']], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI' + SUFFIX_BROWSER]], [\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihoobrowser\\/?([\\w\\.]*)/i                                       // 360\n            ], [VERSION, [NAME, '360']], [\n            /\\b(qq)\\/([\\w\\.]+)/i                                                // QQ\n            ], [[NAME, /(.+)/, '$1Browser'], VERSION], [\n            /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1' + SUFFIX_BROWSER], VERSION], [              // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i   // QQ/2345\n            ], [NAME, VERSION], [\n            /(lbbrowser|rekonq)/i,                                              // LieBao Browser/Rekonq\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n            /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,                                  // Iron\n            /ome\\/([\\w\\.]+).+qihu (360)[es]e/i                                  // 360\n            ], [VERSION, NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(wolvic|librewolf)\\/([\\w\\.]+)/i                                    // Wolvic/LibreWolf\n            ], [NAME, VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, [VERSION, /_/g, '.']], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Honor\n            /(?:honor)([-\\w ]+)[;\\)]/i\n            ], [MODEL, [VENDOR, 'Honor'], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n            /\\b(opd2\\d{3}a?) bui/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,                           // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // TCL\n            /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\\w*(\\)| bui)/i\n            ], [MODEL, [VENDOR, 'TCL'], [TYPE, TABLET]], [\n\n            // itel\n            /(itel) ((\\w+))/i\n            ], [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { 'tablet' : ['p10001l', 'w7001'], '*' : 'mobile' }]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // Energizer\n            /; (energy ?\\w+)(?: bui|\\))/i,\n            /; energizer ([\\w ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Energizer'], [TYPE, MOBILE]], [\n\n            // Cat\n            /; cat (b35);/i,\n            /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Cat'], [TYPE, MOBILE]], [\n\n            // Smartfren\n            /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Smartfren'], [TYPE, MOBILE]], [\n\n            // Nothing\n            /droid.+; (a(?:015|06[35]|142p?))/i\n            ], [MODEL, [VENDOR, 'Nothing'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n            /; (imo) ((?!tab)[\\w ]+?)(?: bui|\\))/i,                             // IMO\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(imo) (tab \\w+)/i,                                                 // IMO\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /\\b(sm-[lr]\\d\\d[05][fnuw]?s?)\\b/i                                   // Samsung Galaxy Watch\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]], [\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // XR\n            ///////////////////\n\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /(pico) (4|neo3(?: link|pro)?)/i                                    // Pico\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /; (quest( \\d| pro)?)/i                                             // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /(arkweb)\\/([\\w\\.]+)/i                                              // ArkWeb\n            ], [NAME, VERSION], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS/OpenHarmony\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8398__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8531__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js?_cache=\" + {\"78\":\"f9c739e9541f617b7b23\",\"278\":\"b12d9ccdbab43e24f097\",\"384\":\"97f897b53cc6a8be105f\",\"601\":\"8428bc624bdf66c69823\",\"944\":\"641a2488269c99381577\"}[chunkId] + \"\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"public/plugins/grafana-metricsdrilldown-app/\";","\n__webpack_require__.sriHashes = {\"78\":\"*-*-*-CHUNK-SRI-HASH-FXV9QDCMFRcvoSB1ifm26wHkcpW+M=\",\"278\":\"*-*-*-CHUNK-SRI-HASH-RR15hp2Y8qidZZHDGtivEyV1PdjxI=\",\"384\":\"*-*-*-CHUNK-SRI-HASH-ANL6YGPyr4LK+n1J1TmvGxeAw4rEg=\",\"601\":\"*-*-*-CHUNK-SRI-HASH-F62nl9OjC4INwun97a7X/CjdDC9Gg=\",\"944\":\"*-*-*-CHUNK-SRI-HASH-9Nvrh568fe5XpRS5Cb19/W6QCSzAA=\"};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t231: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgrafana_metricsdrilldown_app\"] = self[\"webpackChunkgrafana_metricsdrilldown_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","\nimport amdMetaModule from 'amd-module';\n\n__webpack_public_path__ =\n  amdMetaModule && amdMetaModule.uri\n    ? amdMetaModule.uri.slice(0, amdMetaModule.uri.lastIndexOf('/') + 1)\n    : 'public/plugins/grafana-metricsdrilldown-app/';\n","// CAUTION: Imports in this file will contribute to the module.tsx bundle size\nimport {\n  PluginExtensionPoints,\n  type PluginExtensionAddedLinkConfig,\n  type PluginExtensionPanelContext,\n} from '@grafana/data';\nimport { type DataQuery } from '@grafana/schema';\n\nimport { PLUGIN_BASE_URL, ROUTES } from '../constants';\nimport { logger } from '../tracking/logger/logger';\n\nconst PRODUCT_NAME = 'Grafana Metrics Drilldown';\nconst title = `Open in ${PRODUCT_NAME}`;\nconst description = `Open current query in the ${PRODUCT_NAME} view`;\nconst category = 'metrics-drilldown';\nconst icon = 'gf-prometheus';\n\nexport const linkConfigs: PluginExtensionAddedLinkConfig[] = [\n  {\n    targets: [PluginExtensionPoints.DashboardPanelMenu, PluginExtensionPoints.ExploreToolbarAction],\n    title,\n    description,\n    icon,\n    category,\n    path: createAppUrl(ROUTES.Drilldown),\n    configure: (context) => {\n      if (typeof context === 'undefined') {\n        return;\n      }\n\n      if ('pluginId' in context && context.pluginId !== 'timeseries') {\n        return;\n      }\n\n      const queries = (context as PluginExtensionPanelContext).targets.filter(isPromQuery);\n\n      if (!queries?.length) {\n        return;\n      }\n\n      const { datasource, expr } = queries[0];\n\n      if (!expr || datasource?.type !== 'prometheus') {\n        return;\n      }\n\n      const query = parsePromQueryRegex(expr);\n\n      const timeRange =\n        'timeRange' in context &&\n        typeof context.timeRange === 'object' &&\n        context.timeRange !== null &&\n        'from' in context.timeRange &&\n        'to' in context.timeRange\n          ? (context.timeRange as { from: string; to: string })\n          : undefined;\n\n      const params = appendUrlParameters([\n        [UrlParameters.Metric, query.metric],\n        [UrlParameters.TimeRangeFrom, timeRange?.from],\n        [UrlParameters.TimeRangeTo, timeRange?.to],\n        [UrlParameters.DatasourceId, datasource.uid],\n        ...query.labelFilters.map(\n          (f) => [UrlParameters.Filters, `${f.label}${f.op}${f.value}`] as [UrlParameterType, string]\n        ),\n      ]);\n\n      const pathToMetricView = createAppUrl(ROUTES.Drilldown, params);\n\n      return {\n        path: pathToMetricView,\n      };\n    },\n  },\n];\n\nexport function createAppUrl(route: string, urlParams?: URLSearchParams): string {\n  const urlParamsAsString = urlParams ? `?${urlParams.toString()}` : '';\n  return `${PLUGIN_BASE_URL}/${route}${urlParamsAsString}`;\n}\n\n// We can't use `src/shared.ts` vars here because of the impacts of its imports on the module.tsx bundle size\nexport const UrlParameters = {\n  TimeRangeFrom: 'from',\n  TimeRangeTo: 'to',\n  Metric: 'metric',\n  DatasourceId: `var-ds`,\n  Filters: `var-filters`,\n} as const;\n\nexport type UrlParameterType = (typeof UrlParameters)[keyof typeof UrlParameters];\n\nexport function appendUrlParameters(\n  params: Array<[UrlParameterType, string | undefined]>,\n  initialParams?: URLSearchParams\n): URLSearchParams {\n  const searchParams = new URLSearchParams(initialParams?.toString());\n\n  params.forEach(([key, value]) => {\n    if (value) {\n      searchParams.append(key, value);\n    }\n  });\n\n  return searchParams;\n}\n\ntype PromQuery = DataQuery & { expr: string };\n\nfunction isPromQuery(query: DataQuery): query is PromQuery {\n  return 'expr' in query;\n}\n\ntype PromLabelFilter = { label: string; op: string; value: string };\ntype ParsedPromQuery = { metric: string | undefined; labelFilters: PromLabelFilter[]; query: string };\n\n/**\n * Checks if a potential metric name is a known PromQL function/keyword\n */\nfunction isKnownKeyword(name: string): boolean {\n  return knownKeywords.has(name);\n}\n\n/**\n * Tries to extract a metric name and labels from the beginning of a query\n */\nfunction extractMainMetric(query: string): { metric: string | undefined; labelFilters: PromLabelFilter[] } {\n  // Regex to match a PromQL metric name and optional label selectors:\n  // - First capture group: metric name (must start with letter/underscore/colon, followed by alphanumeric/underscore/colon)\n  // - Second (optional) capture group: contents inside curly braces (label selectors)\n  // The pattern looks for this at the beginning of the string (^) to identify the main metric\n  const queryMatch = query.match(/^([a-zA-Z_:][a-zA-Z0-9_:]*)\\s*(?:\\{([^}]*)\\})?/);\n\n  if (!queryMatch) {\n    return { metric: undefined, labelFilters: [] };\n  }\n\n  const potentialMetric = queryMatch[1];\n  const labelsContent = queryMatch[2];\n  const labelFilters = parseLabels(labelsContent);\n\n  // Check if this is a function call\n  const nextCharIndex = queryMatch[0].length;\n  const nextChar = query[nextCharIndex];\n  const isLikelyFunctionCall = nextChar === '(';\n\n  // If it's a function call and a known keyword, don't treat it as a metric\n  if (isLikelyFunctionCall && isKnownKeyword(potentialMetric)) {\n    return { metric: undefined, labelFilters };\n  }\n\n  return { metric: potentialMetric, labelFilters };\n}\n\n/**\n * Searches for metrics within a query, skipping known PromQL functions\n */\nfunction findMetricWithinQuery(query: string): { metric: string | undefined; labelFilters: PromLabelFilter[] } {\n  // Regex similar to the one used for extractMainMetric, but with global flag (g) to find all matches in the query:\n  // - First capture group: metric name pattern (letter/underscore/colon followed by alphanumeric/underscore/colon)\n  // - Second capture group: optional label selector contents inside curly braces\n  // Unlike extractMainMetric regex, this doesn't anchor to the beginning of the string, allowing it to find metrics anywhere\n  const metricPattern = /([a-zA-Z_:][a-zA-Z0-9_:]*)\\s*(?:\\{([^}]*)\\})?/g;\n  let match;\n\n  // Iteratively search through the query for all metric patterns\n  // exec() returns the next match and advances the regex's lastIndex property\n  // This loop continues until no more matches are found (exec returns null)\n  while ((match = metricPattern.exec(query)) !== null) {\n    const potentialMetric = match[1];\n    const labelsContent = match[2];\n\n    if (!isKnownKeyword(potentialMetric)) {\n      return {\n        metric: potentialMetric,\n        labelFilters: parseLabels(labelsContent),\n      };\n    }\n  }\n\n  return { metric: undefined, labelFilters: [] };\n}\n\n/**\n * TODO: Replace this with a `@grafana/prometheus` solution after\n * https://github.com/grafana/grafana/issues/99111 is resolved.\n * This will allow us to parse PromQL queries in a more robust way,\n * without compromising our `module.tsx` bundle size.\n *\n * Parses a PromQL query string using regular expressions to extract the\n * metric name and label filters. This is a lightweight alternative to\n * heavier parsing libraries.\n *\n * Note: This parser is simplified and may not cover all complex PromQL syntaxes,\n * especially nested functions or advanced selectors. It prioritizes common cases.\n */\nexport function parsePromQueryRegex(query: string): ParsedPromQuery {\n  const trimmedQuery = query.trim();\n\n  // First try to find a metric at the beginning of the query\n  let { metric, labelFilters } = extractMainMetric(trimmedQuery);\n\n  // If no metric found at the beginning, search within the query\n  if (!metric) {\n    const innerResult = findMetricWithinQuery(trimmedQuery);\n    metric = innerResult.metric;\n    labelFilters = [...labelFilters, ...innerResult.labelFilters];\n  }\n\n  return { metric, labelFilters, query };\n}\n\nfunction parseLabels(labelsContent: string): PromLabelFilter[] {\n  if (!labelsContent) {\n    return [];\n  }\n\n  const labelFiltersToAdd: PromLabelFilter[] = [];\n  const labelParts = labelsContent.split(',');\n\n  // Regex to parse Prometheus label filters in the format 'label=~\"value\"':\n  // - First capture group: label name (must start with a letter or underscore, followed by word chars)\n  // - Second capture group: operator (=, !=, =~, !~)\n  // - Third capture group: quoted value (handles escaped characters)\n  const labelRegex = /^\\s*([a-zA-Z_]\\w*)\\s*([=!~]+)\\s*\"((?:[^\"\\\\]|\\\\.)*)\"\\s*$/;\n\n  labelParts.forEach((part) => {\n    if (part.trim() === '') {\n      return;\n    }\n    const match = part.match(labelRegex);\n    if (match) {\n      const unescapedValue = match[3].replace(/\\\\(.)/g, '$1');\n      labelFiltersToAdd.push({ label: match[1], op: match[2], value: unescapedValue });\n    } else {\n      logger.warn(`[Metrics Drilldown] Could not parse label part: \"${part}\" for labels: ${labelsContent}`);\n    }\n  });\n\n  return labelFiltersToAdd;\n}\n\nconst knownKeywords = new Set([\n  'rate',\n  'increase',\n  'sum',\n  'avg',\n  'count',\n  'max',\n  'min',\n  'stddev',\n  'stdvar',\n  'topk',\n  'bottomk',\n  'quantile',\n  'histogram_quantile',\n  'label_replace',\n  'label_join',\n  'vector',\n  'scalar',\n  'time',\n  'timestamp',\n  'month',\n  'year',\n  'day_of_month',\n  'day_of_week',\n  'days_in_month',\n  'hour',\n  'minute',\n  'by',\n  'without',\n  'on',\n  'ignoring',\n  'group_left',\n  'group_right',\n]);\n","import { AppPlugin, type AppRootProps } from '@grafana/data';\nimport { LoadingPlaceholder } from '@grafana/ui';\nimport React, { lazy, Suspense } from 'react';\n\nimport { linkConfigs } from 'extensions/links';\n\nconst LazyApp = lazy(async () => {\n  const { wasmSupported } = await import('./services/sorting');\n  const { default: initOutlier } = await import('@bsull/augurs/outlier');\n\n  if (wasmSupported()) {\n    await initOutlier();\n    console.info('WASM supported');\n  }\n\n  return import('./App/App');\n});\n\nconst App = (props: AppRootProps) => (\n  <Suspense fallback={<LoadingPlaceholder text=\"\" />}>\n    <LazyApp {...props} />\n  </Suspense>\n);\n\nexport const plugin = new AppPlugin<{}>().setRootPage(App);\n\nfor (const linkConfig of linkConfigs) {\n  plugin.addLink(linkConfig);\n}\n"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","Observable","constructor","this","subscribers","subscribe","subscriber","push","unsubscribe","filter","sub","notify","value","forEach","first","result","internalSubscriber","data","subscription","resultUnsubscribeFn","bind","withUnsubscribeOverride","takeWhile","predicate","merge","observables","mergerObservable","subscriptions","observable","originalUnsubscribeAll","unsubscribeAll","TransportItemType","transportItemTypeToBodyKey","EXCEPTION","LOG","MEASUREMENT","TRACE","EVENT","isTypeof","type","isToString","Object","prototype","toString","call","isInstanceOf","reference","err","isNull","isString","isNumber","isNaN","isBoolean","isObject","isFunction","isArray","isEventDefined","Event","isErrorDefined","Error","isError","isEmpty","length","keys","stringifyExternalJson","json","JSON","stringify","valueSeen","WeakSet","_key","has","add","getCircularDependencyReplacer","stringifyObjectValues","obj","o","key","entries","String","dateNow","Date","now","getCurrentTimestamp","toISOString","timestampToIsoString","deepEqual","a","b","aIsArray","bIsArray","idx","aIsObject","bIsObject","aKeys","bKeys","aKey","includes","USER_ACTION_START","USER_ACTION_END","USER_ACTION_CANCEL","USER_ACTION_HALT","defaultExceptionType","defaultErrorArgsSerializer","args","map","arg","join","stacktraceParser","initializeExceptionsAPI","internalLogger","config","metas","transports","tracesApi","actionBuffer","getMessage","_a","debug","lastPayload","parseStacktrace","changeStacktraceParser","newStacktraceParser","ignoreErrors","preserveOriginalError","getStacktraceParser","pushError","error","skipDedupe","stackFrames","context","spanContext","timestampOverwriteMs","message","name","stack","patterns","msg","some","pattern","match","isErrorIgnored","ctx","assign","cause","parseCause","item","meta","payload","timestamp","trace","trace_id","traceId","span_id","spanId","getTraceContext","originalError","frames","undefined","stacktrace","testingPayload","stackTrace","dedupe","addItem","execute","defaultLogArgsSerializer","ItemBuffer","buffer","flushBuffer","cb","size","createUserActionLifecycleHandler","apiMessageBus","trackUserActionsExcludeItem","id","isExcludeFromUserAction","userActionItem","action","parentId","initializeAPI","unpatchedConsole","_unpatchedConsole","_config","otel","getOTEL","getSpanContext","active","initOTEL","isOTELInitialized","pushTraces","initializeTracesAPI","props","metaSession","metaUser","metaView","metaPage","setUser","user","remove","setSession","session","options","newOverrides","overrides","getSession","getPage","page","resetUser","resetSession","setView","view","previousView","getView","setPage","pageMeta","initializeMetaAPI","logArgsSerializer","pushLog","level","initializeLogsAPI","pushMeasurement","values","initializeMeasurementsAPI","pushEvent","attributes","domain","customPayloadTransformer","attrs","eventDomain","initializeEventsAPI","noop","InternalLoggerLevel","defaultInternalLogger","info","prefix","warn","defaultInternalLoggerLevel","ERROR","defaultUnpatchedConsole","console","createInternalLogger","internalLoggerLevel","OFF","WARN","INFO","VERBOSE","initializeInternalLogger","globalThis","g","self","VERSION","faro","registerFaro","api","instrumentations","pause","unpause","isolate","defineProperty","configurable","enumerable","writable","setInternalFaroOnGlobalObject","preventGlobalExposure","globalObjectKey","setFaroOnGlobalObject","BatchExecutor","sendFn","_b","signalBuffer","itemLimit","sendTimeout","paused","flushInterval","start","document","addEventListener","visibilityState","flush","window","setInterval","clearInterval","groupItems","items","itemMap","Map","metaKey","currentItems","get","set","Array","from","initializeTransports","beforeSendHooks","applyBeforeSendHooks","filteredItems","hook","modified","Boolean","sanitizeItems","batchedSend","transport","isBatched","send","batchExecutor","batching","enabled","newTransports","newTransport","existingTransport","addBeforeSendHooks","newBeforeSendHooks","beforeSendHook","getBeforeSendHooks","every","filteredItem","instantSend","isPaused","transportsToRemove","transportToRemove","existingTransportIndex","indexOf","splice","removeBeforeSendHooks","beforeSendHooksToRemove","initializeUnpatchedConsole","initializeFaro","listeners","getValue","reduce","acc","notifyListeners","listener","newItems","itemsToRemove","currentItem","addListener","removeListener","currentListener","initializeMetas","newInstrumentations","newInstrumentation","existingInstrumentation","initialize","instrumentationsToRemove","instrumentationToRemove","existingInstrumentationIndex","destroy","initializeInstrumentations","initial","sdk","version","app","bundleId","appName","sessionTracking","registerInitialMetas","beforeSend","registerInitialTransports","registerInitialInstrumentations","defaultGlobalObjectKey","defaultBatchingConfig","defaultEventDomain","newLineString","evalString","unknownSymbolString","atString","webkitLineRegex","webkitEvalRegex","webkitEvalString","webkitAddressAtString","webkitAddressAtStringLength","firefoxLineRegex","firefoxEvalRegex","firefoxEvalString","safariExtensionString","safariWebExtensionString","reactMinifiedRegex","buildStackFrame","filename","func","lineno","colno","stackFrame","location","href","function","getDataFromSafariExtensions","isSafariExtension","isSafariWebExtension","split","getStackFramesFromError","lines","_line","line","parts","exec","startsWith","submatch","substring","columnNumber","Number","test","slice","STORAGE_KEY","SESSION_INACTIVITY_TIME","defaultSessionTrackingConfig","persistent","maxSessionPersistenceTime","MESSAGE_TYPE_HTTP_REQUEST_START","MESSAGE_TYPE_HTTP_REQUEST_END","userActionDataAttribute","unknownString","browserMeta","parser","UAParser","getBrowser","osName","osVersion","getOS","userAgent","getUA","language","navigator","mobile","brands","userAgentData","getBrands","browser","os","viewportWidth","innerWidth","viewportHeight","innerHeight","k6Meta","k6Properties","k6","isK6Browser","testRunId","currentHref","pageId","createPageMeta","generatePageId","initialPageMeta","locationHref","url","BaseExtension","logDebug","logInfo","logWarn","logError","BaseTransport","getIgnoreUrls","mergeResourceSpans","traces","resourceSpans","currentResource","currentSpans","scopeSpans","newSpans","throttle","callback","delay","lastPending","timeoutBehavior","setTimeout","webStorageType","isWebStorageAvailable","storage","testItem","setItem","removeItem","getItem","webStorageMechanism","isWebStorageTypeAvailable","isLocalStorageAvailable","isSessionStorageAvailable","alphabet","genShortID","Math","floor","random","EVENT_SESSION_START","EVENT_SESSION_RESUME","EVENT_OVERRIDES_SERVICE_NAME","isSampled","_c","samplingRate","sampler","createUserSessionObject","sessionId","started","lastActivity","generateSessionId","isUserSessionValid","getUserSessionUpdater","fetchUserSession","storeUserSession","forceSessionExtend","sessionTrackingConfig","isPersistentSessions","sessionFromStorage","newSession","addSessionMetadataToNextSession","sessionMeta","onSessionChange","previousSession","_d","_e","_f","_g","sessionWithMeta","previousSessionId","getSessionMetaUpdateHandler","sessionFromSessionStorage","sessionAttributes","sessionOverrides","storedSessionMeta","storedSessionMetaOverrides","hasSessionOverridesChanged","hasAttributesChanged","userSession","storedSessionOverrides","serviceName","previousServiceName","sendOverrideEvent","PersistentSessionsManager","updateSession","updateUserSession","init","removeUserSession","storageTypeLocal","storedSession","parse","VolatileSessionsManager","storageTypeSession","getSessionManagerByConfig","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","__rest","s","t","p","hasOwnProperty","getOwnPropertySymbols","i","propertyIsEnumerable","FetchTransport","super","disabledUntil","rateLimitBackoffMs","defaultRateLimitBackoffMs","getNow","promiseBuffer","concurrency","work","producer","shift","reason","promiseProducer","createPromiseBuffer","bufferSize","body","bk","signals","getTransportBody","requestOptions","apiKey","headers","restOfRequestOptions","fetch","method","keepalive","response","status","extendFaroSession","getRetryAfterDate","text","catch","concat","ignoreUrls","retryAfterHeader","date","SessionExpiredString","BaseInstrumentation","arguments","isUrlIgnored","flatMap","ignoredUrl","apiTypeFetch","apiTypeXhr","monitorHttpRequests","emitStartMessage","requestProps","request","emitEndMessage","onRequestEnd","onRequestStart","originalFetch","resource","URL","isIgnoredUrl","requestId","apiType","monitorFetch","originalOpen","XMLHttpRequest","open","monitorXhr","NAVIGATION_ID_STORAGE_KEY","RESOURCE_ENTRY","w3cTraceparentFormat","getSpanContextFromServerTiming","serverTimings","serverEntry","description","includePerformanceEntry","performanceEntryJSON","allowProps","allowPropKey","allowPropValue","perfEntryPropVal","createFaroResourceTiming","resourceEntryRaw","connectEnd","connectStart","decodedBodySize","domainLookupEnd","domainLookupStart","duration","encodedBodySize","fetchStart","initiatorType","nextHopProtocol","redirectEnd","redirectStart","renderBlockingStatus","rbs","requestStart","responseEnd","responseStart","responseStatus","secureConnectionStart","transferSize","workerStart","toFaroPerformanceTimingString","tcpHandshakeTime","dnsLookupTime","tlsNegotiationTime","redirectTime","requestTime","responseTime","fetchTime","serviceWorkerTime","cacheHitStatus","cacheType","getCacheType","protocol","ttfb","createFaroNavigationTiming","navigationEntryRaw","activationStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","loadEventEnd","loadEventStart","parserStart","performance","timing","domLoading","timeOrigin","getDocumentParsingTime","pageLoadTime","documentParsingTime","domProcessingTime","domContentLoadHandlerTime","onLoadTime","max","v","round","DEFAULT_TRACK_RESOURCES","performanceEntriesSubscription","PerformanceInstrumentation","handleReady","readyState","readyStateCompleteHandler","removeEventListener","onDocumentReady","faroNavigationId","faroNavigationEntryResolve","faroNavigationEntryPromise","PerformanceObserver","observedEntries","getEntries","navEntryJson","toJSON","serverTiming","faroPreviousNavigationId","faroNavigationEntry","startTime","observe","buffered","getNavigationTimings","trackResources","resourceEntryJson","faroResourceEntry","faroResourceId","trackUserActionsPreview","observeResourceTimings","getUserEventHandler","httpMonitor","domMutationsMonitor","MutationObserver","_mutationsList","_observer","childList","subtree","characterData","monitorDomMutations","performanceEntriesMonitor","monitorPerformanceEntries","timeoutId","actionRunning","event","userActionName","isApiEventDetected","apiEvent","element","dataAttributeName","parsedDataAttributeName","withoutData","withUpperCase","replace","_","char","toUpperCase","convertDataAttributeName","dataset","getUserActionName","target","trackUserActionsDataAttributeName","endTime","actionId","startTimeout","sendUserActionCancelMessage","runningRequests","pendingActionTimeoutId","isHalted","allMonitorsSub","isRequestEndMessage","isRequestStartMessage","delete","userActionParentEventProps","hasPendingRequests","clearTimeout","haltTime","unsubscribeAllMonitors","endUserAction","eventType","userActionStartTime","userActionEndTime","userActionDuration","userActionEventType","processUserEventHandler","UserActionInstrumentation","valueTypeRegex","getErrorDetails","evt","isDomErrorRes","isEventRes","isErrorEvent","isDomError","isDomException","isEvent","getDetailsFromErrorArgs","source","eventIsString","initialStackFrame","groups","getValueAndTypeFromMessage","getDetailsFromConsoleErrorArgs","serializer","registerOnunhandledrejection","detail","isPrimitive","ErrorsInstrumentation","oldOnerror","onerror","registerOnerror","n","r","persisted","timeStamp","c","getEntriesByType","u","f","prerendering","wasDiscarded","rating","delta","navigationType","supportedEntryTypes","d","l","requestAnimationFrame","m","h","T","y","E","firstHiddenTime","C","S","disconnect","reportAllChanges","L","A","I","M","interactionId","min","k","interactionCount","F","durationThreshold","D","x","R","H","q","entryType","latency","sort","O","requestIdleCallback","N","z","J","K","U","passive","capture","V","W","Z","X","cancelable","processingStart","Y","$","WebVitalsBasic","webVitalConfig","mapping","indicator","executor","metric","cls","hadRecentInput","takeRecords","fcp","fid","inp","PerformanceEventTiming","B","clear","lcp","once","nodeName","nodeType","toLowerCase","classList","trim","parentNode","WeakMap","Set","nt","processingEnd","abs","renderTime","tt","et","it","at","ct","ut","st","dt","lt","mt","gt","pt","vt","ht","yt","Tt","eventTarget","eventTime","eventEntry","loadState","attribution","loadStateKey","timeToFirstByteKey","WebVitalsWithAttribution","corePushMeasurement","measureCLS","measureFCP","measureFID","measureINP","measureLCP","measureTTFB","sources","find","node","largestShiftTarget","largestShiftTime","largestShiftValue","largestShiftSource","largestShiftEntry","buildInitialValues","addIfPresent","buildInitialContext","timeToFirstByte","firstByteToFCP","navigationEntry","fcpEntry","interactionTarget","interactionTargetElement","interactionType","interactionTime","nextPaintTime","processedEventEntries","longAnimationFrameEntries","inputDelay","processingDuration","presentationDelay","resourceLoadDelay","resourceLoadDuration","elementRenderDelay","lcpEntry","lcpResourceEntry","waitingDuration","cacheDuration","dnsDuration","connectionDuration","requestDuration","navigationEntryId","navigation_type","navigation_entry_id","WebVitalsInstrumentation","intializeWebVitalsInstrumentation","trackWebVitalsAttribution","webVitalsInstrumentation","trackAttribution","SessionInstrumentation","sendSessionStartEvent","notifiedSession","createInitialSession","SessionManager","sessionsConfig","lifecycleType","initialSession","storedUserSession","storedUserSessionMeta","createSession","registerBeforeSendHook","newItem","newAttributes","initialSessionMeta","ViewInstrumentation","sendViewChangedEvent","notifiedView","fromView","toView","ConsoleInstrumentation","errorSerializer","consoleInstrumentation","serializeErrors","disabledLevels","defaultDisabledLevels","consoleErrorAsLog","consoleErrorPrefix","getWebInstrumentations","enablePerformanceInstrumentation","unshift","captureConsole","captureConsoleDisabledLevels","DEBUG","getFilteredInstrumentations","instr","createDefaultMetas","browserConfig","pageTracking","initialMetas","crateSessionMeta","trackGeolocation","geoLocationTrackingEnabled","coreConfig","restProperties","makeCoreConfig","FARO_ENVIRONMENTS","environment","faroUrl","getFaro","setFaro","instance","initFaro","faroEnvironment","getEnvironment","getFaroEnvironment","apps","bootData","appRelease","PLUGIN_ID","userEmail","email","release","GIT_COMMIT","PLUGIN_BASE_URL","module","exports","__WEBPACK_EXTERNAL_MODULE__1159__","__WEBPACK_EXTERNAL_MODULE__1269__","__WEBPACK_EXTERNAL_MODULE__1308__","__WEBPACK_EXTERNAL_MODULE__2007__","methodName","logger","LogLevel","log","__WEBPACK_EXTERNAL_MODULE__3241__","pluginJson","ROUTES","Trail","Drilldown","defaultLogLevel","allLogLevels","__WEBPACK_EXTERNAL_MODULE__5959__","__WEBPACK_EXTERNAL_MODULE__6089__","MATCHERS","regExp","host","found","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","SUFFIX_BROWSER","enumerize","arr","enums","str1","str2","lowerize","str","len","rgxMapper","ua","arrays","j","matches","regex","strMapper","windowsVersionMap","regexes","cpu","device","engine","EDGE","extensions","getResult","_navigator","_ua","_uach","_rgxmap","mergedRegexes","extend","_isSelfNav","_browser","brave","isBrave","getCPU","_cpu","getDevice","_device","standalone","maxTouchPoints","getEngine","_engine","_os","platform","setUA","CPU","DEVICE","ENGINE","OS","jQuery","Zepto","prop","__WEBPACK_EXTERNAL_MODULE__7781__","__WEBPACK_EXTERNAL_MODULE__8398__","__WEBPACK_EXTERNAL_MODULE__8531__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","amdO","getter","__esModule","getPrototypeOf","mode","ns","create","def","current","getOwnPropertyNames","definition","chunkId","all","promises","Function","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","origin","crossOrigin","integrity","sriHashes","onScriptComplete","prev","onload","doneFns","removeChild","fn","head","appendChild","Symbol","toStringTag","nmd","paths","children","baseURI","installedChunks","installedChunkData","promise","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","lastIndexOf","PRODUCT_NAME","title","linkConfigs","targets","PluginExtensionPoints","DashboardPanelMenu","ExploreToolbarAction","icon","category","path","createAppUrl","configure","pluginId","queries","isPromQuery","datasource","expr","query","trimmedQuery","labelFilters","queryMatch","potentialMetric","parseLabels","nextCharIndex","nextChar","isKnownKeyword","extractMainMetric","innerResult","metricPattern","labelsContent","findMetricWithinQuery","parsePromQueryRegex","timeRange","params","initialParams","searchParams","URLSearchParams","append","appendUrlParameters","UrlParameters","Metric","TimeRangeFrom","TimeRangeTo","to","DatasourceId","uid","Filters","label","op","route","urlParams","urlParamsAsString","knownKeywords","labelFiltersToAdd","labelParts","labelRegex","part","unescapedValue","LazyApp","lazy","wasmSupported","default","initOutlier","plugin","AppPlugin","setRootPage","Suspense","fallback","LoadingPlaceholder","linkConfig","addLink"],"sourceRoot":""}