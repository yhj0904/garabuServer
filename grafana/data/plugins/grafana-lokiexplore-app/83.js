/*! For license information please see 83.js.LICENSE.txt */
(self.webpackChunkgrafana_lokiexplore_app=self.webpackChunkgrafana_lokiexplore_app||[]).push([[83],{5292:(e,t,n)=>{"use strict";n.d(t,{H9:()=>Ns,Zx:()=>yr,yP:()=>ku,mI:()=>Tu,P1:()=>Yu,OS:()=>qp,No:()=>Xp,WY:()=>ar,n8:()=>ln,d0:()=>Yp,UU:()=>L,Oh:()=>Qd,jD:()=>cp,xK:()=>zd,gF:()=>Bd,N0:()=>Md,Zv:()=>z,Es:()=>Su,vA:()=>Vd,G1:()=>$d,Bs:()=>I,So:()=>W,dt:()=>Hs,dM:()=>Jd,WM:()=>Dd,KE:()=>Sd,JZ:()=>X,Pj:()=>Ru,oh:()=>re,$L:()=>Qu,Sh:()=>ul,Lp:()=>Eu,Eb:()=>fc,Lw:()=>Zu,Gg:()=>r,jh:()=>jl,Go:()=>Zp,TG:()=>Zd});var r={};n.r(r),n.d(r,{K2:()=>Hl});var a=n(1159),o=n(7781),i=n(8531);function s(e,t,n){const r={...t};if(n)for(const e of Object.keys(r))n.includes(e)||delete r[e];return o.urlUtil.renderUrl(o.locationUtil.assureBaseUrl(e),r)}function l(e){const t=(0,a.useParams)(),n=(0,a.useLocation)();return{params:t,isExact:null!==(0,a.matchPath)({path:e,caseSensitive:!1,end:!0},n.pathname),path:n.pathname,url:n.pathname}}const c=new Map;var u=n(5959),d=n.t(u,2),p=n.n(u),h=n(1269);const f={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const m=new Uint8Array(16);function v(){if(!g&&(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(m)}const b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));function y(e,t=0){return b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]}const w=function(e,t,n){if(f.randomUUID&&!t&&!e)return f.randomUUID();const r=(e=e||{}).random||(e.rng||v)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return y(r)};const x=p().memo((function({model:e,...t}){var n;const r=null!=(n=e.constructor.Component)?n:S,[a,o]=(0,u.useState)(0);return(0,u.useEffect)((()=>{const t=e.activate();return o((e=>e+1)),t}),[e]),e.isActive||e.renderBeforeActivation?p().createElement(r,{...t,model:e}):null}));function S(e){return null}class E extends o.BusEventWithPayload{}E.type="scene-object-state-change";class C extends o.BusEventWithPayload{}C.type="scene-object-user-action";var O,_=e=>{throw TypeError(e)},R=(e,t,n)=>t.has(e)||_("Cannot "+n);class D{constructor(e){var t,n,r;t=this,(n=O).has(t)?_("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),((e,t,n)=>{R(e,t,"write to private field"),t.set(e,n)})(this,O,e)}resolve(){return R(e=this,t=O,"read from private field"),n?n.call(e):t.get(e);var e,t,n}}O=new WeakMap;class I{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new h.Subscription,this._refCount=0,this._renderBeforeActivation=!1,e.key||(e.key=w()),this._events=new o.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get renderBeforeActivation(){return this._renderBeforeActivation}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return x}_setParent(e){T(e,(e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this}))}clearParent(){this._parent=void 0}subscribeToState(e){return this._events.subscribe(E,(t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)}))}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,n={...this._state,...e};this._state=Object.freeze(n),this._setParent(e),this._handleActivationOfChangedStateProps(t,n),this.publishEvent(new E({prevState:t,newState:n,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const n of e)if(!t||!t.includes(n)){const e=this._deactivationHandlers.get(n);e&&(e(),this._deactivationHandlers.delete(n))}if(t)for(const n of t)e&&e.includes(n)||this._activateBehavior(n)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:n,$behaviors:r}=this.state;if(this._activationHandlers.forEach((e=>{const t=e();t&&this._deactivationHandlers.set(t,t)})),n&&!n.isActive&&this._deactivationHandlers.set(n,n.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),r)for(const e of r)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof I)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e){throw new Error("SceneObject cancelation handler returned by activate() called a second time")}e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new h.Subscription}useState(){return k(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const n=P(e.state,t);return new e.constructor(n)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){T(this.state,e)}getRef(){return this._ref||(this._ref=new D(this)),this._ref}toJSON(){return{type:Object.getPrototypeOf(this).constructor.name,isActive:this.isActive,state:this.state}}}function k(e,t){var n;const[r,a]=(0,u.useState)(e.state),o=e.state,i=null!=(n=null==t?void 0:t.shouldActivateOrKeepAlive)&&n;return(0,u.useEffect)((()=>{let t;i&&(t=e.activate());const n=e.subscribeToState((e=>{a(e)}));return e.state!==o&&a(e.state),()=>{n.unsubscribe(),t&&t()}}),[e,i]),e.state}function T(e,t){for(const n of Object.values(e)){if(n instanceof I){if(!1===t(n))break}if(Array.isArray(n)){let e=!1;for(const r of n)if(r instanceof I){if(!1===t(r)){e=!0;break}}if(e)break}}}var A=n(3241);function P(e,t){const n={...e};Object.assign(n,t);for(const e in n){if(t&&void 0!==t[e])continue;const r=n[e];if(r instanceof D)console.warn("Cloning object with SceneObjectRef");else if(r instanceof I)n[e]=r.clone();else if(Array.isArray(r)){const t=[];for(const e of r)e instanceof I?t.push(e.clone()):"object"==typeof e?t.push((0,A.cloneDeep)(e)):t.push(e);n[e]=t}else n[e]="object"==typeof r?(0,A.cloneDeep)(r):r}return n}class L extends o.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:o.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const N=new Map;function j(e,t){const n=t.state.$variables;if(!n)return t.parent?j(e,t.parent):null;const r=n.getByName(e);return r||(t.parent?j(e,t.parent):null)}function M(e,t,...n){let r=!1;"undefined"!=typeof window&&(r="true"===localStorage.getItem("grafana.debug.scenes"))}new WeakMap,new WeakMap,new WeakMap,new WeakMap;function $(e){return"isQueryController"in e}function V(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if($(e))return e;t=t.parent}}new WeakMap,new WeakMap;var F=n(1625);F.ob.Auto;var B=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(B||{});class z extends I{constructor(e){super({data:U,...e})}getResultsStream(){const e={origin:this,data:this.state.data};return(0,h.of)(e)}}const U={state:B.Done,series:[],timeRange:(0,o.getDefaultTimeRange)()};class W{constructor(e,t){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}}function H(e,t){let n,r=e;for(;r&&!n;)n=t(r),r=r.parent;return n}const G=/^\d+[yYmMsSwWhHdD]$/;function q(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(G.test(e))return e;if(8===e.length){const t=(0,o.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,o.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(19===e.length){const t=(0,o.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(t.isValid())return t.toISOString()}else if(24===e.length){return(0,o.toUtc)(e).toISOString()}const t=parseInt(e,10);return isNaN(t)?null:(0,o.toUtc)(t).toISOString()}function K(e,t,n,r,a,i){const s=a&&"now"===t,l=Date.now();i&&function(e){e!==Q&&(Q=e,(0,o.setWeekStart)(e))}(i);const c=(e,t)=>o.dateMath.toDateTime?o.dateMath.toDateTime(e,t):o.dateMath.parse(e,t.roundUp,t.timezone,t.fiscalYearStartMonth);return{to:c(s?"now-"+a:t,{roundUp:!0,timezone:n,fiscalYearStartMonth:r,now:l}),from:c(e,{roundUp:!1,timezone:n,fiscalYearStartMonth:r,now:l}),raw:{from:e,to:t}}}let Q;function Y(e,t,n){if((0,o.isDateTime)(e))return e.isValid();if(o.dateMath.isMathString(e))return o.dateMath.isValid(e);return(0,o.dateTimeParse)(e,{roundUp:t,timeZone:n}).isValid()}class X extends I{constructor(e={}){var t;const n=e.from&&Y(e.from)?e.from:"now-6h",r=e.to&&Y(e.to)?e.to:"now",a=Z(e.timeZone);super({from:n,to:r,timeZone:a,value:K(n,r,a||(0,o.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart),refreshOnActivate:null!=(t=e.refreshOnActivate)?t:{percent:10},...e}),this._urlSync=new W(this,{keys:["from","to","timezone","time","time.window"]}),this.onTimeRangeChange=e=>{const t={};if("string"==typeof e.raw.from?t.from=e.raw.from:t.from=e.raw.from.toISOString(),"string"==typeof e.raw.to?t.to=e.raw.to:t.to=e.raw.to.toISOString(),t.value=K(t.from,t.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),t.from!==this.state.from||t.to!==this.state.to){const e=V(this);null==e||e.startProfile("SceneTimeRange"),this._urlSync.performBrowserHistoryAction((()=>{this.setState(t)}))}},this.onTimeZoneChange=e=>{this._urlSync.performBrowserHistoryAction((()=>{var t;const n=null!=(t=Z(e))?t:F.vp,r=K(this.state.from,this.state.to,n,this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);this.setState({timeZone:n,value:r})}))},this.onRefresh=()=>{this.refreshRange(0),this.publishEvent(new i.RefreshEvent,!0)},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState(((e,t)=>{void 0!==e.timeZone&&e.timeZone!==t.timeZone&&this.refreshRange(0)})))}return o.rangeUtil.isRelativeTimeRange(this.state.value.raw)&&this.refreshIfStale(),()=>{this.state.weekStart&&(0,o.setWeekStart)(i.config.bootData.user.weekStart)}}refreshIfStale(){var e,t,n,r;let a;void 0!==(null==(t=null==(e=this.state)?void 0:e.refreshOnActivate)?void 0:t.percent)&&(a=this.calculatePercentOfInterval(this.state.refreshOnActivate.percent)),void 0!==(null==(r=null==(n=this.state)?void 0:n.refreshOnActivate)?void 0:r.afterMs)&&(a=Math.min(this.state.refreshOnActivate.afterMs,null!=a?a:1/0)),void 0!==a&&this.refreshRange(a)}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;const e=H(this.parent.parent,(e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange}));return e||this}refreshRange(e){var t;const n=K(this.state.from,this.state.to,null!=(t=this.state.timeZone)?t:(0,o.getTimeZone)(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);n.to.diff(this.state.value.to,"milliseconds")>=e&&this.setState({value:n})}calculatePercentOfInterval(e){const t=this.state.value.to.diff(this.state.value.from,"milliseconds");return Math.ceil(t/100*e)}getTimeZone(){if(this.state.timeZone&&Z(this.state.timeZone))return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this&&Z(e.state.timeZone)?e.state.timeZone:(0,o.getTimeZone)()}getUrlState(){const e=i.locationService.getSearchObject(),t={from:this.state.from,to:this.state.to,timezone:this.getTimeZone()};return e.time&&e["time.window"]&&(t.time=null,t["time.window"]=null),t}updateFromUrl(e){var t,n,r;const a={};let i=q(e.from),s=q(e.to);if(e.time&&e["time.window"]){const t=function(e,t){const n=isNaN(Date.parse(e))?parseInt(e,10):Date.parse(e);let r;r=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):o.rangeUtil.intervalToMs(t);return{from:(0,o.toUtc)(n-r/2).toISOString(),to:(0,o.toUtc)(n+r/2).toISOString()}}(Array.isArray(e.time)?e.time[0]:e.time,Array.isArray(e["time.window"])?e["time.window"][0]:e["time.window"]);t.from&&Y(t.from)&&(i=t.from),t.to&&Y(t.to)&&(s=t.to)}if(i&&Y(i)&&(a.from=i),s&&Y(s)&&(a.to=s),"string"==typeof e.timezone&&(a.timeZone=""!==e.timezone?e.timezone:void 0),0!==Object.keys(a).length)return a.value=K(null!=(t=a.from)?t:this.state.from,null!=(n=a.to)?n:this.state.to,null!=(r=a.timeZone)?r:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),this.setState(a)}}function Z(e){if(void 0!==e&&""!==e)return e===F.vp||(0,o.getZone)(e)?e:void M()}const J=new z,ee=new X;const te=new class extends I{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function ne(e){var t;return null!=(t=H(e,(e=>e.state.$timeRange)))?t:ee}class re extends o.BusEventWithPayload{}function ae(e){return"object"==typeof e&&"formatter"in e}re.type="scene-variable-changed-value";let oe,ie={};function se(e){const t=ie[e];return t||(ie[e]=(0,A.property)(e))}class le{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,n=t.value;return n=e?se(e)(t.value):t.value,"string"===n||"number"===n||"boolean"===n?n:String(n)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}var ce=n(2540);const ue=e=>"string"==typeof e,de=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},pe=e=>null==e?"":""+e,he=/###/g,fe=e=>e&&e.indexOf("###")>-1?e.replace(he,"."):e,ge=e=>!e||ue(e),me=(e,t,n)=>{const r=ue(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(ge(e))return{};const t=fe(r[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return ge(e)?{}:{obj:e,k:fe(r[a])}},ve=(e,t,n)=>{const{obj:r,k:a}=me(e,t,Object);if(void 0!==r||1===t.length)return void(r[a]=n);let o=t[t.length-1],i=t.slice(0,t.length-1),s=me(e,i,Object);for(;void 0===s.obj&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),s=me(e,i,Object),s?.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},be=(e,t)=>{const{obj:n,k:r}=me(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},ye=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?ue(e[r])||e[r]instanceof String||ue(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):ye(e[r],t[r],n):e[r]=t[r]);return e},we=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Se=e=>ue(e)?e.replace(/[&<>"'\/]/g,(e=>xe[e])):e;const Ee=[" ",",","?","!",";"],Ce=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Oe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let a=e;for(let e=0;e<r.length;){if(!a||"object"!=typeof a)return;let t,o="";for(let i=e;i<r.length;++i)if(i!==e&&(o+=n),o+=r[i],t=a[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&i<r.length-1)continue;e+=i-e+1;break}a=t}return a},_e=e=>e?.replace("_","-"),Re={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Re,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(ue(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new De(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new De(this.logger,e)}}var Ie=new De;class ke{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,a]=t;for(let t=0;t<a;t++)r.apply(r,[e,...n])}))}}}class Te extends ke{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],n&&(Array.isArray(n)?i.push(...n):ue(n)&&a?i.push(...n.split(a)):i.push(n)));const s=be(this.data,i);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=i[0],t=i[1],n=i.slice(2).join(".")),!s&&o&&ue(n)?Oe(this.data?.[e]?.[t],n,a):s}addResource(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=e.split("."),r=t,t=i[1]),this.addNamespaces(t),ve(this.data,i,r),a.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(ue(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),r=n,n=t,t=i[1]),this.addNamespaces(t);let s=be(this.data,i)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?ye(s,n,a):s={...s,...n},ve(this.data,i,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var Ae={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,a){return e.forEach((e=>{t=this.processors[e]?.process(t,n,r,a)??t})),t}};const Pe={},Le=e=>!ue(e)&&"boolean"!=typeof e&&"number"!=typeof e;class Ne extends ke{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Ie.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return void 0!==n?.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=Ee.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const a=Ce.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!a.test(e);if(!o){const t=e.indexOf(n);t>0&&!a.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r));if(o&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:ue(a)?[a]:a};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(a=o.shift()),e=o.join(r)}return{key:e,namespaces:ue(a)?[a]:a}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:i}=this.extractFromKey(e[e.length-1],t),s=i[i.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===l?.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let d=u?.res;const p=u?.usedKey||o,h=u?.exactUsedKey||o,f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,m=void 0!==t.count&&!ue(t.count),v=Ne.hasDefaultValue(t),b=m?this.pluralResolver.getSuffix(l,t.count,t):"",y=t.ordinal&&m?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",w=m&&!t.ordinal&&0===t.count,x=w&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${b}`]||t[`defaultValue${y}`]||t.defaultValue;let S=d;g&&!d&&v&&(S=x);const E=Le(S),C=Object.prototype.toString.apply(S);if(!(g&&S&&E&&["[object Number]","[object Function]","[object RegExp]"].indexOf(C)<0)||ue(f)&&Array.isArray(S))if(g&&ue(f)&&Array.isArray(d))d=d.join(f),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,i=!1;!this.isValidLookup(d)&&v&&(r=!0,d=x),this.isValidLookup(d)||(i=!0,d=o);const c=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:d,p=v&&x!==d&&this.options.updateMissing;if(i||r||p){if(this.logger.log(p?"updateKey":"missingKey",l,s,o,p?x:d),a){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const a=v&&r!==d?r:c;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,a,p,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,s,n,a,p,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&m?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);w&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],o+n,t[`defaultValue${n}`]||x)}))})):r(e,o,x))}d=this.extendTranslation(d,e,t,u,n),i&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${o}`),(i||r)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,r?d:void 0))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,S,{...t,ns:i}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(a){const e=Array.isArray(S),n=e?[]:{},r=e?h:p;for(const e in S)if(Object.prototype.hasOwnProperty.call(S,e)){const o=`${r}${a}${e}`;n[e]=v&&!d?this.translate(o,{...t,defaultValue:Le(x)?x[e]:void 0,joinArrays:!1,ns:i}):this.translate(o,{...t,joinArrays:!1,ns:i}),n[e]===o&&(n[e]=S[e])}d=n}}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,a){var o=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const i=ue(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(i){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&!ue(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return a?.[0]!==r[0]||n.context?o.translate(...r,t):(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null)}),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,s=ue(i)?[i]:i;return null!=e&&s?.length&&!1!==n.applyPostProcessor&&(e=Ae.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ue(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,i),l=s.key;n=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==i.count&&!ue(i.count),d=u&&!i.ordinal&&0===i.count,p=void 0!==i.context&&(ue(i.context)||"number"==typeof i.context)&&""!==i.context,h=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(o=e,Pe[`${h[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(o)||(Pe[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;a=n;const o=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,i);else{let e;u&&(e=this.pluralResolver.getSuffix(n,i.count,i));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),i.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),d&&o.push(l+t)),p){const n=`${l}${this.options.contextSeparator}${i.context}`;o.push(n),u&&(o.push(n+e),i.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,i))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ue(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class je{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ie.create("languageUtils")}getScriptPartFromCode(e){if(!(e=_e(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=_e(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ue(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),ue(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return ue(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):ue(e)&&a(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&a(this.formatLanguageCode(e))})),r}}const Me={zero:0,one:1,two:2,few:3,many:4,other:5},$e={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ve{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ie.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=_e("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:r})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),$e;if(!e.match(/-|_/))return $e;const r=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(r,t)}return this.pluralRulesCache[a]=o,o}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort(((e,t)=>Me[e]-Me[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const Fe=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const r=be(e,n);return void 0!==r?r:be(t,n)})(e,t,n);return!o&&a&&ue(n)&&(o=Oe(e,n,r),void 0===o&&(o=Oe(t,n,r))),o},Be=e=>e.replace(/\$/g,"$$$$");class ze{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ie.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:i,suffixEscaped:s,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Se,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=a?we(a):o||"{{",this.suffix=i?we(i):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?we(d):p||we("$t("),this.nestingSuffix=h?we(h):f||we(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let a,o,i;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const a=Fe(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(a,void 0,n,{...r,...t,interpolationkey:e}):a}const a=e.split(this.formatSeparator),o=a.shift().trim(),i=a.join(this.formatSeparator).trim();return this.format(Fe(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),i,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const c=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Be(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Be(this.escape(e)):Be(e)}].forEach((t=>{for(i=0;a=t.regex.exec(e);){const n=a[1].trim();if(o=l(n),void 0===o)if("function"==typeof c){const t=c(e,a,r);o=ue(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(u){o=a[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else ue(o)||this.useRawValueToEscape||(o=pe(o));const s=t.safeValue(o);if(e=e.replace(a[0],s),u?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}})),e}nest(e,t){let n,r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,a);const i=o.match(/'/g),s=o.match(/"/g);((i?.length??0)%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];a={...o},a=a.replace&&!ue(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(r=t(i.call(this,n[1].trim(),a),a),r&&n[0]===e&&!ue(r))return r;ue(r)||(r=pe(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=s.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const Ue=e=>{const t={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const i=r+JSON.stringify(o);let s=t[i];return s||(s=e(_e(r),a),t[i]=s),s(n)}};class We{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Ie.create("formatter"),this.options=e,this.formats={number:Ue(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Ue(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Ue(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Ue(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Ue(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ue(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find((e=>e.indexOf(")")>-1))){const e=a.findIndex((e=>e.indexOf(")")>-1));a[0]=[a[0],...a.splice(1,e)].join(this.formatSeparator)}const o=a.reduce(((e,t)=>{const{formatName:a,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),a=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=a),"false"===a&&(n[o]=!1),"true"===a&&(n[o]=!0),isNaN(a)||(n[o]=parseInt(a,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[a]){let t=e;try{const i=r?.formatParams?.[r.interpolationkey]||{},s=i.locale||i.lng||r.locale||r.lng||n;t=this.formats[a](e,s,{...o,...r,...i})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${a}`),e}),e);return o}}class He extends ke{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Ie.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,t,n,r){const a={},o={},i={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const i=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===o[i]&&(o[i]=!0):(this.state[i]=1,r=!1,void 0===o[i]&&(o[i]=!0),void 0===a[i]&&(a[i]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(i[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),!t&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const i={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:a}=me(e,t,Object);r[a]=r[a]||[],r[a].push(n)})(n.loaded,[a],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{i[e]||(i[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:a,callback:o});this.readingCalls++;const i=(i,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*a,o)}),a):o(i,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,i);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>i(null,e))).catch(i):i(null,n)}catch(e){i(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ue(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ue(t)&&(t=[t]);const a=this.queueLoad(e,t,n,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],a=n[1];this.read(r,a,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(this.backend?.create){const s={...o,isUpdate:a},l=this.backend.create.bind(this.backend);if(l.length<6)try{let a;a=5===l.length?l(e,t,n,r,s):l(e,t,n,r),a&&"function"==typeof a.then?a.then((e=>i(null,e))).catch(i):i(null,a)}catch(e){i(e)}else l(e,t,n,r,i,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Ge=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),ue(e[1])&&(t.defaultValue=e[1]),ue(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),qe=e=>(ue(e.ns)&&(e.ns=[e.ns]),ue(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ue(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),Ke=()=>{};class Qe extends ke{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=qe(e),this.services={},this.logger=Ie,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(ue(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Ge();this.options={...r,...this.options,...qe(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Ie.init(a(this.modules.logger),this.options):Ie.init(null,this.options),t=this.modules.formatter?this.modules.formatter:We;const n=new je(this.options);this.store=new Te(this.options.resources,this.options);const o=this.services;o.logger=Ie,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Ve(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=a(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new ze(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new He(a(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=a(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=a(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Ne(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Ke),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=de(),i=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ke;const n=ue(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload?.forEach?.((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=de();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Ke),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ae.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=de();this.emit("languageChanging",e);const a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(a(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},i=t=>{e||t||!this.services.languageDetector||(t=[]);const n=ue(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||a(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const a=function(e,t){let o;if("object"!=typeof t){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||a.lng,o.lngs=o.lngs||a.lngs,o.ns=o.ns||a.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||a.keyPrefix);const c=r.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(u,o)};return ue(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(a,e)))}loadNamespaces(e,t){const n=de();return this.options.ns?(ue(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=de();ue(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return a.length?(this.options.preload=r.concat(a),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new je(Ge());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Qe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ke;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new Qe(r);void 0===e.debug&&void 0===e.prefix||(a.logger=a.logger.clone(e));if(["store","services","language"].forEach((e=>{a[e]=this[e]})),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce(((n,r)=>(n[r]={...e[t][r]},n)),{}))),{});a.store=new Te(e,r),a.services.resourceStore=a.store}return a.translator=new Ne(a.services,r),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit(e,...n)})),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ye=Qe.createInstance();Ye.createInstance=Qe.createInstance;Ye.createInstance,Ye.dir,Ye.init,Ye.loadResources,Ye.reloadResources,Ye.use,Ye.changeLanguage,Ye.getFixedT,Ye.t,Ye.exists,Ye.setDefaultNamespace,Ye.hasLoadedNamespace,Ye.loadNamespaces,Ye.loadLanguages;const{slice:Xe,forEach:Ze}=[];let Je=!1;try{document.cookie,Je=!0}catch(e){}const et=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Je||et.splice(1,1);var tt=n(7151),nt=n.n(tt),rt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function at(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(nt()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var a=new RegExp(rt),o=null;null!==(o=a.exec(e));)if(o[0].trim())if(o[1]){var i=o[1].trim(),s=[i,""];i.indexOf("=")>-1&&(s=i.split("=")),t.attrs[s[0]]=s[1],a.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var ot=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,it=/^\s*$/,st=Object.create(null);function lt(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(lt,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var ct={parse:function(e,t){t||(t={}),t.components||(t.components=st);var n,r=[],a=[],o=-1,i=!1;if(0!==e.indexOf("<")){var s=e.indexOf("<");r.push({type:"text",content:-1===s?e:e.substring(0,s)})}return e.replace(ot,(function(s,l){if(i){if(s!=="</"+n.name+">")return;i=!1}var c,u="/"!==s.charAt(1),d=s.startsWith("\x3c!--"),p=l+s.length,h=e.charAt(p);if(d){var f=at(s);return o<0?(r.push(f),r):((c=a[o]).children.push(f),r)}if(u&&(o++,"tag"===(n=at(s)).type&&t.components[n.name]&&(n.type="component",i=!0),n.voidElement||i||!h||"<"===h||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===o&&r.push(n),(c=a[o-1])&&c.children.push(n),a[o]=n),(!u||n.voidElement)&&(o>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(o--,n=-1===o?r:a[o]),!i&&"<"!==h&&h)){c=-1===o?r:a[o].children;var g=e.indexOf("<",p),m=e.slice(p,-1===g?void 0:g);it.test(m)&&(m=" "),(g>-1&&o+c.length>=0||" "!==m)&&c.push({type:"text",content:m})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+lt("",t)}),"")}};const ut=ct,dt=(e,t,n,r)=>{const a=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);ft(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},pt={},ht=(e,t,n,r)=>{ft(n)&&pt[n]||(ft(n)&&(pt[n]=new Date),dt(e,t,n,r))},ft=e=>"string"==typeof e,gt=e=>"object"==typeof e&&null!==e,mt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,vt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bt=e=>vt[e];let yt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(mt,bt)};let wt;const xt=()=>wt,St=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},Et=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?Ct(t):t},Ct=e=>Array.isArray(e)?e:[e],Ot=(e,t,n,r)=>{if(!e)return"";let a="";const o=Ct(e),i=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return o.forEach(((e,o)=>{if(ft(e))a+=`${e}`;else if((0,u.isValidElement)(e)){const{props:s,type:l}=e,c=Object.keys(s).length,u=i.indexOf(l)>-1,d=s.children;if(!d&&u&&!c)return void(a+=`<${l}/>`);if(!d&&(!u||c)||s.i18nIsDynamicList)return void(a+=`<${o}></${o}>`);if(u&&1===c&&ft(d))return void(a+=`<${l}>${d}</${l}>`);const p=Ot(d,t,n,r);a+=`<${o}>${p}</${o}>`}else if(null!==e)if(gt(e)){const{format:t,...o}=e,i=Object.keys(o);if(1===i.length){const e=t?`${i[0]}, ${t}`:i[0];return void(a+=`{{${e}}}`)}dt(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:e})}else dt(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:e});else dt(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r})})),a},_t=(e,t,n,r,a,o)=>{if(""===t)return[];const i=r.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(i.map((e=>`<${e}`)).join("|")).test(t);if(!e&&!s&&!o)return[t];const l={},c=e=>{Ct(e).forEach((e=>{ft(e)||(St(e)?c(Et(e)):gt(e)&&!(0,u.isValidElement)(e)&&Object.assign(l,e))}))};c(e);const d=ut.parse(`<0>${t}</0>`),p={...l,...a},h=(e,t,n)=>{const r=Et(e),a=g(r,t.children,n);return(e=>Array.isArray(e)&&e.every(u.isValidElement))(r)&&0===a.length||e.props?.i18nIsDynamicList?r:a},f=(e,t,n,r,a)=>{e.dummy?(e.children=t,n.push((0,u.cloneElement)(e,{key:r},a?void 0:t))):n.push(...u.Children.map([e],(e=>{const n={...e.props};return delete n.i18nIsDynamicList,(0,u.createElement)(e.type,{...n,key:r,ref:e.ref},a?null:t)})))},g=(t,a,l)=>{const c=Ct(t);return Ct(a).reduce(((t,a,d)=>{const m=a.children?.[0]?.content&&n.services.interpolator.interpolate(a.children[0].content,p,n.language);if("tag"===a.type){let o=c[parseInt(a.name,10)];1!==l.length||o||(o=l[0][a.name]),o||(o={});const v=0!==Object.keys(a.attrs).length?((e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n})({props:a.attrs},o):o,b=(0,u.isValidElement)(v),y=b&&St(a,!0)&&!a.voidElement,w=s&&gt(v)&&v.dummy&&!b,x=gt(e)&&Object.hasOwnProperty.call(e,a.name);if(ft(v)){const e=n.services.interpolator.interpolate(v,p,n.language);t.push(e)}else if(St(v)||y){const e=h(v,a,l);f(v,e,t,d)}else if(w){const e=g(c,a.children,l);f(v,e,t,d)}else if(Number.isNaN(parseFloat(a.name)))if(x){const e=h(v,a,l);f(v,e,t,d,a.voidElement)}else if(r.transSupportBasicHtmlNodes&&i.indexOf(a.name)>-1)if(a.voidElement)t.push((0,u.createElement)(a.name,{key:`${a.name}-${d}`}));else{const e=g(c,a.children,l);t.push((0,u.createElement)(a.name,{key:`${a.name}-${d}`},e))}else if(a.voidElement)t.push(`<${a.name} />`);else{const e=g(c,a.children,l);t.push(`<${a.name}>${e}</${a.name}>`)}else if(gt(v)&&!b){const e=a.children[0]?m:null;e&&t.push(e)}else f(v,m,t,d,1!==a.children.length||!m)}else if("text"===a.type){const e=r.transWrapTextNodes,i=o?r.unescape(n.services.interpolator.interpolate(a.content,p,n.language)):n.services.interpolator.interpolate(a.content,p,n.language);e?t.push((0,u.createElement)(e,{key:`${a.name}-${d}`},i)):t.push(i)}return t}),[])},m=g([{dummy:!0,children:e||[]}],d,Ct(e||[]));return Et(m[0])},Rt=(e,t,n)=>{const r=e.key||t,a=(0,u.cloneElement)(e,{key:r});if(!a.props||!a.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return a;return(0,u.createElement)((function(){return(0,u.createElement)(u.Fragment,null,a)}),{key:r})},Dt=(e,t,n,r)=>e?Array.isArray(e)?((e,t)=>e.map(((e,n)=>Rt(e,n,t))))(e,t):gt(e)?((e,t)=>{const n={};return Object.keys(e).forEach((r=>{Object.assign(n,{[r]:Rt(e[r],r,t)})})),n})(e,t):(ht(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;const It={type:"3rdParty",init(e){((e={})=>{yt={...yt,...e}})(e.options.react),(e=>{wt=e})(e)}},kt=(0,u.createContext)();function Tt({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o={},values:i,defaults:s,components:l,ns:c,i18n:d,t:p,shouldUnescape:h,...f}){const{i18n:g,defaultNS:m}=(0,u.useContext)(kt)||{},v=d||g||xt(),b=p||v?.t.bind(v);return function({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o={},values:i,defaults:s,components:l,ns:c,i18n:d,t:p,shouldUnescape:h,...f}){const g=d||xt();if(!g)return ht(g,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const m=p||g.t.bind(g)||(e=>e),v={...yt,...g.options?.react};let b=c||m.ns||g.options?.defaultNS;b=ft(b)?[b]:b||["translation"];const y=Ot(e,v,g,r),w=s||y||v.transEmptyNodeValue||r,{hashTransKey:x}=v,S=r||(x?x(y||w):y||w);g.options?.interpolation?.defaultVariables&&(i=i&&Object.keys(i).length>0?{...i,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const E=i||void 0!==t&&!g.options?.interpolation?.alwaysFormat||!e?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},C={...o,context:a||o.context,count:t,...i,...E,defaultValue:w,ns:b},O=S?m(S,C):w,_=Dt(l,O,g,r),R=_t(_||e,O,g,v,C,h),D=n??v.defaultTransParent;return D?(0,u.createElement)(D,f,R):R}({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o,values:i,defaults:s,components:l,ns:c||b?.ns||m||v?.options?.defaultNS,i18n:v,t:p,shouldUnescape:h,...f})}const At="en-US",Pt=At,Lt=[{code:At,name:"English"},{code:"fr-FR",name:"Franais"},{code:"es-ES",name:"Espaol"},{code:"de-DE",name:"Deutsch"},{code:"zh-Hans",name:""},{code:"pt-BR",name:"Portugus Brasileiro"},{code:"zh-Hant",name:""},{code:"it-IT",name:"Italiano"},{code:"ja-JP",name:""},{code:"id-ID",name:"Bahasa Indonesia"},{code:"ko-KR",name:""},{code:"ru-RU",name:""},{code:"cs-CZ",name:"etina"},{code:"nl-NL",name:"Nederlands"},{code:"hu-HU",name:"Magyar"},{code:"pt-PT",name:"Portugus"},{code:"pl-PL",name:"Polski"},{code:"sv-SE",name:"Svenska"},{code:"tr-TR",name:"Trke"}];let Nt,jt;function Mt({id:e,ns:t}={}){if(e)return Nt=Vt().getFixedT(null,e),void(jt=t=>(0,ce.jsx)(Tt,{shouldUnescape:!0,ns:e,...t}));Nt=Vt().t,jt=e=>(0,ce.jsx)(Tt,{shouldUnescape:!0,ns:t,...e})}function $t(){var e;if((null==(e=Vt().options)?void 0:e.resources)&&"object"==typeof Vt().options.resources)return;const t=Vt().use(It).init({resources:{},returnEmptyString:!1,lng:Pt});return Mt(),t}function Vt(){return Ye}const Ft=(e,t,n)=>($t(),Nt||(console.warn("t() was called before i18n was initialized. This is probably caused by calling t() in the root module scope, instead of lazily on render"),Nt=Vt().t),Nt(e,t,n));function Bt(e){$t();const t=null!=jt?jt:Tt;return(0,ce.jsx)(t,{shouldUnescape:!0,...e})}const zt=new o.Registry((()=>{const e=[{id:F.$m.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>{if("string"==typeof e)return Ut(e);if(Array.isArray(e)){if(0===e.length)return"__empty__";return"("+(0,A.map)(e,(e=>'"'+Ut(e)+'"')).join(" OR ")+")"}return Ut(`${e}`)}},{id:F.$m.Raw,name:"raw",description:Ft("grafana-scenes.variables.format-registry.formats.description.keep-value-as-is","Keep value as is"),formatter:e=>String(e)},{id:F.$m.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,o.escapeRegex)(e);if(Array.isArray(e)){const t=e.map((e=>"string"==typeof e?(0,o.escapeRegex)(e):(0,o.escapeRegex)(String(e))));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,o.escapeRegex)(`${e}`)}},{id:F.$m.Pipe,name:"Pipe",description:Ft("grafana-scenes.variables.format-registry.formats.description.values-are-separated-by-character","Values are separated by | character"),formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:F.$m.Distributed,name:"Distributed",description:Ft("grafana-scenes.variables.format-registry.formats.description.multiple-values-are-formatted-like-variablevalue","Multiple values are formatted like variable=value"),formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,A.map)(e,((e,t)=>0!==t?n.state.name+"="+e:e)),e.join(",")):`${e}`},{id:F.$m.CSV,name:"Csv",description:Ft("grafana-scenes.variables.format-registry.formats.description.commaseparated-values","Comma-separated values"),formatter:e=>"string"==typeof e?e:(0,A.isArray)(e)?e.join(","):String(e)},{id:F.$m.HTML,name:"HTML",description:Ft("grafana-scenes.variables.format-registry.formats.description.html-escaping-of-values","HTML escaping of values"),formatter:e=>"string"==typeof e?o.textUtil.escapeHtml(e):(0,A.isArray)(e)?o.textUtil.escapeHtml(e.join(", ")):o.textUtil.escapeHtml(String(e))},{id:F.$m.JSON,name:"JSON",description:Ft("grafana-scenes.variables.format-registry.formats.description.json-stringify-value","JSON stringify value"),formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:F.$m.PercentEncode,name:"Percent encode",description:Ft("grafana-scenes.variables.format-registry.formats.description.useful-for-url-escaping-values","Useful for URL escaping values"),formatter:e=>(0,A.isArray)(e)?Wt("{"+e.join(",")+"}"):Wt(e)},{id:F.$m.SingleQuote,name:"Single quote",description:Ft("grafana-scenes.variables.format-registry.formats.description.single-quoted-values","Single quoted values"),formatter:e=>{const t=new RegExp("'","g");if((0,A.isArray)(e))return(0,A.map)(e,(e=>`'${(0,A.replace)(e,t,"\\'")}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,A.replace)(n,t,"\\'")}'`}},{id:F.$m.DoubleQuote,name:"Double quote",description:Ft("grafana-scenes.variables.format-registry.formats.description.double-quoted-values","Double quoted values"),formatter:e=>{const t=new RegExp('"',"g");if((0,A.isArray)(e))return(0,A.map)(e,(e=>`"${(0,A.replace)(e,t,'\\"')}"`)).join(",");let n="string"==typeof e?e:String(e);return`"${(0,A.replace)(n,t,'\\"')}"`}},{id:F.$m.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:Qt},{id:F.$m.Date,name:"Date",description:Ft("grafana-scenes.variables.format-registry.formats.description.format-date-in-different-ways","Format date in different ways"),formatter:(e,t)=>{var n;let r=NaN;if("number"==typeof e?r=e:"string"==typeof e&&(r=parseInt(e,10)),isNaN(r))return"NaN";const a=null!=(n=t[0])?n:"iso";switch(a){case"ms":return String(e);case"seconds":return`${Math.round(r/1e3)}`;case"iso":return(0,o.dateTime)(r).toISOString();default:return(t||[]).length>1?(0,o.dateTime)(r).format(t.join(":")):(0,o.dateTime)(r).format(a)}}},{id:F.$m.Glob,name:"Glob",description:Ft("grafana-scenes.variables.format-registry.formats.description.format-multivalued-variables-using-syntax-example","Format multi-valued variables using glob syntax, example {value1,value2}"),formatter:e=>(0,A.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:F.$m.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:F.$m.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>{if(n.urlSync){const e=n.urlSync.getUrlState();return o.urlUtil.toUrlParams(e)}return Array.isArray(e)?e.map((e=>qt(n.state.name,e))).join("&"):qt(n.state.name,e)}},{id:F.$m.UriEncode,name:"Percent encode as URI",description:Ft("grafana-scenes.variables.format-registry.formats.description.useful-escaping-values-taking-syntax-characters","Useful for URL escaping values, taking into URI syntax characters"),formatter:e=>(0,A.isArray)(e)?Ht("{"+e.join(",")+"}"):Ht(e)}];return e}));function Ut(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function Wt(e){return"object"==typeof e&&(e=String(e)),Gt(encodeURIComponent(e))}const Ht=e=>Gt(encodeURI(String(e))),Gt=e=>e.replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()));function qt(e,t){return`var-${e}=${Wt(t)}`}const Kt={"'":"''",'"':'\\"'};function Qt(e){const t=new RegExp("'|\"","g");if((0,A.isArray)(e))return(0,A.map)(e,(e=>`'${(0,A.replace)(e,t,(e=>{var t;return null!=(t=Kt[e])?t:""}))}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,A.replace)(n,t,(e=>{var t;return null!=(t=Kt[e])?t:""}))}'`}const Yt="All",Xt="$__all",Zt="$__auto",Jt=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g,en="__searchFilter",tn="__scopes";class nn{constructor(e){this._value=e}formatter(){return this._value}}class rn{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=ne(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=ne(this._sceneObject);return"__from"===this.state.name?(0,o.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,o.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class an{constructor(e,t,n){this.state={name:e,type:"time_macro",match:n},this._sceneObject=t}getValue(){var e;const t=Tl(this._sceneObject);if(t){const n=null==(e=t.state.data)?void 0:e.request;return n?"__interval_ms"===this.state.name?n.intervalMs:n.interval:this.state.match}return this.state.match}}function on(e,t){e.setState(t)}function sn(){return i.useLocationService?(0,i.useLocationService)():i.locationService}class ln extends I{constructor(){super(...arguments),this._urlSync=new cn(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,h.map)((e=>(this.updateValueGivenNewOptions(e),{}))))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:n,options:r}=this.state,a=this.getStateUpdateGivenNewOptions(e,t,n);this.interceptStateUpdateAfterValidation(a),this.setStateHelper(a),(a.value!==t||a.text!==n||this.hasAllValue()&&!(0,A.isEqual)(e,r))&&this.publishEvent(new re(this),!0)}getStateUpdateGivenNewOptions(e,t,n){const r={options:e,loading:!1,value:t,text:n};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(r.value=Xt,r.text=Yt):this.state.isMulti?(r.value=[],r.text=[]):(r.value="",r.text=""),r;if(this.hasAllValue())return this.state.includeAll?r.text=Yt:(r.value=e[0].value,r.text=e[0].label,this.state.isMulti&&(r.value=[r.value],r.text=[r.text])),r;if(this.state.isMulti){const a=(Array.isArray(t)?t:[t]).filter((t=>e.find((e=>e.value===t)))),o=a.map((t=>e.find((e=>e.value===t)).label));if(0===a.length){const t=this.getDefaultMultiState(e);r.value=t.value,r.text=t.text}else(0,A.isEqual)(a,t)||(r.value=a),(0,A.isEqual)(o,n)||(r.text=o);return r}let a=function(e,t,n){let r;for(const a of n){if(a.value===e)return a;a.label===t&&(r=a)}return r}(t,n,e);if(a)r.text=a.label,r.value=a.value;else{const t=this.getDefaultSingleState(e);r.value=t.value,r.text=t.text}return r}interceptStateUpdateAfterValidation(e){const t=e.value===Xt&&this.state.text===Yt;this.skipNextValidation&&e.value!==this.state.value&&e.text!==this.state.text&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new un(this.state.allValue,this):this.state.options.map((e=>e.value)):this.state.value}getValueText(){return this.hasAllValue()?Yt:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===Xt||Array.isArray(e)&&e[0]===Xt}getDefaultMultiState(e){return this.state.defaultToAll?{value:[Xt],text:[Yt]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}getDefaultSingleState(e){return this.state.defaultToAll?{value:Xt,text:Yt}:e.length>0?{value:e[0].value,text:e[0].label}:{value:"",text:""}}changeValueTo(e,t,n=!1){var r,a;if(e===this.state.value&&t===this.state.text)return;if(t||(t=Array.isArray(e)?e.map((e=>this.findLabelTextForValue(e))):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const n=this.getDefaultMultiState(this.state.options);e=n.value,t=n.text}e[e.length-1]===Xt?(e=[Xt],t=[Yt]):e[0]===Xt&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}if((0,A.isEqual)(e,this.state.value)&&(0,A.isEqual)(t,this.state.text))return;const o=()=>this.setStateHelper({value:e,text:t,loading:!1});n?null==(a=(r=this._urlSync).performBrowserHistoryAction)||a.call(r,o):o(),this.publishEvent(new re(this),!0)}findLabelTextForValue(e){if(e===Xt)return Yt;const t=this.state.options.find((t=>t.value===e));if(t)return t.label;const n=this.state.options.find((t=>t.label===e));return n?n.label:e}setStateHelper(e){on(this,e)}getOptionsForSelect(e=!0){let t=this.state.options;if(this.state.includeAll&&(t=[{value:Xt,label:Yt},...t]),e&&!Array.isArray(this.state.value)){t.find((e=>e.value===this.state.value))||(t=[{value:this.state.value,label:String(this.state.text)},...t])}return t}refreshOptions(){this.getValueOptions({}).subscribe((e=>{this.updateValueGivenNewOptions(e)}))}}class cn{constructor(e){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];null!=t&&(this._sceneObject.state.includeAll&&(t=function(e){if((0,A.isArray)(e)&&e[0]===Yt)return[Xt];if(e===Yt)return Xt;return e}(t)),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=Xt),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}class un{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===F.$m.Text?Yt:e===F.$m.PercentEncode?zt.get(F.$m.PercentEncode).formatter(this._value,[],this._variable):e===F.$m.QueryParam?zt.get(F.$m.QueryParam).formatter(Yt,[],this._variable):this._value}}function dn(e,t={}){if(e.state.$variables)for(const n of e.state.$variables.state.variables)n.state.skipUrlSync||t[n.state.name]||(t[n.state.name]=n);return e.parent&&dn(e.parent,t),t}const pn=(0,o.getDisplayProcessor)();class hn{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const n of t[1].split(","))e.delete(n);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),n=t[1].split(",");for(const t of e.keys())n.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const fn=new Map([[o.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=dn(this._sceneObject),t=zt.get(F.$m.QueryParam),n=[];for(const r of Object.keys(e)){const a=e[r];if(a instanceof ln&&a.hasAllValue()&&!a.state.allValue){n.push(t.formatter(Xt,[],a));continue}const o=a.getValue();o&&(ae(o)?n.push(o.formatter(F.$m.QueryParam)):n.push(t.formatter(o,[],a)))}return new nn(n.join("&"))}getValueText(){return""}}],[o.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=ne(this._sceneObject).urlSync)?void 0:e.getUrlState();return"browser"===(null==t?void 0:t.timezone)&&(t.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),new nn(o.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__value"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r)return this._match;const{frame:a,rowIndex:i,field:s,calculatedValue:l}=r.value;if(l)switch(e){case"numeric":case"raw":return l.numeric;case"time":return"";default:return(0,o.formattedValueToString)(l)}if(null==i)return this._match;if("time"===e){const e=a.fields.find((e=>e.type===o.FieldType.time));return e?e.values.get(i):void 0}if(!s)return this._match;const c=s.values.get(i);if("raw"===e)return c;const u=(null!=(n=s.display)?n:pn)(c);return"numeric"===e?u.numeric:(0,o.formattedValueToString)(u)}getValueText(){return""}}],["__data",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__data"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;const{frame:a,rowIndex:i}=r.value;if(void 0===i||void 0===e)return this._match;const s={name:a.name,refId:a.refId,fields:(0,o.getFieldDisplayValuesProxy)({frame:a,rowIndex:i})};return null!=(n=se(e)(s))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__series"}}getValue(e){var t;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if("name"!==e)return this._match;const{frame:r,frameIndex:a}=n.value;return(0,o.getFrameDisplayName)(r,a)}getValueText(){return""}}],["__field",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__field"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:a,field:i,data:s}=r.value,l=function(e,t,n){return new Proxy({},{get:(r,a)=>"name"===a?e.name:"displayName"===a?(0,o.getFieldDisplayName)(e,t,n):"labels"===a||"formattedLabels"===a?e.labels?{...e.labels,__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,o.formatLabels)(e.labels,"",!0)}:"":void 0})}(i,a,s);return null!=(n=se(e)(l))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const n=i.locationService.getLocation(),r=null!=(t=i.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new hn(n.search);case"path":return r+n.pathname;default:return r+n.pathname+n.search}}getValueText(){return""}}],["__from",rn],["__to",rn],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=ne(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=i.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=i.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",an],["__interval_ms",an]]);function gn(e,t,n,r,a){return t&&"string"==typeof t?(Jt.lastIndex=0,t.replace(Jt,((t,o,i,s,l,c,u)=>{const d=o||i||l,p=s||u||r,h=function(e,t,n,r){if(n&&n.hasOwnProperty(e)){const t=n[e];if(t)return function(e,t){return oe?(oe.state.name=e,oe.state.value=t):oe=new le(e,t),oe}(e,t)}const a=j(e,r);if(a)return a;const o=fn.get(e);if(o)return new o(e,r,t,n);return null}(d,t,n,e);if(!h)return a&&a.push({match:t,variableName:d,fieldPath:c,format:p,value:t,found:!1}),t;const f=function(e,t,n,r){if(null==n)return"";if(ae(n))return gn(e,n.formatter(r));Array.isArray(n)||"object"!=typeof n||(n=`${n}`);if("function"==typeof r)return r(n,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let a=[];r?(a=r.split(":"),a.length>1?(r=a[0],a=a.slice(1)):a=[]):r=F.$m.Glob;let o=zt.getIfExists(r);o||(console.error(`Variable format ${r} not found. Using glob format as fallback.`),o=zt.get(F.$m.Glob));return o.formatter(n,a,t)}(e,h,h.getValue(c),p);return a&&a.push({match:t,variableName:d,fieldPath:c,format:p,value:f,found:f!==t}),f}))):null!=t?t:""}function mn(e){return void 0!==e.useState}function vn(e){return"enrichDataRequest"in e}function bn(e){return"isDataLayer"in e}function yn(e){return t=>{const n=jl.getQueryController(e.origin);return n?new h.Observable((r=>{e.cancel||(e.cancel=()=>r.complete()),n.queryStarted(e);let a=!1;const o=t.subscribe({next:t=>{a||t.state===B.Loading||(a=!0,n.queryCompleted(e)),r.next(t)},error:e=>r.error(e),complete:()=>{r.complete()}});return()=>{o.unsubscribe(),a||n.queryCompleted(e)}})):t}}function wn(e){return new h.Observable((t=>{t.next({state:B.Loading});(0,h.from)(e).pipe((0,h.map)((()=>({state:B.Done}))),(0,h.catchError)((()=>(t.next({state:B.Error}),[])))).subscribe({next:e=>t.next(e),complete:()=>t.complete()})}))}async function xn(e,t){if(null==e?void 0:e.uid){const t=N.get(e.uid);if(t)return t}if(e&&e.query)return e;const n=(0,i.getDataSourceSrv)().get(e,t);if(t.__sceneObject&&t.__sceneObject.value.valueOf()){const e=jl.getQueryController(t.__sceneObject.value.valueOf());e&&e.state.enableProfiling&&wn(n).pipe(yn({type:"plugin",origin:t.__sceneObject.value.valueOf()})).subscribe((()=>{}))}return await n}class Sn{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const n=jl.lookupVariable(t,e);n&&this._values.set(n.state.name,n.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new Sn;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){if(this._values.has(e.state.name)){if(!Ks(this._values.get(e.state.name),e.getValue()))return!0}return!1}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const n=jl.lookupVariable(t,e);if(!n)continue;const r=n.state.name;if(n&&this._values.has(r)){if(!Ks(this._values.get(r),n.getValue()))return!0}}return!1}}function En(e){return"object"==typeof e&&"getExtraQueries"in e}const Cn=(e,t)=>(0,h.of)(t),On=0;function _n(e){const t=e.getRoot();return vn(t)?t.enrichDataRequest(e):null}let Rn,Dn=new Set;const In=new Set;var kn=n(2007),Tn=n(8449);function An(e,t="latest"){return Pn(e,t.replace(/\-.*/,""))}function Pn(e,t){const n={};for(const[r,a]of Object.entries(e))Ln(a)?n[r]=Pn(a,t):(jn(a,r),n[r]=Nn(a,t));return n}function Ln(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,Tn.valid)(t)}return!1}function Nn(e,t){let n,r=Object.keys(e).sort(Tn.compare);if("latest"===t)return e[r[r.length-1]];for(const e of r)(0,Tn.gte)(t,e)&&(n=e);return n||(n=r[r.length-1]),e[n]}function jn(e,t){if(!Object.keys(e).every((e=>(0,Tn.valid)(e))))throw new Error(`Invalid semver version: '${t}'`)}const Mn="8.5.0",$n={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[Mn]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[Mn]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[Mn]:"Time Range to field"},applyTimeRange:{[Mn]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[Mn]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[Mn]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[Mn]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[Mn]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[Mn]:"Test Data Query scenario select container"},scenarioSelect:{[Mn]:"Test Data Query scenario select"},max:{[Mn]:"TestData max"},min:{[Mn]:"TestData min"},noise:{[Mn]:"TestData noise"},seriesCount:{[Mn]:"TestData series count"},spread:{[Mn]:"TestData spread"},startValue:{[Mn]:"TestData start value"},drop:{[Mn]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[Mn]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[Mn]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[Mn]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[Mn]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[Mn]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[Mn]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[Mn]:e=>`${e} menu`},MenuGroup:{[Mn]:e=>`${e} menu group`},MenuItem:{[Mn]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[Mn]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[Mn]:"SubMenu icon"}}},Panels:{Panel:{title:{[Mn]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[Mn]:e=>`${e} panel`},headerCornerInfo:{[Mn]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[Mn]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[Mn]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[Mn]:"Legend section"}},Legend:{legendItemAlias:{[Mn]:e=>`gpl alias ${e}`},showLegendSwitch:{[Mn]:"gpl show legend"}},xAxis:{labels:{[Mn]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[Mn]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[Mn]:()=>".markdown-html"}},Table:{header:{[Mn]:"table header"},footer:{[Mn]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[Mn]:e=>`Drawer title ${e}`},expand:{[Mn]:"Drawer expand"},contract:{[Mn]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[Mn]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[Mn]:"Panel editor option pane content"},select:{[Mn]:"Panel editor option pane select"},fieldLabel:{[Mn]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[Mn]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[Mn]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[Mn]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[Mn]:"Panel inspector Data content"}},Stats:{content:{[Mn]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[Mn]:"Panel inspector Json content"}},Query:{content:{[Mn]:"Panel inspector Query content"},refreshButton:{[Mn]:"Panel inspector Query refresh button"},jsonObjectKeys:{[Mn]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[Mn]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[Mn]:"data-testid RefreshPicker run button"},intervalButtonV2:{[Mn]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[Mn]:"Query editor tab content"},queryInspectorButton:{[Mn]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[Mn]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[Mn]:"Query editor add query button"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[Mn]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[Mn]:e=>`Query editor row title ${e}`},container:{[Mn]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[Mn]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[Mn]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[Mn]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[Mn]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[Mn]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[Mn]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[Mn]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[Mn]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[Mn]:()=>".page-toolbar"},item:{[Mn]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[Mn]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[Mn]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[Mn]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[Mn]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[Mn]:e=>`Plugin visualization item ${e}`},current:{[Mn]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[Mn]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[Mn]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[Mn]:()=>'input[id*="time-options-input"]'},singleValue:{[Mn]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[Mn]:"Field config editor content"}},OverridesConfigEditor:{content:{[Mn]:"Field overrides editor content"}},FolderPicker:{containerV2:{[Mn]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[Mn]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[Mn]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[Mn]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[Mn]:"data-testid Choose starting day of the week"},placeholder:{[Mn]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[Mn]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[Mn]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[Mn]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[Mn]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[Mn]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[Mn]:"data-testid Search section"},itemsV2:{[Mn]:"data-testid Search items"},cards:{[Mn]:"data-testid Search cards"},collapseFolder:{[Mn]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[Mn]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[Mn]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[Mn]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[Mn]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[Mn]:"data-testid Dashboard link container"},dropDown:{[Mn]:"data-testid Dashboard link dropdown"},link:{[Mn]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[Mn]:"Loading indicator"}},CallToActionCard:{buttonV2:{[Mn]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[Mn]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[Mn]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[Mn]:"data-testid-import-dashboard-textarea"},submit:{[Mn]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[Mn]:"data-testid-import-dashboard-title"},submit:{[Mn]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[Mn]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[Mn]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[Mn]:"data-testid-colorswatch"}},DashboardRow:{title:{[Mn]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[Mn]:"data-testid-user-profile-save"},preferencesSaveButton:{[Mn]:"data-testid-shared-prefs-save"},orgsTable:{[Mn]:"data-testid-user-orgs-table"},sessionsTable:{[Mn]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[Mn]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[Mn]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},Vn={pages:An({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[Mn]:"/alerting/new"}},EditAlertRule:{url:{[Mn]:e=>`alerting/${e}/edit`}}},Login:{url:{[Mn]:"/login"},username:{"10.2.3":"data-testid Username input field",[Mn]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[Mn]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[Mn]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[Mn]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[Mn]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[Mn]:"PasswordlessLogin button"}},Home:{url:{[Mn]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[Mn]:"Data source settings page name input field"},delete:{[Mn]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[Mn]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[Mn]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[Mn]:"Data source settings page Alert"}},DataSources:{url:{[Mn]:"/datasources"},dataSources:{[Mn]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[Mn]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[Mn]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[Mn]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[Mn]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[Mn]:"Add new panel"},itemButtonAddViz:{[Mn]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[Mn]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[Mn]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[Mn]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[Mn]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[Mn]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[Mn]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[Mn]:e=>`/d/${e}`},DashNav:{nav:{[Mn]:"Dashboard navigation"},navV2:{[Mn]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[Mn]:"Dashboard submenu"},submenuItem:{[Mn]:"data-testid template variable"},submenuItemLabels:{[Mn]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[Mn]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[Mn]:"Variable options"},submenuItemValueDropDownOptionTexts:{[Mn]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[Mn]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[Mn]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[Mn]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[Mn]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[Mn]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[Mn]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[Mn]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[Mn]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[Mn]:"data-testid Call to action button Add variable"},newButton:{[Mn]:"Variable editor New variable button"},table:{[Mn]:"Variable editor Table"},tableRowNameFields:{[Mn]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[Mn]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[Mn]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[Mn]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[Mn]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[Mn]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[Mn]:"Variable editor Header link"},modeLabelNew:{[Mn]:"Variable editor Header mode New"},modeLabelEdit:{[Mn]:"Variable editor Header mode Edit"},generalNameInput:{[Mn]:"Variable editor Form Name field"},generalNameInputV2:{[Mn]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[Mn]:"Variable editor Form Type select"},generalTypeSelectV2:{[Mn]:"data-testid Variable editor Form Type select"},generalLabelInput:{[Mn]:"Variable editor Form Label field"},generalLabelInputV2:{[Mn]:"data-testid Variable editor Form Label field"},generalHideSelect:{[Mn]:"Variable editor Form Hide select"},generalHideSelectV2:{[Mn]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[Mn]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[Mn]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[Mn]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[Mn]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[Mn]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[Mn]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[Mn]:"Data source picker select container"},queryOptionsRefreshSelect:{[Mn]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[Mn]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[Mn]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[Mn]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[Mn]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[Mn]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[Mn]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[Mn]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[Mn]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[Mn]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[Mn]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[Mn]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[Mn]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[Mn]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[Mn]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[Mn]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[Mn]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[Mn]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[Mn]:"/explore"},General:{container:{[Mn]:"data-testid Explore"},graph:{[Mn]:"Explore Graph"},table:{[Mn]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[Mn]:e=>`/d-solo/${e}`}},PluginsList:{page:{[Mn]:"Plugins list page"},list:{[Mn]:"Plugins list"},listItem:{[Mn]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[Mn]:"Unsigned plugins notice"}},PluginPage:{page:{[Mn]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[Mn]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[Mn]:"Plugin disabled info"}},PlaylistForm:{name:{[Mn]:"Playlist name"},interval:{[Mn]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[Mn]:e=>`/plugins/${e}`}}}),components:An($n)};var Fn=n(6089),Bn=n(7993);const zn=/[^ -~]/m,Un=/^[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+$/m,Wn=5,Hn=25,Gn=5,qn=1e4,Kn=new Bn.A({intraMode:1});function Qn(e,t,n){let r=[];if(""===n)r=e;else if(zn.test(n)||Un.test(n)||n.length>Hn||Kn.split(n).length>Gn)for(let a=0;a<t.length;a++){t[a].includes(n)&&r.push(e[a])}else{const[a,o,i]=Kn.search(t,n,Wn,qn);(null==a?void 0:a.length)&&(r=o&&i?i.map((t=>e[o.idx[t]])):a.map((t=>e[t])))}return r}function Yn(e,t=!1){let n=e;t&&(n=[{value:Xt,label:Yt},...n]);const r=n.map((e=>e.label));return e=>Qn(n,r,e)}const Xn=()=>!0,Zn=e=>"$__all"!==e.value,Jn=(e,t)=>e.length===t.filter(Zn).length?kn.ToggleAllState.allSelected:0===e.length||1===e.length&&e[0]&&"$__all"===e[0].value?kn.ToggleAllState.noneSelected:kn.ToggleAllState.indeterminate;function er({model:e,state:t}){const{value:n,text:r,key:a,options:o,includeAll:i,isReadOnly:s,allowCustomValue:l=!0}=t,[c,d]=(0,u.useState)(""),[h,f]=(0,u.useState)(!1),g=function(e,t){return{value:e,label:null!=t?t:String(e)}}(n,String(r)),m=jl.getQueryController(e),v=(0,u.useMemo)((()=>Yn(o,i)),[o,i])(c);return p().createElement(kn.Select,{id:a,isValidNewOption:e=>e.trim().length>0,placeholder:Ft("grafana-scenes.variables.variable-value-select.placeholder-select-value","Select value"),width:"auto",disabled:s,value:g,inputValue:c,allowCustomValue:l,virtualized:!0,filterOption:Xn,tabSelectsValue:!1,onInputChange:(t,{action:n})=>"input-change"===n?(d(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{h&&d(String(r))},onCloseMenu:()=>{d("")},options:v,"data-testid":Vn.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${n}`),onChange:t=>{e.changeValueTo(t.value,t.label,!0),null==m||m.startProfile("VariableValueSelect"),h!==t.__isNew__&&f(t.__isNew__)}})}function tr({model:e,state:t}){const{value:n,options:r,key:a,maxVisibleValues:o,noValueOnClear:i,includeAll:s,isReadOnly:l,allowCustomValue:c=!0}=t,d=(0,u.useMemo)((()=>(0,A.isArray)(n)?n:[n]),[n]),[h,f]=(0,u.useState)(d),[g,m]=(0,u.useState)(""),v=jl.getQueryController(e),b=(0,u.useMemo)((()=>Yn(r,s)),[r,s]);(0,u.useEffect)((()=>{f(d)}),[d]);const y=r.length>0?"Select value":"",w=b(g);return p().createElement(kn.MultiSelect,{id:a,placeholder:y,width:"auto",inputValue:g,disabled:l,value:h,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:c,toggleAllOptions:{enabled:!0,optionsFilter:Zn,determineToggleAllState:Jn},options:w,closeMenuOnSelect:!1,components:{Option:nr},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:n})=>"input-change"===n?(m(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(m(""),""):g,onBlur:()=>{e.changeValueTo(h,void 0,!0),null==v||v.startProfile("VariableValueSelectMulti")},filterOption:Xn,"data-testid":Vn.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${h}`),onChange:(t,n)=>{"clear"===n.action&&i&&e.changeValueTo([],void 0,!0),f(t.map((e=>e.value)))}})}const nr=({children:e,data:t,innerProps:n,innerRef:r,isFocused:a,isSelected:o,indeterminate:i,renderOptionLabel:s})=>{var l;const{onMouseMove:c,onMouseOver:u,...d}=n,h=(0,kn.useTheme2)(),f=(0,kn.getSelectStyles)(h),g=(0,kn.useStyles2)(rr);return p().createElement("div",{ref:r,className:(0,Fn.cx)(f.option,a&&f.optionFocused),...d,"data-testid":"data-testid Select option",title:t.title},p().createElement("div",{className:g.checkbox},p().createElement(kn.Checkbox,{indeterminate:i,value:o})),p().createElement("div",{className:f.optionBody,"data-testid":Vn.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(l=t.label)?l:String(t.value))},p().createElement("span",null,e)))};nr.displayName="SelectMenuOptions";const rr=e=>({checkbox:(0,Fn.css)({marginRight:e.spacing(2)})});function ar({model:e}){const t=e.useState();return t.isMulti?p().createElement(tr,{model:e,state:t}):p().createElement(er,{model:e,state:t})}class or{constructor(e){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1}getRestorableKey(){return`restorable-var-${this._sceneObject.state.name}`}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey(),this.getRestorableKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:ir(this._sceneObject.state.value,this._sceneObject.state.text),[this.getRestorableKey()]:this._sceneObject.state.defaultValue?this._sceneObject.state.restorable?"true":"false":null}}updateFromUrl(e){let t=e[this.getKey()],n=e[this.getRestorableKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:a}=(r=t,(r=Array.isArray(r)?r:[r]).reduce(((e,t)=>{const[n,r]=(null!=t?t:"").split(",");return e.values.push(al(n)),e.texts.push(al(null!=r?r:n)),e}),{values:[],texts:[]}));if(this._sceneObject.state.defaultValue&&("false"===n||void 0===n))return;if("false"===n)return void this._sceneObject.changeValueTo([],[],!1);this._sceneObject.changeValueTo(e,a)}var r}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}function ir(e,t){return e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map(((e,n)=>{if(null==e)return"";e=String(e);let r=t[n];return r=null==r?e:String(r),ol(e,r)}))}function sr(e){const t=e.getRoot();return"enrichFiltersRequest"in t?t.enrichFiltersRequest(e):null}var lr,cr=e=>{throw TypeError(e)},ur=(e,t,n)=>t.has(e)||cr("Cannot "+n);class dr{constructor(e){((e,t,n)=>{t.has(e)?cr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n)})(this,lr),this.text="__sceneObject",this.valueOf=()=>{return ur(e=this,t=lr,"read from private field"),n?n.call(e):t.get(e);var e,t,n},((e,t,n)=>{ur(e,t,"write to private field"),t.set(e,n)})(this,lr,e)}toString(){}get value(){return this}}function pr(e){return function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;const n=parseInt(t[1],10),r=parseInt(t[2],10),a=parseInt(t[3],10);return 11===n?0===r&&a>=4||1===r&&a>=2||r>1:10===n?4===r&&a>=8||r>=5:n>11}(i.config.buildInfo.version)?new dr(e):{value:e,text:"__sceneObject"}}function hr(e){const{model:t}=e,n=(0,kn.useTheme2)(),r=fr(n),a=(0,kn.getInputStyles)({theme:n,invalid:!1}),o=(0,A.isArray)(t.state.value)?t.state.value:t.state.value?[t.state.value]:[];let i=[];return o&&o.length&&i.push(p().createElement(kn.IconButton,{"aria-label":Ft("grafana-scenes.variables.default-group-by-custom-indicator-container.aria-label-clear","clear"),key:"clear",name:"times",size:"md",className:r.clearIcon,onClick:e=>{t.changeValueTo([],void 0,!0),t.checkIfRestorable([])&&t.setState({restorable:!0})}})),t.state.restorable&&i.push(p().createElement(kn.IconButton,{onClick:t=>{e.model.restoreDefaultValues()},onKeyDownCapture:t=>{"Enter"===t.key&&e.model.restoreDefaultValues()},key:"restore",name:"history",size:"md",className:r.clearIcon,tooltip:Ft("grafana-scenes.variables.default-group-by-custom-indicator-container.tooltip-restore-groupby-set-by-this-dashboard","Restore groupby set by this dashboard.")})),t.state.restorable||i.push(p().createElement(kn.Tooltip,{key:"tooltip",content:Ft("grafana-scenes.variables.default-group-by-custom-indicator-container.tooltip","Applied by default in this dashboard. If edited, it carries over to other dashboards."),placement:"bottom"},p().createElement(kn.Icon,{name:"info-circle",size:"md"}))),p().createElement("div",{onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},className:(0,Fn.cx)(a.suffix,(0,Fn.css)({position:"relative"}))},i)}lr=new WeakMap;const fr=e=>({clearIcon:(0,Fn.css)({color:e.colors.action.disabledText,cursor:"pointer","&:hover:before":{backgroundColor:"transparent"},"&:hover":{color:e.colors.text.primary}})});class gr extends ln{constructor(e){super({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby",...e,noValueOnClear:!0}),this.isLazy=!0,this._urlSync=new or(this),this._activationHandler=()=>(this.state.defaultValue&&this.checkIfRestorable(this.state.value)&&this.setState({restorable:!0}),()=>{this.state.defaultValue&&this.restoreDefaultValues()}),this._getKeys=async e=>{var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,null));if(a&&a.replace)return a.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(il(null!=(r=null==a?void 0:a.values)?r:[]));if(!e.getTagKeys)return[];const o=el(this),i=this.state.baseFilters||[],s=jl.getTimeRange(this).state.value,l=await e.getTagKeys({filters:i,queries:o,timeRange:s,scopes:jl.getScopes(this),...sr(this)});sl(l)&&this.setState({error:l.error.message});let c=il(l);a&&(c=c.concat(il(a.values)));const u=this.state.tagKeyRegexFilter;return u&&(c=c.filter((e=>e.text.match(u)))),c},this.state.defaultValue&&this.changeValueTo(this.state.defaultValue.value,this.state.defaultValue.text,!1),"auto"===this.state.applyMode&&this.addActivationHandler((()=>(In.add(this),()=>In.delete(this)))),this.addActivationHandler(this._activationHandler)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,h.map)((e=>(this._updateValueGivenNewOptions(e),{}))))}_updateValueGivenNewOptions(e){const{value:t,text:n}=this.state,r={options:e,loading:!1,value:null!=t?t:[],text:null!=n?n:[]};this.setState(r)}getValueOptions(e){return this.state.defaultOptions?(0,h.of)(this.state.defaultOptions.map((e=>({label:e.text,value:String(e.value),group:e.group})))):(this.setState({loading:!0,error:null}),(0,h.from)(xn(this.state.datasource,{__sceneObject:pr(this)})).pipe((0,h.mergeMap)((e=>(0,h.from)(this._getKeys(e)).pipe((0,h.tap)((e=>{sl(e)&&this.setState({error:e.error.message})})),(0,h.map)((e=>il(e))),(0,h.take)(1),(0,h.mergeMap)((e=>{const t=e.map((e=>({label:e.text,value:e.value?String(e.value):e.text,group:e.group})));return(0,h.of)(t)})))))))}checkIfRestorable(e){var t,n,r,a;const o=(0,A.isArray)(null==(t=this.state.defaultValue)?void 0:t.value)?null==(n=this.state.defaultValue)?void 0:n.value:(null==(r=this.state.defaultValue)?void 0:r.value)?[null==(a=this.state.defaultValue)?void 0:a.value]:[],i=(0,A.isArray)(e)?e:[e];return i.length!==o.length||!(0,A.isEqual)(i,o)}restoreDefaultValues(){this.setState({restorable:!1}),this.state.defaultValue&&this.changeValueTo(this.state.defaultValue.value,this.state.defaultValue.text,!0)}getDefaultMultiState(e){return{value:[],text:[]}}}gr.Component=function({model:e}){const{value:t,text:n,key:r,isMulti:a=!0,maxVisibleValues:o,noValueOnClear:i,options:s,includeAll:l,allowCustomValue:c=!0,defaultValue:d}=e.useState(),f=(0,u.useMemo)((()=>{const e=(0,A.isArray)(t)?t:[t],r=(0,A.isArray)(n)?n:[n];return e.map(((e,t)=>{var n;return{value:e,label:String(null!=(n=r[t])?n:e)}}))}),[t,n]),[g,m]=(0,u.useState)(!1),[v,b]=(0,u.useState)(!1),[y,w]=(0,u.useState)(""),[x,S]=(0,u.useState)(f),E=(0,u.useMemo)((()=>Yn(s,l)),[s,l]),C=void 0!==d;(0,u.useEffect)((()=>{S(f)}),[f]);const O=(t,{action:n})=>"input-change"===n?(w(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(w(""),""):y,_=(0,u.useMemo)((()=>ll(E(y).map(vr))),[E,y]);return a?p().createElement(kn.MultiSelect,{"aria-label":Ft("grafana-scenes.variables.group-by-variable-renderer.aria-label-group-by-selector","Group by selector"),"data-testid":`GroupBySelect-${r}`,id:r,placeholder:Ft("grafana-scenes.variables.group-by-variable-renderer.placeholder-group-by-label","Group by label"),width:"auto",allowCustomValue:c,inputValue:y,value:x,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,options:_,filterOption:mr,closeMenuOnSelect:!1,isOpen:v,isClearable:!0,hideSelectedOptions:!1,isLoading:g,components:{Option:nr,...C?{IndicatorsContainer:()=>p().createElement(hr,{model:e})}:{}},onInputChange:O,onBlur:()=>{e.changeValueTo(x.map((e=>e.value)),x.map((e=>e.label)),!0);const t=e.checkIfRestorable(x.map((e=>e.value)));t!==e.state.restorable&&e.setState({restorable:t})},onChange:(t,n)=>{"clear"===n.action&&i&&e.changeValueTo([],void 0,!0),S(t)},onOpenMenu:async()=>{m(!0),await(0,h.lastValueFrom)(e.validateAndUpdate()),m(!1),b(!0)},onCloseMenu:()=>{b(!1)}}):p().createElement(kn.Select,{"aria-label":Ft("grafana-scenes.variables.group-by-variable-renderer.aria-label-group-by-selector","Group by selector"),"data-testid":`GroupBySelect-${r}`,id:r,placeholder:Ft("grafana-scenes.variables.group-by-variable-renderer.placeholder-group-by-label","Group by label"),width:"auto",inputValue:y,value:x&&x.length>0?x:null,allowCustomValue:c,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,options:_,filterOption:mr,closeMenuOnSelect:!0,isOpen:v,isClearable:!0,hideSelectedOptions:!1,noValueOnClear:!0,isLoading:g,onInputChange:O,onChange:(t,n)=>{if("clear"===n.action)return S([]),void(i&&e.changeValueTo([]));(null==t?void 0:t.value)&&(S([t]),e.changeValueTo([t.value],t.label?[t.label]:void 0))},onOpenMenu:async()=>{m(!0),await(0,h.lastValueFrom)(e.validateAndUpdate()),m(!1),b(!0)},onCloseMenu:()=>{b(!1)}})};const mr=()=>!0;function vr(e){const{label:t,value:n,group:r}=e,a={label:t,value:n};return r&&(a.group=r),a}function br(e){return p().createElement(kn.Tooltip,{content:Ft("grafana-scenes.utils.loading-indicator.content-cancel-query","Cancel query")},p().createElement(kn.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function yr(e){const t=(0,kn.useStyles2)(wr),n=(0,kn.useTheme2)(),r="vertical"===e.layout,a=Boolean(e.isLoading)?p().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":Vn.components.LoadingIndicator.icon},p().createElement(br,{onCancel:t=>{var n;t.preventDefault(),t.stopPropagation(),null==(n=e.onCancel)||n.call(e)}})):null;let o=null;e.error&&(o=p().createElement(kn.Tooltip,{content:e.error,placement:"bottom"},p().createElement(kn.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let i=null;e.description&&(i=p().createElement(kn.Tooltip,{content:e.description,placement:r?"top":"bottom"},p().createElement(kn.Icon,{className:t.normalIcon,name:"info-circle"})));const s="string"==typeof e.label?Vn.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let l;return l=r?p().createElement("label",{className:(0,Fn.cx)(t.verticalLabel,e.className),"data-testid":s,htmlFor:e.htmlFor},e.prefix,e.label,i,o,e.icon&&p().createElement(kn.Icon,{name:e.icon,className:t.normalIcon}),a,e.onRemove&&p().createElement(kn.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:Ft("grafana-scenes.utils.controls-label.tooltip-remove","Remove")}),e.suffix):p().createElement("label",{className:(0,Fn.cx)(t.horizontalLabel,e.className),"data-testid":s,htmlFor:e.htmlFor},e.prefix,o,e.icon&&p().createElement(kn.Icon,{name:e.icon,className:t.normalIcon}),e.label,i,a,e.suffix),l}const wr=e=>({horizontalLabel:(0,Fn.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:`${e.shape.radius.default} 0 0 ${e.shape.radius.default}`,border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,Fn.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,Fn.css)({color:e.colors.error.text}),normalIcon:(0,Fn.css)({color:e.colors.text.secondary})});function xr(e){const t=e.map((e=>{var t;return null!=(t=e.label)?t:String(e.value)}));return n=>Qn(e,t,n)}function Sr(e,t){return""!==e?{value:e,label:t||e}:null}const Er=()=>!0;function Cr({filter:e,model:t}){var n,r,a,o,i;const s=(0,kn.useStyles2)(Or),[l,c]=(0,u.useState)([]),[d,h]=(0,u.useState)([]),[f,g]=(0,u.useState)(!1),[m,v]=(0,u.useState)(!1),[b,y]=(0,u.useState)(!1),[w,x]=(0,u.useState)(!1),[S,E]=(0,u.useState)(!1),[C,O]=(0,u.useState)(""),[_,R]=(0,u.useState)(!1),[D,I]=(0,u.useState)(e.values?e.values.map(((t,n)=>{var r;return Sr(t,null==(r=e.valueLabels)?void 0:r[n])})):[]),k=Bs(e.operator),T=Sr(e.key,e.keyLabel),A=Sr(e.value,null==(n=e.valueLabels)?void 0:n[0]),P=(0,u.useMemo)((()=>xr(d)),[d]),L=t.state.onAddCustomValue,N=(0,u.useMemo)((()=>ll(P(C))),[P,C]),j={isMulti:!0,value:D,components:{Option:nr},hideSelectedOptions:!1,closeMenuOnSelect:!1,openMenuOnFocus:!1,onChange:e=>{I(e),e.some((e=>e.__isNew__))&&O("")},onBlur:()=>{var n,r;t._updateFilter(e,{value:null!=(r=null==(n=D[0])?void 0:n.value)?r:"",values:D.map((e=>e.value)),valueLabels:D.map((e=>e.label))})}},M=p().createElement(kn.Select,{virtualized:!0,allowCustomValue:null==(r=t.state.allowCustomValue)||r,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,Fn.cx)(s.value,w?s.widthWhenOpen:void 0),width:"auto",value:A,filterOption:Er,placeholder:Ft("grafana-scenes.variables.ad-hoc-filter-renderer.value-select.placeholder-select-value","Select value"),options:N,inputValue:C,onInputChange:(e,{action:t})=>("input-change"===t&&O(e),e),onChange:n=>{L&&n.__isNew__?t._updateFilter(e,L(n,e)):t._updateFilter(e,{value:n.value,valueLabels:n.label?[n.label]:[n.value]}),_!==n.__isNew__&&R(n.__isNew__)},isOpen:w&&!m,isLoading:m,openMenuOnFocus:!0,onOpenMenu:async()=>{var n;v(!0),x(!0);const r=await t._getValuesFor(e);v(!1),h(r),_&&O(null!=(n=null==A?void 0:A.label)?n:"")},onCloseMenu:()=>{x(!1),O("")},...k&&j}),$=p().createElement(kn.Select,{key:""+(m?"loading":"loaded"),disabled:t.state.readOnly,className:(0,Fn.cx)(s.key,b?s.widthWhenOpen:void 0),width:"auto",allowCustomValue:null==(a=t.state.allowCustomValue)||a,value:T,placeholder:Ft("grafana-scenes.variables.ad-hoc-filter-renderer.key-select.placeholder-select-label","Select label"),options:ll(l),onChange:n=>{t._updateFilter(e,{key:n.value,keyLabel:n.label,value:"",valueLabels:[""],values:void 0}),I([])},autoFocus:""===e.key,isOpen:b&&!f,isLoading:f,onOpenMenu:async()=>{y(!0),g(!0);const n=await t._getKeys(e.key);g(!1),c(n)},onCloseMenu:()=>{y(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0}),V=p().createElement(kn.Select,{className:(0,Fn.cx)(s.operator,{[s.widthWhenOpen]:S}),value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),onChange:n=>{var r,a;const o=e.operator,i=n.value,s={operator:i};Bs(o)&&!Bs(i)?(s.value="",s.valueLabels=[""],s.values=void 0,I([])):!Bs(o)&&Bs(i)&&e.value&&(s.values=[e.value],I([{value:e.value,label:null!=(a=null==(r=e.valueLabels)?void 0:r[0])?a:e.value}])),t._updateFilter(e,s)},onOpenMenu:()=>{E(!0)},onCloseMenu:()=>{E(!1)}});if("vertical"===t.state.layout){if(e.key){const n=p().createElement(yr,{layout:"vertical",label:null!=(o=e.key)?o:"",onRemove:()=>t._removeFilter(e)});return p().createElement(kn.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:s.field},p().createElement("div",{className:s.wrapper},V,M))}return p().createElement(kn.Field,{label:Ft("grafana-scenes.variables.ad-hoc-filter-renderer.label-select-label","Select label"),"data-testid":`AdHocFilter-${e.key}`,className:s.field},$)}return p().createElement("div",{className:s.wrapper,"data-testid":`AdHocFilter-${e.key}`},$,V,M,p().createElement(kn.Button,{variant:"secondary","aria-label":Ft("grafana-scenes.variables.ad-hoc-filter-renderer.aria-label-remove-filter","Remove filter"),title:Ft("grafana-scenes.variables.ad-hoc-filter-renderer.title-remove-filter","Remove filter"),className:s.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(i=e.key)?i:""}`,onClick:()=>t._removeFilter(e)}))}const Or=e=>({field:(0,Fn.css)({marginBottom:0}),wrapper:(0,Fn.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,Fn.css)({minWidth:e.spacing(16)}),value:(0,Fn.css)({flexBasis:"content",flexShrink:1,minWidth:"90px"}),key:(0,Fn.css)({flexBasis:"content",minWidth:"90px",flexShrink:1}),operator:(0,Fn.css)({flexShrink:0,flexBasis:"content"}),removeButton:(0,Fn.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function _r({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?p().createElement(Cr,{filter:n,model:e}):p().createElement(kn.Button,{variant:"secondary",icon:"plus",title:Ft("grafana-scenes.variables.ad-hoc-filter-builder.title-add-filter","Add filter"),"aria-label":Ft("grafana-scenes.variables.ad-hoc-filter-builder.aria-label-add-filter","Add filter"),"data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class Rr{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters,t=this._variable.state.originFilters;let n=[];return 0===e.length&&0===(null==t?void 0:t.length)?{[this.getKey()]:[""]}:(e.length&&n.push(...e.filter(Fs).filter((e=>!e.hidden)).map((e=>Dr(e).map(rl).join("|")))),(null==t?void 0:t.length)&&n.push(...null==t?void 0:t.filter(Fs).filter((e=>!e.hidden&&e.origin&&e.restorable)).map((e=>Dr(e).map(rl).join("|").concat(`#${e.origin}#restorable`)))),{[this.getKey()]:n.length?n:[""]})}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const n=function(e){if(Array.isArray(e)){return e.map(Ir).filter(kr)}const t=Ir(e);return null===t?[]:[t]}(t),r=function(e,t){const n=[...e];for(let r=0;r<t.length;r++){const a=e.findIndex((e=>e.key===t[r].key));a>-1?(t[r].origin||"dashboard"!==e[a].origin||(t[r].origin="dashboard",t[r].restorable=!0),Vs(t[r])&&(t[r].matchAllFilter=!0),n[a]=t[r]):"dashboard"===t[r].origin?(delete t[r].origin,delete t[r].restorable):-1===a&&"scope"===t[r].origin&&t[r].restorable&&n.push(t[r])}return n}([...this._variable.state.originFilters||[]],n);this._variable.setState({filters:n.filter((e=>!e.origin)),originFilters:r})}}function Dr(e){var t;const n=[ol(e.key,e.keyLabel),e.operator];return Bs(e.operator)?e.values.forEach(((t,r)=>{var a;n.push(ol(t,null==(a=e.valueLabels)?void 0:a[r]))})):n.push(ol(e.value,null==(t=e.valueLabels)?void 0:t[0])),n}function Ir(e){if("string"!=typeof e||0===e.length)return null;const[t,n,r]=e.split("#"),[a,o,i,s,...l]=t.split("|").reduce(((e,t)=>{const[n,r]=t.split(",");return e.push(n,null!=r?r:n),e}),[]).map(al);return{key:a,keyLabel:o,operator:i,value:l[0],values:Bs(i)?l.filter(((e,t)=>t%2==0)):void 0,valueLabels:l.filter(((e,t)=>t%2==1)),condition:"",...(c=n,("scope"===c||"dashboard"===c)&&{origin:n}),...!!r&&{restorable:!0}};var c}function kr(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}function Tr(){return"undefined"!=typeof window}function Ar(e){return Nr(e)?(e.nodeName||"").toLowerCase():"#document"}function Pr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Lr(e){var t;return null==(t=(Nr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Nr(e){return!!Tr()&&(e instanceof Node||e instanceof Pr(e).Node)}function jr(e){return!!Tr()&&(e instanceof Element||e instanceof Pr(e).Element)}function Mr(e){return!!Tr()&&(e instanceof HTMLElement||e instanceof Pr(e).HTMLElement)}function $r(e){return!(!Tr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Pr(e).ShadowRoot)}function Vr(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function Fr(e){return["table","td","th"].includes(Ar(e))}function Br(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function zr(e){const t=Ur(),n=jr(e)?Hr(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Ur(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Wr(e){return["html","body","#document"].includes(Ar(e))}function Hr(e){return Pr(e).getComputedStyle(e)}function Gr(e){return jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qr(e){if("html"===Ar(e))return e;const t=e.assignedSlot||e.parentNode||$r(e)&&e.host||Lr(e);return $r(t)?t.host:t}function Kr(e){const t=qr(e);return Wr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mr(t)&&Vr(t)?t:Kr(t)}function Qr(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=Kr(e),o=a===(null==(r=e.ownerDocument)?void 0:r.body),i=Pr(a);if(o){const e=Yr(i);return t.concat(i,i.visualViewport||[],Vr(a)?a:[],e&&n?Qr(e):[])}return t.concat(a,Qr(a,[],n))}function Yr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xr(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function Zr(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&$r(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Jr(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function ea(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function ta(e){return!(0!==e.mozInputSource||!e.isTrusted)||(aa()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function na(e){return!ea().includes("jsdom/")&&(!aa()&&0===e.width&&0===e.height||aa()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function ra(){return/apple/i.test(navigator.vendor)}function aa(){const e=/android/i;return e.test(Jr())||e.test(ea())}function oa(e){return(null==e?void 0:e.ownerDocument)||document}function ia(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function sa(e){return"composedPath"in e?e.composedPath()[0]:e.target}function la(e){e.preventDefault(),e.stopPropagation()}function ca(e){return!!e&&("combobox"===e.getAttribute("role")&&function(e){return Mr(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e))}const ua=Math.min,da=Math.max,pa=Math.round,ha=Math.floor,fa=e=>({x:e,y:e}),ga={left:"right",right:"left",bottom:"top",top:"bottom"},ma={start:"end",end:"start"};function va(e,t){return"function"==typeof e?e(t):e}function ba(e){return e.split("-")[0]}function ya(e){return e.split("-")[1]}function wa(e){return"y"===e?"height":"width"}function xa(e){return["top","bottom"].includes(ba(e))?"y":"x"}function Sa(e){return"x"===xa(e)?"y":"x"}function Ea(e){return e.replace(/start|end/g,(e=>ma[e]))}function Ca(e){return e.replace(/left|right|bottom|top/g,(e=>ga[e]))}function Oa(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var _a=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ra=_a.join(","),Da="undefined"==typeof Element,Ia=Da?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ka=!Da&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},Ta=function e(t,n){var r;void 0===n&&(n=!0);var a=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===a||"true"===a||n&&t&&e(t.parentNode)},Aa=function(e,t,n){if(Ta(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Ra));return t&&Ia.call(e,Ra)&&r.unshift(e),r=r.filter(n)},Pa=function e(t,n,r){for(var a=[],o=Array.from(t);o.length;){var i=o.shift();if(!Ta(i,!1))if("SLOT"===i.tagName){var s=i.assignedElements(),l=e(s.length?s:i.children,!0,r);r.flatten?a.push.apply(a,l):a.push({scopeParent:i,candidates:l})}else{Ia.call(i,Ra)&&r.filter(i)&&(n||!t.includes(i))&&a.push(i);var c=i.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(i),u=!Ta(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(c&&u){var d=e(!0===c?i.children:c.children,!0,r);r.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else o.unshift.apply(o,i.children)}}return a},La=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Na=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!La(e)?0:e.tabIndex},ja=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ma=function(e){return"INPUT"===e.tagName},$a=function(e){return function(e){return Ma(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||ka(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!a||a===e}(e)},Va=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Fa=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var a=Ia.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Ia.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Va(e)}else{if("function"==typeof r){for(var o=e;e;){var i=e.parentElement,s=ka(e);if(i&&!i.shadowRoot&&!0===r(i))return Va(e);e=e.assignedSlot?e.assignedSlot:i||s===e.ownerDocument?i:s.host}e=o}if(function(e){var t,n,r,a,o=e&&ka(e),i=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(a=e.ownerDocument)&&void 0!==a&&a.contains(e));!s&&i;){var l,c,u;s=!(null===(c=i=null===(l=o=ka(i))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(i))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},Ba=function(e,t){return!(t.disabled||Ta(t)||function(e){return Ma(e)&&"hidden"===e.type}(t)||Fa(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Ia.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},za=function(e,t){return!($a(t)||Na(t)<0||!Ba(e,t))},Ua=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Wa=function e(t){var n=[],r=[];return t.forEach((function(t,a){var o=!!t.scopeParent,i=o?t.scopeParent:t,s=function(e,t){var n=Na(e);return n<0&&t&&!La(e)?0:n}(i,o),l=o?e(t.candidates):i;0===s?o?n.push.apply(n,l):n.push(i):r.push({documentOrder:a,tabIndex:s,item:t,isScope:o,content:l})})),r.sort(ja).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Ha=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Pa([e],t.includeContainer,{filter:za.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ua}):Aa(e,t.includeContainer,za.bind(null,t)),Wa(n)},Ga=n(8398);function qa(e,t,n){let{reference:r,floating:a}=e;const o=xa(t),i=Sa(t),s=wa(i),l=ba(t),c="y"===o,u=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,p=r[s]/2-a[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-a.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-a.width,y:d};break;default:h={x:r.x,y:r.y}}switch(ya(t)){case"start":h[i]-=p*(n&&c?-1:1);break;case"end":h[i]+=p*(n&&c?-1:1)}return h}async function Ka(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:o,rects:i,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=va(t,e),f=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(h),g=s[p?"floating"===d?"reference":"floating":d],m=Oa(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),y=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},w=Oa(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-w.top+f.top)/y.y,bottom:(w.bottom-m.bottom+f.bottom)/y.y,left:(m.left-w.left+f.left)/y.x,right:(w.right-m.right+f.right)/y.x}}function Qa(e){const t=Hr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Mr(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,s=pa(n)!==o||pa(r)!==i;return s&&(n=o,r=i),{width:n,height:r,$:s}}function Ya(e){return jr(e)?e:e.contextElement}function Xa(e){const t=Ya(e);if(!Mr(t))return fa(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=Qa(t);let i=(o?pa(n.width):n.width)/r,s=(o?pa(n.height):n.height)/a;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const Za=fa(0);function Ja(e){const t=Pr(e);return Ur()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Za}function eo(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),o=Ya(e);let i=fa(1);t&&(r?jr(r)&&(i=Xa(r)):i=Xa(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Pr(e))&&t}(o,n,r)?Ja(o):fa(0);let l=(a.left+s.x)/i.x,c=(a.top+s.y)/i.y,u=a.width/i.x,d=a.height/i.y;if(o){const e=Pr(o),t=r&&jr(r)?Pr(r):r;let n=e,a=Yr(n);for(;a&&r&&t!==n;){const e=Xa(a),t=a.getBoundingClientRect(),r=Hr(a),o=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=i,n=Pr(a),a=Yr(n)}}return Oa({width:u,height:d,x:l,y:c})}function to(e,t){const n=Gr(e).scrollLeft;return t?t.left+n:eo(Lr(e)).left+n}function no(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:to(e,r)),y:r.top+t.scrollTop}}function ro(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Pr(e),r=Lr(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;const e=Ur();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Lr(e),n=Gr(e),r=e.ownerDocument.body,a=da(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=da(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+to(e);const s=-n.scrollTop;return"rtl"===Hr(r).direction&&(i+=da(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:s}}(Lr(e));else if(jr(t))r=function(e,t){const n=eo(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Mr(e)?Xa(e):fa(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:a*o.x,y:r*o.y}}(t,n);else{const n=Ja(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Oa(r)}function ao(e,t){const n=qr(e);return!(n===t||!jr(n)||Wr(n))&&("fixed"===Hr(n).position||ao(n,t))}function oo(e,t,n){const r=Mr(t),a=Lr(t),o="fixed"===n,i=eo(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=fa(0);if(r||!r&&!o)if(("body"!==Ar(t)||Vr(a))&&(s=Gr(t)),r){const e=eo(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&(l.x=to(a));const c=!a||r||o?fa(0):no(a,s);return{x:i.left+s.scrollLeft-l.x-c.x,y:i.top+s.scrollTop-l.y-c.y,width:i.width,height:i.height}}function io(e){return"static"===Hr(e).position}function so(e,t){if(!Mr(e)||"fixed"===Hr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Lr(e)===n&&(n=n.ownerDocument.body),n}function lo(e,t){const n=Pr(e);if(Br(e))return n;if(!Mr(e)){let t=qr(e);for(;t&&!Wr(t);){if(jr(t)&&!io(t))return t;t=qr(t)}return n}let r=so(e,t);for(;r&&Fr(r)&&io(r);)r=so(r,t);return r&&Wr(r)&&io(r)&&!zr(r)?n:r||function(e){let t=qr(e);for(;Mr(t)&&!Wr(t);){if(zr(t))return t;if(Br(t))return null;t=qr(t)}return null}(e)||n}const co={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o="fixed"===a,i=Lr(r),s=!!t&&Br(t.floating);if(r===i||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=fa(1);const u=fa(0),d=Mr(r);if((d||!d&&!o)&&(("body"!==Ar(r)||Vr(i))&&(l=Gr(r)),Mr(r))){const e=eo(r);c=Xa(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const p=!i||d||o?fa(0):no(i,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:Lr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[..."clippingAncestors"===n?Br(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Qr(e,[],!1).filter((e=>jr(e)&&"body"!==Ar(e))),a=null;const o="fixed"===Hr(e).position;let i=o?qr(e):e;for(;jr(i)&&!Wr(i);){const t=Hr(i),n=zr(i);n||"fixed"!==t.position||(a=null),(o?!n&&!a:!n&&"static"===t.position&&a&&["absolute","fixed"].includes(a.position)||Vr(i)&&!n&&ao(e,i))?r=r.filter((e=>e!==i)):a=t,i=qr(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=o[0],s=o.reduce(((e,n)=>{const r=ro(t,n,a);return e.top=da(r.top,e.top),e.right=ua(r.right,e.right),e.bottom=ua(r.bottom,e.bottom),e.left=da(r.left,e.left),e}),ro(t,i,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:lo,getElementRects:async function(e){const t=this.getOffsetParent||lo,n=this.getDimensions,r=await n(e.floating);return{reference:oo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Qa(e);return{width:t,height:n}},getScale:Xa,isElement:jr,isRTL:function(e){return"rtl"===Hr(e).direction}};function uo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function po(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Ya(e),u=a||o?[...c?Qr(c):[],...Qr(t)]:[];u.forEach((e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const a=Lr(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:h}=c;if(s||t(),!p||!h)return;const f={rootMargin:-ha(d)+"px "+-ha(a.clientWidth-(u+p))+"px "+-ha(a.clientHeight-(d+h))+"px "+-ha(u)+"px",threshold:da(0,ua(1,l))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return i();r?i(!1,r):n=setTimeout((()=>{i(!1,1e-7)}),1e3)}1!==r||uo(c,e.getBoundingClientRect())||i(),g=!1}try{r=new IntersectionObserver(m,{...f,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),o}(c,n):null;let p,h=-1,f=null;i&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let g=l?eo(e):null;return l&&function t(){const r=eo(e);g&&!uo(g,r)&&n();g=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const ho=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,o=await(null==r.isRTL?void 0:r.isRTL(a.floating)),i=ba(n),s=ya(n),l="y"===xa(n),c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,d=va(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof f&&(h="end"===s?-1*f:f),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}(t,e);return i===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:i}}}}},fo=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...m}=va(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=ba(a),b=xa(s),y=ba(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=p||(y||!g?[Ca(s)]:function(e){const t=Ca(e);return[Ea(e),t,Ea(t)]}(s)),S="none"!==f;!p&&S&&x.push(...function(e,t,n,r){const a=ya(e);let o=function(e,t,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?o:i;default:return[]}}(ba(e),"start"===n,r);return a&&(o=o.map((e=>e+"-"+a)),t&&(o=o.concat(o.map(Ea)))),o}(s,g,f,w));const E=[s,...x],C=await Ka(t,m),O=[];let _=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&O.push(C[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=ya(e),a=Sa(e),o=wa(a);let i="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Ca(i)),[i,Ca(i)]}(a,i,w);O.push(C[e[0]],C[e[1]])}if(_=[..._,{placement:a,overflows:O}],!O.every((e=>e<=0))){var R,D;const e=((null==(R=o.flip)?void 0:R.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(D=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:D.placement;if(!n)switch(h){case"bestFit":{var I;const e=null==(I=_.filter((e=>{if(S){const t=xa(e.placement);return t===b||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=s}if(a!==n)return{reset:{placement:n}}}return{}}}},go=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:s}=t,{apply:l=()=>{},...c}=va(e,t),u=await Ka(t,c),d=ba(a),p=ya(a),h="y"===xa(a),{width:f,height:g}=o.floating;let m,v;"top"===d||"bottom"===d?(m=d,v=p===(await(null==i.isRTL?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,m="end"===p?"top":"bottom");const b=g-u.top-u.bottom,y=f-u.left-u.right,w=ua(g-u[m],b),x=ua(f-u[v],y),S=!t.middlewareData.shift;let E=w,C=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(E=b),S&&!p){const e=da(u.left,0),t=da(u.right,0),n=da(u.top,0),r=da(u.bottom,0);h?C=f-2*(0!==e||0!==t?e+t:da(u.left,u.right)):E=g-2*(0!==n||0!==r?n+r:da(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:E});const O=await i.getDimensions(s.floating);return f!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}},mo=(e,t,n)=>{const r=new Map,a={platform:co,...n},o={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,s=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:d}=qa(c,r,l),p=r,h={},f=0;for(let n=0;n<s.length;n++){const{name:o,fn:g}=s[n],{x:m,y:v,data:b,reset:y}=await g({x:u,y:d,initialPlacement:r,placement:p,strategy:a,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=v?v:d,h={...h,[o]:{...h[o],...b}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(p=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:u,y:d}=qa(c,p,l))),n=-1)}return{x:u,y:d,placement:p,strategy:a,middlewareData:h}})(e,t,{...a,platform:o})};var vo="undefined"!=typeof document?u.useLayoutEffect:u.useEffect;function bo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!bo(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!=r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!bo(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function yo(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wo(e,t){const n=yo(e);return Math.round(t*n)/n}function xo(e){const t=u.useRef(e);return vo((()=>{t.current=e})),t}const So=(e,t)=>({...fo(e),options:[e,t]}),Eo=(e,t)=>({...go(e),options:[e,t]});const Co={...d},Oo=Co.useInsertionEffect||(e=>e());function _o(e){const t=u.useRef((()=>{0}));return Oo((()=>{t.current=e})),u.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Ro="ArrowUp",Do="ArrowDown",Io="ArrowLeft",ko="ArrowRight";function To(e,t,n){return Math.floor(e/t)!==n}function Ao(e,t){return t<0||t>=e.current.length}function Po(e,t){return No(e,{disabledIndices:t})}function Lo(e,t){return No(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function No(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:a,amount:o=1}=void 0===t?{}:t;const i=e.current;let s=n;do{s+=r?-o:o}while(s>=0&&s<=i.length-1&&Fo(i,s,a));return s}function jo(e,t){let{event:n,orientation:r,loop:a,rtl:o,cols:i,disabledIndices:s,minIndex:l,maxIndex:c,prevIndex:u,stopEvent:d=!1}=t,p=u;if(n.key===Ro){if(d&&la(n),-1===u)p=c;else if(p=No(e,{startingIndex:p,amount:i,decrement:!0,disabledIndices:s}),a&&(u-i<l||p<0)){const e=u%i,t=c%i,n=c-(t-e);p=t===e?c:t>e?n:n-i}Ao(e,p)&&(p=u)}if(n.key===Do&&(d&&la(n),-1===u?p=l:(p=No(e,{startingIndex:u,amount:i,disabledIndices:s}),a&&u+i>c&&(p=No(e,{startingIndex:u%i-i,amount:i,disabledIndices:s}))),Ao(e,p)&&(p=u)),"both"===r){const t=ha(u/i);n.key===(o?Io:ko)&&(d&&la(n),u%i!=i-1?(p=No(e,{startingIndex:u,disabledIndices:s}),a&&To(p,i,t)&&(p=No(e,{startingIndex:u-u%i-1,disabledIndices:s}))):a&&(p=No(e,{startingIndex:u-u%i-1,disabledIndices:s})),To(p,i,t)&&(p=u)),n.key===(o?ko:Io)&&(d&&la(n),u%i!=0?(p=No(e,{startingIndex:u,decrement:!0,disabledIndices:s}),a&&To(p,i,t)&&(p=No(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s}))):a&&(p=No(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s})),To(p,i,t)&&(p=u));const r=ha(c/i)===t;Ao(e,p)&&(p=a&&r?n.key===(o?ko:Io)?c:No(e,{startingIndex:u-u%i-1,disabledIndices:s}):u)}return p}function Mo(e,t,n){const r=[];let a=0;return e.forEach(((e,o)=>{let{width:i,height:s}=e,l=!1;for(n&&(a=0);!l;){const e=[];for(let n=0;n<i;n++)for(let r=0;r<s;r++)e.push(a+n+r*t);a%t+i<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=o})),l=!0):a++}})),[...r]}function $o(e,t,n,r,a){if(-1===e)return-1;const o=n.indexOf(e),i=t[e];switch(a){case"tl":return o;case"tr":return i?o+i.width-1:o;case"bl":return i?o+(i.height-1)*r:o;case"br":return n.lastIndexOf(e)}}function Vo(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function Fo(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var Bo="undefined"!=typeof document?u.useLayoutEffect:u.useEffect;const zo=[Io,ko],Uo=[Ro,Do];function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(this,arguments)}let Ho=!1,Go=0;const qo=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Go++;const Ko=Co.useId||function(){const[e,t]=u.useState((()=>Ho?qo():void 0));return Bo((()=>{null==e&&t(qo())}),[]),u.useEffect((()=>{Ho=!0}),[]),e};function Qo(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const Yo=u.createContext(null),Xo=u.createContext(null),Zo=()=>{var e;return(null==(e=u.useContext(Yo))?void 0:e.id)||null},Jo=()=>u.useContext(Xo);function ei(e){return"data-floating-ui-"+e}function ti(e){const t=(0,u.useRef)(e);return Bo((()=>{t.current=e})),t}let ni=0;function ri(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:a=!1}=t;r&&cancelAnimationFrame(ni);const o=()=>null==e?void 0:e.focus({preventScroll:n});a?o():ni=requestAnimationFrame(o)}function ai(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let oi=new WeakMap,ii=new WeakSet,si={},li=0;const ci=e=>e&&(e.host||ci(e.parentNode));function ui(e,t,n,r){const a="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,i=(s=t,e.map((e=>{if(s.contains(e))return e;const t=ci(e);return s.contains(t)?t:null})).filter((e=>null!=e)));var s;const l=new Set,c=new Set(i),u=[];si[a]||(si[a]=new WeakMap);const d=si[a];return i.forEach((function e(t){if(!t||l.has(t))return;l.add(t),t.parentNode&&e(t.parentNode)})),function e(t){if(!t||c.has(t))return;[].forEach.call(t.children,(t=>{if("script"!==Ar(t))if(l.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(oi.get(t)||0)+1,i=(d.get(t)||0)+1;oi.set(t,r),d.set(t,i),u.push(t),1===r&&n&&ii.add(t),1===i&&t.setAttribute(a,""),!n&&o&&t.setAttribute(o,"true")}}))}(t),l.clear(),li++,()=>{u.forEach((e=>{const t=(oi.get(e)||0)-1,n=(d.get(e)||0)-1;oi.set(e,t),d.set(e,n),t||(!ii.has(e)&&o&&e.removeAttribute(o),ii.delete(e)),n||e.removeAttribute(a)})),li--,li||(oi=new WeakMap,oi=new WeakMap,ii=new WeakSet,si={})}}function di(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=oa(e[0]).body;return ui(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const pi=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function hi(e,t){const n=Ha(e,pi());"prev"===t&&n.reverse();const r=n.indexOf(Xr(oa(e)));return n.slice(r+1)[0]}function fi(){return hi(document.body,"next")}function gi(){return hi(document.body,"prev")}function mi(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Zr(n,r)}function vi(e){Ha(e,pi()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function bi(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const yi={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function wi(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const xi=u.forwardRef((function(e,t){const[n,r]=u.useState();Bo((()=>(ra()&&r("button"),document.addEventListener("keydown",wi),()=>{document.removeEventListener("keydown",wi)})),[]);const a={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[ei("focus-guard")]:"",style:yi};return u.createElement("span",Wo({},e,a))})),Si=u.createContext(null),Ei=ei("portal");function Ci(e){const{children:t,id:n,root:r,preserveTabOrder:a=!0}=e,o=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=Ko(),a=Oi(),[o,i]=u.useState(null),s=u.useRef(null);return Bo((()=>()=>{null==o||o.remove(),queueMicrotask((()=>{s.current=null}))}),[o]),Bo((()=>{if(!r)return;if(s.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(Ei,""),e.appendChild(n),s.current=n,i(n)}),[t,r]),Bo((()=>{if(null===n)return;if(!r)return;if(s.current)return;let e=n||(null==a?void 0:a.portalNode);e&&!jr(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const l=document.createElement("div");l.id=r,l.setAttribute(Ei,""),e=o||e,e.appendChild(l),s.current=l,i(l)}),[t,n,r,a]),o}({id:n,root:r}),[i,s]=u.useState(null),l=u.useRef(null),c=u.useRef(null),d=u.useRef(null),p=u.useRef(null),h=null==i?void 0:i.modal,f=null==i?void 0:i.open,g=!!i&&!i.modal&&i.open&&a&&!(!r&&!o);return u.useEffect((()=>{if(o&&a&&!h)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){if(o&&mi(e)){("focusin"===e.type?bi:vi)(o)}}}),[o,a,h]),u.useEffect((()=>{o&&(f||bi(o))}),[f,o]),u.createElement(Si.Provider,{value:u.useMemo((()=>({preserveTabOrder:a,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:p,portalNode:o,setFocusManagerState:s})),[a,o])},g&&o&&u.createElement(xi,{"data-type":"outside",ref:l,onFocus:e=>{if(mi(e,o)){var t;null==(t=d.current)||t.focus()}else{const e=gi()||(null==i?void 0:i.refs.domReference.current);null==e||e.focus()}}}),g&&o&&u.createElement("span",{"aria-owns":o.id,style:yi}),o&&Ga.createPortal(t,o),g&&o&&u.createElement(xi,{"data-type":"outside",ref:c,onFocus:e=>{if(mi(e,o)){var t;null==(t=p.current)||t.focus()}else{const t=fi()||(null==i?void 0:i.refs.domReference.current);null==t||t.focus(),(null==i?void 0:i.closeOnFocusOut)&&(null==i||i.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const Oi=()=>u.useContext(Si),_i="data-floating-ui-focusable";function Ri(e){return e?e.hasAttribute(_i)?e:e.querySelector("["+_i+"]")||e:null}let Di=[];function Ii(e){Di=Di.filter((e=>e.isConnected));let t=e;if(t&&"body"!==Ar(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Ia.call(e,Ra)&&za(t,e)}(t,pi())){const e=Ha(t,pi())[0];e&&(t=e)}Di.push(t),Di.length>20&&(Di=Di.slice(-20))}}function ki(){return Di.slice().reverse().find((e=>e.isConnected))}const Ti=u.forwardRef((function(e,t){return u.createElement("button",Wo({},e,{type:"button",ref:t,tabIndex:-1,style:yi}))}));function Ai(e){const{context:t,children:n,disabled:r=!1,order:a=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,restoreFocus:l=!1,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:p=!0}=e,{open:h,refs:f,nodeId:g,onOpenChange:m,events:v,dataRef:b,floatingId:y,elements:{domReference:w,floating:x}}=t,S="number"==typeof i&&i<0,E=ca(w)&&S,C="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||o,O=ti(a),_=ti(i),R=ti(s),D=Jo(),I=Oi(),k=u.useRef(null),T=u.useRef(null),A=u.useRef(!1),P=u.useRef(!1),L=u.useRef(-1),N=null!=I,j=Ri(x),M=_o((function(e){return void 0===e&&(e=j),e?Ha(e,pi()):[]})),$=_o((e=>{const t=M(e);return O.current.map((e=>w&&"reference"===e?w:j&&"floating"===e?j:t)).filter(Boolean).flat()}));function V(e){return!r&&d&&c?u.createElement(Ti,{ref:"start"===e?k:T,onClick:e=>m(!1,e.nativeEvent)},"string"==typeof d?d:"Dismiss"):null}u.useEffect((()=>{if(r)return;if(!c)return;function e(e){if("Tab"===e.key){Zr(j,Xr(oa(j)))&&0===M().length&&!E&&la(e);const t=$(),n=sa(e);"reference"===O.current[0]&&n===w&&(la(e),e.shiftKey?ri(t[t.length-1]):ri(t[1])),"floating"===O.current[1]&&n===j&&e.shiftKey&&(la(e),ri(t[0]))}}const t=oa(j);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,w,j,c,O,E,M,$]),u.useEffect((()=>{if(!r&&x)return x.addEventListener("focusin",e),()=>{x.removeEventListener("focusin",e)};function e(e){const t=sa(e),n=M().indexOf(t);-1!==n&&(L.current=n)}}),[r,x,M]),u.useEffect((()=>{if(!r&&p)return x&&Mr(w)?(w.addEventListener("focusout",t),w.addEventListener("pointerdown",e),x.addEventListener("focusout",t),()=>{w.removeEventListener("focusout",t),w.removeEventListener("pointerdown",e),x.removeEventListener("focusout",t)}):void 0;function e(){P.current=!0,setTimeout((()=>{P.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(Zr(w,t)||Zr(x,t)||Zr(t,x)||Zr(null==I?void 0:I.portalNode,t)||null!=t&&t.hasAttribute(ei("focus-guard"))||D&&(ai(D.nodesRef.current,g).find((e=>{var n,r;return Zr(null==(n=e.context)?void 0:n.elements.floating,t)||Zr(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],a=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;a;){const t=e.find((e=>e.id===a));a=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(D.nodesRef.current,g).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));if(l&&n&&Xr(oa(j))===oa(j).body){Mr(j)&&j.focus();const e=L.current,t=M(),n=t[e]||t[t.length-1]||j;Mr(n)&&n.focus()}!E&&c||!t||!n||P.current||t===ki()||(A.current=!0,m(!1,e,"focus-out"))}))}}),[r,w,x,j,c,g,D,I,m,p,l,M,E]),u.useEffect((()=>{var e;if(r)return;const t=Array.from((null==I||null==(e=I.portalNode)?void 0:e.querySelectorAll("["+ei("portal")+"]"))||[]);if(x){const e=[x,...t,k.current,T.current,O.current.includes("reference")||E?w:null].filter((e=>null!=e)),n=c||E?di(e,C,!C):di(e);return()=>{n()}}}),[r,w,x,c,O,I,E,C]),Bo((()=>{if(r||!Mr(j))return;const e=Xr(oa(j));queueMicrotask((()=>{const t=$(j),n=_.current,r=("number"==typeof n?t[n]:n.current)||j,a=Zr(j,e);S||a||!h||ri(r,{preventScroll:r===j})}))}),[r,h,j,S,$,_]),Bo((()=>{if(r||!j)return;let e=!1;const t=oa(j),n=Xr(t);let a=b.current.openEvent;function o(t){let{open:n,reason:r,event:o,nested:i}=t;n&&(a=o),"escape-key"===r&&f.domReference.current&&Ii(f.domReference.current),"hover"===r&&"mouseleave"===o.type&&(A.current=!0),"outside-press"===r&&(i?(A.current=!1,e=!0):A.current=!(ta(o)||na(o)))}Ii(n),v.on("openchange",o);const i=t.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,yi),N&&w&&w.insertAdjacentElement("afterend",i),()=>{v.off("openchange",o);const n=Xr(t),r=Zr(x,n)||D&&ai(D.nodesRef.current,g).some((e=>{var t;return Zr(null==(t=e.context)?void 0:t.elements.floating,n)}));(r||a&&["click","mousedown"].includes(a.type))&&f.domReference.current&&Ii(f.domReference.current);const s="boolean"==typeof R.current?ki()||i:R.current.current||i;queueMicrotask((()=>{R.current&&!A.current&&Mr(s)&&(s===n||n===t.body||r)&&s.focus({preventScroll:e}),i.remove()}))}}),[r,x,j,R,b,f,v,D,g,N,w]),u.useEffect((()=>{queueMicrotask((()=>{A.current=!1}))}),[r]),Bo((()=>{if(!r&&I)return I.setFocusManagerState({modal:c,closeOnFocusOut:p,open:h,onOpenChange:m,refs:f}),()=>{I.setFocusManagerState(null)}}),[r,I,c,h,m,f,p]),Bo((()=>{if(r)return;if(!j)return;if("function"!=typeof MutationObserver)return;if(S)return;const e=()=>{const e=j.getAttribute("tabindex"),t=M(),n=Xr(oa(x)),r=t.indexOf(n);-1!==r&&(L.current=r),O.current.includes("floating")||n!==f.domReference.current&&0===t.length?"0"!==e&&j.setAttribute("tabindex","0"):"-1"!==e&&j.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(j,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,x,j,f,O,M,S]);const F=!r&&C&&(!c||!E)&&(N||c);return u.createElement(u.Fragment,null,F&&u.createElement(xi,{"data-type":"inside",ref:null==I?void 0:I.beforeInsideRef,onFocus:e=>{if(c){const e=$();ri("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=I&&I.preserveTabOrder&&I.portalNode)if(A.current=!1,mi(e,I.portalNode)){const e=fi()||w;null==e||e.focus()}else{var t;null==(t=I.beforeOutsideRef.current)||t.focus()}}}),!E&&V("start"),n,V("end"),F&&u.createElement(xi,{"data-type":"inside",ref:null==I?void 0:I.afterInsideRef,onFocus:e=>{if(c)ri($()[0]);else if(null!=I&&I.preserveTabOrder&&I.portalNode)if(p&&(A.current=!0),mi(e,I.portalNode)){const e=gi()||w;null==e||e.focus()}else{var t;null==(t=I.afterOutsideRef.current)||t.focus()}}}))}const Pi={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Li={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ni=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function ji(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=Ko(),o=u.useRef({}),[i]=u.useState((()=>Qo())),s=null!=Zo(),[l,c]=u.useState(r.reference),d=_o(((e,t,r)=>{o.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:s}),null==n||n(e,t,r)})),p=u.useMemo((()=>({setPositionReference:c})),[]),h=u.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return u.useMemo((()=>({dataRef:o,open:t,onOpenChange:d,elements:h,events:i,floatingId:a,refs:p})),[t,d,h,i,a,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[o,i]=u.useState(null),[s,l]=u.useState(null),c=(null==a?void 0:a.domReference)||o,d=u.useRef(null),p=Jo();Bo((()=>{c&&(d.current=c)}),[c]);const h=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,p]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=u.useState(r);bo(h,r)||f(r);const[g,m]=u.useState(null),[v,b]=u.useState(null),y=u.useCallback((e=>{e!==E.current&&(E.current=e,m(e))}),[]),w=u.useCallback((e=>{e!==C.current&&(C.current=e,b(e))}),[]),x=o||g,S=i||v,E=u.useRef(null),C=u.useRef(null),O=u.useRef(d),_=null!=l,R=xo(l),D=xo(a),I=xo(c),k=u.useCallback((()=>{if(!E.current||!C.current)return;const e={placement:t,strategy:n,middleware:h};D.current&&(e.platform=D.current),mo(E.current,C.current,e).then((e=>{const t={...e,isPositioned:!1!==I.current};T.current&&!bo(O.current,t)&&(O.current=t,Ga.flushSync((()=>{p(t)})))}))}),[h,t,n,D,I]);vo((()=>{!1===c&&O.current.isPositioned&&(O.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[c]);const T=u.useRef(!1);vo((()=>(T.current=!0,()=>{T.current=!1})),[]),vo((()=>{if(x&&(E.current=x),S&&(C.current=S),x&&S){if(R.current)return R.current(x,S,k);k()}}),[x,S,k,R,_]);const A=u.useMemo((()=>({reference:E,floating:C,setReference:y,setFloating:w})),[y,w]),P=u.useMemo((()=>({reference:x,floating:S})),[x,S]),L=u.useMemo((()=>{const e={position:n,left:0,top:0};if(!P.floating)return e;const t=wo(P.floating,d.x),r=wo(P.floating,d.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...yo(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,s,P.floating,d.x,d.y]);return u.useMemo((()=>({...d,update:k,refs:A,elements:P,floatingStyles:L})),[d,k,A,P,L])}({...e,elements:{...a,...s&&{reference:s}}}),f=u.useCallback((e=>{const t=jr(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)}),[h.refs]),g=u.useCallback((e=>{(jr(e)||null===e)&&(d.current=e,i(e)),(jr(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!jr(e))&&h.refs.setReference(e)}),[h.refs]),m=u.useMemo((()=>({...h.refs,setReference:g,setPositionReference:f,domReference:d})),[h.refs,g,f]),v=u.useMemo((()=>({...h.elements,domReference:c})),[h.elements,c]),b=u.useMemo((()=>({...h,...r,refs:m,elements:v,nodeId:t})),[h,m,v,t,r]);return Bo((()=>{r.dataRef.current.floatingContext=b;const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===t));e&&(e.context=b)})),u.useMemo((()=>({...h,context:b,refs:m,elements:v})),[h,m,v,b])}const Mi="active",$i="selected";function Vi(e,t,n){const r=new Map,a="item"===n;let o=e;if(a&&e){const{[Mi]:t,[$i]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[_i]:""},...o,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var i;a&&[Mi,$i].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(i=r.get(n))||i.push(o),e[n]=function(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...a))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}let Fi=!1;function Bi(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function zi(e,t){return Bi(t,e===Ro||e===Do,e===Io||e===ko)}function Ui(e,t,n){return Bi(t,e===Do,n?e===Io:e===ko)||"Enter"===e||" "===e||""===e}function Wi(e,t,n){return Bi(t,n?e===ko:e===Io,e===Ro)}function Hi(e,t){const{open:n,onOpenChange:r,elements:a}=e,{listRef:o,activeIndex:i,onNavigate:s=()=>{},enabled:l=!0,selectedIndex:c=null,allowEscape:d=!1,loop:p=!1,nested:h=!1,rtl:f=!1,virtual:g=!1,focusItemOnOpen:m="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:b=!0,disabledIndices:y,orientation:w="vertical",cols:x=1,scrollItemIntoView:S=!0,virtualItemRef:E,itemSizes:C,dense:O=!1}=t;const _=ti(Ri(a.floating)),R=Zo(),D=Jo(),I=_o(s),k=ca(a.domReference),T=u.useRef(m),A=u.useRef(null!=c?c:-1),P=u.useRef(null),L=u.useRef(!0),N=u.useRef(I),j=u.useRef(!!a.floating),M=u.useRef(n),$=u.useRef(!1),V=u.useRef(!1),F=ti(y),B=ti(n),z=ti(S),U=ti(c),[W,H]=u.useState(),[G,q]=u.useState(),K=_o((function(e,t,n){function r(e){g?(H(e.id),null==D||D.events.emit("virtualfocus",e),E&&(E.current=e)):ri(e,{preventScroll:!0,sync:!(!Jr().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!ra())&&(Fi||$.current)})}void 0===n&&(n=!1);const a=e.current[t.current];a&&r(a),requestAnimationFrame((()=>{const o=e.current[t.current]||a;if(!o)return;a||r(o);const i=z.current;i&&Y&&(n||!L.current)&&(null==o.scrollIntoView||o.scrollIntoView("boolean"==typeof i?{block:"nearest",inline:"nearest"}:i))}))}));Bo((()=>{document.createElement("div").focus({get preventScroll(){return Fi=!0,!1}})}),[]),Bo((()=>{l&&(n&&a.floating?T.current&&null!=c&&(V.current=!0,A.current=c,I(c)):j.current&&(A.current=-1,N.current(null)))}),[l,n,a.floating,c,I]),Bo((()=>{if(l&&n&&a.floating)if(null==i){if($.current=!1,null!=U.current)return;if(j.current&&(A.current=-1,K(o,A)),(!M.current||!j.current)&&T.current&&(null!=P.current||!0===T.current&&null==P.current)){let e=0;const t=()=>{if(null==o.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else A.current=null==P.current||Ui(P.current,w,f)||h?Po(o,F.current):Lo(o,F.current),P.current=null,I(A.current)};t()}}else Ao(o,i)||(A.current=i,K(o,A,V.current),V.current=!1)}),[l,n,a.floating,i,U,h,o,w,f,I,K,F]),Bo((()=>{var e;if(!l||a.floating||!D||g||!j.current)return;const t=D.nodesRef.current,n=null==(e=t.find((e=>e.id===R)))||null==(e=e.context)?void 0:e.elements.floating,r=Xr(oa(a.floating)),o=t.some((e=>e.context&&Zr(e.context.elements.floating,r)));n&&!o&&L.current&&n.focus({preventScroll:!0})}),[l,a.floating,D,R,g]),Bo((()=>{if(l&&D&&g&&!R)return D.events.on("virtualfocus",e),()=>{D.events.off("virtualfocus",e)};function e(e){q(e.id),E&&(E.current=e)}}),[l,D,g,R,E]),Bo((()=>{N.current=I,j.current=!!a.floating})),Bo((()=>{n||(P.current=null)}),[n]),Bo((()=>{M.current=n}),[n]);const Q=null!=i,Y=u.useMemo((()=>{function e(e){if(!n)return;const t=o.current.indexOf(e);-1!==t&&I(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;L.current&&"touch"!==t&&(A.current=-1,K(o,A),I(null),g||ri(_.current,{preventScroll:!0}))}}};return t}),[n,_,K,v,o,I,g]),X=_o((e=>{if(L.current=!1,$.current=!0,229===e.which)return;if(!B.current&&e.currentTarget===_.current)return;if(h&&Wi(e.key,w,f))return la(e),r(!1,e.nativeEvent,"list-navigation"),void(Mr(a.domReference)&&(g?null==D||D.events.emit("virtualfocus",a.domReference):a.domReference.focus()));const t=A.current,i=Po(o,y),s=Lo(o,y);if(k||("Home"===e.key&&(la(e),A.current=i,I(A.current)),"End"===e.key&&(la(e),A.current=s,I(A.current))),x>1){const t=C||Array.from({length:o.current.length},(()=>({width:1,height:1}))),n=Mo(t,x,O),r=n.findIndex((e=>null!=e&&!Fo(o.current,e,y))),a=n.reduce(((e,t,n)=>null==t||Fo(o.current,t,y)?e:n),-1),l=n[jo({current:n.map((e=>null!=e?o.current[e]:null))},{event:e,orientation:w,loop:p,rtl:f,cols:x,disabledIndices:Vo([...y||o.current.map(((e,t)=>Fo(o.current,t)?t:void 0)),void 0],n),minIndex:r,maxIndex:a,prevIndex:$o(A.current>s?i:A.current,t,n,x,e.key===Do?"bl":e.key===(f?Io:ko)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(A.current=l,I(A.current)),"both"===w)return}if(zi(e.key,w)){if(la(e),n&&!g&&Xr(e.currentTarget.ownerDocument)===e.currentTarget)return A.current=Ui(e.key,w,f)?i:s,void I(A.current);Ui(e.key,w,f)?A.current=p?t>=s?d&&t!==o.current.length?-1:i:No(o,{startingIndex:t,disabledIndices:y}):Math.min(s,No(o,{startingIndex:t,disabledIndices:y})):A.current=p?t<=i?d&&-1!==t?o.current.length:s:No(o,{startingIndex:t,decrement:!0,disabledIndices:y}):Math.max(i,No(o,{startingIndex:t,decrement:!0,disabledIndices:y})),Ao(o,A.current)?I(null):I(A.current)}})),Z=u.useMemo((()=>g&&n&&Q&&{"aria-activedescendant":G||W}),[g,n,Q,G,W]),J=u.useMemo((()=>({"aria-orientation":"both"===w?void 0:w,...!ca(a.domReference)&&Z,onKeyDown:X,onPointerMove(){L.current=!0}})),[Z,X,a.domReference,w]),ee=u.useMemo((()=>{function e(e){"auto"===m&&ta(e.nativeEvent)&&(T.current=!0)}return{...Z,onKeyDown(e){L.current=!1;const t=e.key.startsWith("Arrow"),a=["Home","End"].includes(e.key),i=t||a,s=function(e,t,n){return Bi(t,n?e===Io:e===ko,e===Do)}(e.key,w,f),l=Wi(e.key,w,f),u=zi(e.key,w),d=(h?s:u)||"Enter"===e.key||""===e.key.trim();if(g&&n){const t=null==D?void 0:D.nodesRef.current.find((e=>null==e.parentId)),n=D&&t?function(e,t){let n,r=-1;return function t(a,o){o>r&&(n=a,r=o),ai(e,a).forEach((e=>{t(e.id,o+1)}))}(t,0),e.find((e=>e.id===n))}(D.nodesRef.current,t.id):null;if(i&&n&&E){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(s||l){var p,m;const r=(null==(p=n.context)?void 0:p.elements.domReference)===e.currentTarget,a=l&&!r?null==(m=n.context)?void 0:m.elements.domReference:s?o.current.find((e=>(null==e?void 0:e.id)===W)):null;a&&(la(e),a.dispatchEvent(t),q(void 0))}var v;if((u||a)&&n.context)if(n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return la(e),void(null==(v=n.context.elements.domReference)||v.dispatchEvent(t))}return X(e)}(n||b||!t)&&(d&&(P.current=h&&u?null:e.key),h?s&&(la(e),n?(A.current=Po(o,F.current),I(A.current)):r(!0,e.nativeEvent,"list-navigation")):u&&(null!=c&&(A.current=c),la(e),!n&&b?r(!0,e.nativeEvent,"list-navigation"):X(e),n&&I(A.current)))},onFocus(){n&&!g&&I(null)},onPointerDown:function(e){T.current=m,"auto"===m&&na(e.nativeEvent)&&(T.current=!0)},onMouseDown:e,onClick:e}}),[W,Z,X,F,m,o,h,I,r,n,b,w,f,c,D,g,E]);return u.useMemo((()=>l?{reference:ee,floating:J,item:Y}:{}),[l,ee,J,Y])}const Gi=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function qi(e,t,n){let r,a=n.initialDeps??[];function o(){var o,i,s,l;let c;n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(c=Date.now());const u=e(),d=u.length!==a.length||u.some(((e,t)=>a[t]!==e));if(!d)return r;let p;if(a=u,n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(p=Date.now()),r=t(...u),n.key&&(null==(s=n.debug)?void 0:s.call(n))){Math.round(100*(Date.now()-c)),Math.round(100*(Date.now()-p))}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}return o.updateDeps=e=>{a=e},o}function Ki(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const Qi=(e,t,n)=>{let r;return function(...a){e.clearTimeout(r),r=e.setTimeout((()=>t.apply(this,a)),n)}},Yi=e=>e,Xi=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},Zi=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const a=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(a(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver((t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void a({width:t.inlineSize,height:t.blockSize})}a(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()}));return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},Ji={passive:!0},es="undefined"==typeof window||"onscrollend"in window,ts=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let a=0;const o=e.options.useScrollendEvent&&es?()=>{}:Qi(r,(()=>{t(a,!1)}),e.options.isScrollingResetDelay),i=r=>()=>{const{horizontal:i,isRtl:s}=e.options;a=i?n.scrollLeft*(s?-1:1):n.scrollTop,o(),t(a,r)},s=i(!0),l=i(!1);l(),n.addEventListener("scroll",s,Ji);const c=e.options.useScrollendEvent&&es;return c&&n.addEventListener("scrollend",l,Ji),()=>{n.removeEventListener("scroll",s),c&&n.removeEventListener("scrollend",l)}},ns=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e){return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},rs=(e,{adjustments:t=0,behavior:n},r)=>{var a,o;const i=e+t;null==(o=null==(a=r.scrollElement)?void 0:a.scrollTo)||o.call(a,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class as{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver((e=>{e.forEach((e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()}))})):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach((([t,n])=>{void 0===n&&delete e[t]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Yi,rangeExtractor:Xi,onChange:()=>{},measureElement:ns,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=qi((()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null])),(e=>{this.notify(e)}),{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach((e=>{this.observer.observe(e)})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.maybeNotify()}))),this.unsubs.push(this.options.observeElementOffset(this,((e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()})))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let a=t-1;a>=0;a--){const t=e[a];if(n.has(t.lane))continue;const o=r.get(t.lane);if(null==o||t.end>o.end?r.set(t.lane,t):t.end<o.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort(((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end))[0]:void 0},this.getMeasurementOptions=qi((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled]),((e,t,n,r,a)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a})),{key:!1}),this.getMeasurements=qi((()=>[this.getMeasurementOptions(),this.itemSizeCache]),(({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((e=>{this.itemSizeCache.set(e.key,e.size)})));const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,i);for(let a=i;a<e;a++){const e=r(a),i=1===this.options.lanes?s[a-1]:this.getFurthestMeasurement(s,a),l=i?i.end+this.options.gap:t+n,c=o.get(e),u="number"==typeof c?c:this.options.estimateSize(a),d=l+u,p=i?i.lane:a%this.options.lanes;s[a]={index:a,start:l,size:u,end:d,key:e,lane:p}}return this.measurementsCache=s,s}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=qi((()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes]),((e,t,n,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const a=e.length-1,o=t=>e[t].start;if(e.length<=r)return{startIndex:0,endIndex:a};let i=os(0,a,o,n),s=i;if(1===r)for(;s<a&&e[s].end<n+t;)s++;else if(r>1){const o=Array(r).fill(0);for(;s<a&&o.some((e=>e<n+t));){const t=e[s];o[t.lane]=t.end,s++}const l=Array(r).fill(n+t);for(;i>=0&&l.some((e=>e>=n));){const t=e[i];l[t.lane]=t.start,i--}i=Math.max(0,i-i%r),s=Math.min(a,s+(r-1-s%r))}return{startIndex:i,endIndex:s}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null),{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=qi((()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]}),((e,t,n,r,a)=>null===r||null===a?[]:e({startIndex:r,endIndex:a,overscan:t,count:n})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const a=r.key,o=this.elementsCache.get(a);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach(((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))}))},this.getVirtualItems=qi((()=>[this.getVirtualIndexes(),this.getMeasurements()]),((e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r++){const a=t[e[r]];n.push(a)}return n}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return Ki(t[os(0,t.length-1,(e=>Ki(t[e]).start),e)])},this.getOffsetForAlignment=(e,t,n=0)=>{const r=this.getSize(),a=this.getScrollOffset();"auto"===t&&(t=e>=a+r?"end":"start"),"center"===t?e+=(n-r)/2:"end"===t&&(e-=r);const o=this.options.horizontal?"scrollWidth":"scrollHeight",i=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-r;return Math.max(Math.min(i,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),a=this.getScrollOffset();if("auto"===t)if(n.end>=a+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=a+this.options.scrollPaddingStart))return[a,t];t="start"}const o="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(e,t);if(!r)return;const[a,o]=r;this._scrollToOffset(a,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout((()=>{this.scrollToIndexTimeoutId=null;if(this.elementsCache.has(this.options.getItemKey(e))){const[t]=Ki(this.getOffsetForIndex(e,o));((e,t)=>Math.abs(e-t)<1)(t,this.getScrollOffset())||this.scrollToIndex(e,{align:o,behavior:n})}else this.scrollToIndex(e,{align:o,behavior:n})})))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some((e=>null===e));){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter((e=>null!==e)))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const os=(e,t,n,r)=>{for(;e<=t;){const a=(e+t)/2|0,o=n(a);if(o<r)e=a+1;else{if(!(o>r))return a;t=a-1}}return e>0?e-1:0};const is="undefined"!=typeof document?u.useLayoutEffect:u.useEffect;function ss(e){const t=u.useReducer((()=>({})),{})[1],n={...e,onChange:(n,r)=>{var a;r?(0,Ga.flushSync)(t):t(),null==(a=e.onChange)||a.call(e,n,r)}},[r]=u.useState((()=>new as(n)));return r.setOptions(n),is((()=>r._didMount()),[]),is((()=>r._willUpdate())),r}const ls=(0,u.forwardRef)((function({children:e,active:t,addGroupBottomBorder:n,isMultiValueEdit:r,checked:a,...o},i){const s=(0,kn.useStyles2)(cs),l=(0,u.useId)();return p().createElement("div",{ref:i,role:"option",id:l,"aria-selected":t,className:(0,Fn.cx)(s.option,t&&s.optionFocused,n&&s.groupBottomBorder),...o},p().createElement("div",{className:s.optionBody,"data-testid":`data-testid ad hoc filter option value ${e}`},p().createElement("span",null,r?p().createElement(kn.Checkbox,{tabIndex:-1,checked:a,className:s.checkbox}):null,e)))})),cs=e=>({option:(0,Fn.css)({label:"grafana-select-option",top:0,left:0,width:"100%",position:"absolute",padding:e.spacing(1),display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionFocused:(0,Fn.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionBody:(0,Fn.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),groupBottomBorder:(0,Fn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),checkbox:(0,Fn.css)({paddingRight:e.spacing(.5)}),multiValueApplyWrapper:(0,Fn.css)({position:"fixed",top:0,left:0,display:"flex",backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown,gap:e.spacing(1.5),padding:`${e.spacing(1.5)} ${e.spacing(1)}`})}),us=()=>p().createElement(ls,{onClick:e=>e.stopPropagation()},p().createElement(Bt,{i18nKey:"grafana-scenes.variables.loading-options-placeholder.loading-options"},"Loading options...")),ds=()=>p().createElement(ls,{onClick:e=>e.stopPropagation()},p().createElement(Bt,{i18nKey:"grafana-scenes.variables.no-options-placeholder.no-options-found"},"No options found")),ps=({handleFetchOptions:e})=>p().createElement(ls,{onClick:e},p().createElement(Bt,{i18nKey:"grafana-scenes.variables.options-error-placeholder.error-occurred-fetching-labels-click-retry"},"An error has occurred fetching labels. Click to retry")),hs=({onApply:e,floatingElement:t,maxOptionWidth:n,menuHeight:r})=>{const a=(0,kn.useStyles2)(cs),o=null==t?void 0:t.getBoundingClientRect();return p().createElement("div",{className:a.multiValueApplyWrapper,style:{width:`${n}px`,transform:`translate(${null==o?void 0:o.left}px,${o?o.top+r:0}px)`}},p().createElement(kn.Button,{onClick:e,size:"sm",tabIndex:-1},p().createElement(Bt,{i18nKey:"grafana-scenes.variables.multi-value-apply-button.apply"},"Apply")))},fs={key:"operator",operator:"value",value:"key"},gs=(e,t,n,r,a)=>ms(fs[e],t,"value"===e?n:void 0,r,a),ms=(e,t,n,r,a)=>{t(e),null==n||n(void 0,a),setTimeout((()=>null==r?void 0:r.focus()))},vs=({filterInputType:e,item:t,filter:n,setFilterMultiValues:r,onAddCustomValue:a})=>{var o,i,s,l,c;if("key"===e)return{key:t.value,keyLabel:t.label?t.label:t.value,meta:null==t?void 0:t.meta};if("value"===e)return t.isCustom&&a?a(t,n):{value:t.value,valueLabels:[t.label?t.label:t.value]};if("operator"===e){if(Bs(n.operator)&&!Bs(t.value))return r([]),{operator:t.value,valueLabels:[(null==(o=n.valueLabels)?void 0:o[0])||(null==(i=n.values)?void 0:i[0])||n.value],values:void 0};if(Bs(t.value)&&!Bs(n.operator)){const e=[(null==(s=n.valueLabels)?void 0:s[0])||(null==(l=n.values)?void 0:l[0])||n.value],a=[n.value];return a[0]&&r([{value:a[0],label:null!=(c=null==e?void 0:e[0])?c:a[0]}]),{operator:t.value,valueLabels:e,values:a}}}return{[e]:t.value}},bs="Filter by label values",ys=(e,t,n,r)=>{var a;return"key"===t?bs:"value"===t?n?"Edit values":(null==(a=e.valueLabels)?void 0:a[0])||"":e[t]&&!r?`${e[t]}`:bs},ws=({populateInputOnEdit:e,item:t,filterInputType:n,setInputValue:r,filter:a})=>{var o,i,s;e&&!Bs(t.value||"")&&"value"===fs[n]?r(null!=(s=null!=(i=null==(o=null==a?void 0:a.valueLabels)?void 0:o[0])?i:null==a?void 0:a.value)?s:""):r("")},xs=({open:e,onOpenChange:t,activeIndex:n,setActiveIndex:r,outsidePressIdsToIgnore:a,listRef:o,disabledIndicesRef:i})=>{const{refs:s,floatingStyles:l,context:c}=ji({whileElementsMounted:po,open:e,onOpenChange:t,placement:"bottom-start",middleware:[(d=10,{...ho(d),options:[d,p]}),So({padding:10}),Eo({apply({availableHeight:e,availableWidth:t,elements:n}){n.floating.style.maxHeight=`${Math.min(300,e)}px`,n.floating.style.maxWidth=`${t}px`},padding:10})],strategy:"fixed"});var d,p;const h=function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:a}=e,{enabled:o=!0,role:i="dialog"}=t,s=null!=(n=Gi.get(i))?n:i,l=Ko(),c=null!=Zo(),d=u.useMemo((()=>"tooltip"===s||"label"===i?{["aria-"+("label"===i?"labelledby":"describedby")]:r?a:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===s?"dialog":s,"aria-controls":r?a:void 0,..."listbox"===s&&{role:"combobox"},..."menu"===s&&{id:l},..."menu"===s&&c&&{role:"menuitem"},..."select"===i&&{"aria-autocomplete":"none"},..."combobox"===i&&{"aria-autocomplete":"list"}}),[s,a,c,r,l,i]),p=u.useMemo((()=>{const e={id:a,...s&&{role:s}};return"tooltip"===s||"label"===i?e:{...e,..."menu"===s&&{"aria-labelledby":l}}}),[s,a,l,i]),h=u.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:a+"-option"}};switch(i){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}),[a,i]);return u.useMemo((()=>o?{reference:d,floating:p,item:h}:{}),[o,d,p,h])}(c,{role:"listbox"}),f=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:a,dataRef:o}=e,{enabled:i=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:h=!1,bubbles:f,capture:g}=t,m=Jo(),v=_o("function"==typeof l?l:()=>!1),b="function"==typeof l?v:l,y=u.useRef(!1),w=u.useRef(!1),{escapeKey:x,outsidePress:S}=Ni(f),{escapeKey:E,outsidePress:C}=Ni(g),O=u.useRef(!1),_=_o((e=>{var t;if(!n||!i||!s||"Escape"!==e.key)return;if(O.current)return;const a=null==(t=o.current.floatingContext)?void 0:t.nodeId,l=m?ai(m.nodesRef.current,a):[];if(!x&&(e.stopPropagation(),l.length>0)){let e=!0;if(l.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),R=_o((e=>{var t;const n=()=>{var t;_(e),null==(t=sa(e))||t.removeEventListener("keydown",n)};null==(t=sa(e))||t.addEventListener("keydown",n)})),D=_o((e=>{var t;const n=y.current;y.current=!1;const i=w.current;if(w.current=!1,"click"===c&&i)return;if(n)return;if("function"==typeof b&&!b(e))return;const s=sa(e),l="["+ei("inert")+"]",u=oa(a.floating).querySelectorAll(l);let d=jr(s)?s:null;for(;d&&!Wr(d);){const e=qr(d);if(Wr(e)||!jr(e))break;d=e}if(u.length&&jr(s)&&!s.matches("html,body")&&!Zr(s,a.floating)&&Array.from(u).every((e=>!Zr(d,e))))return;if(Mr(s)&&T){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n&&"rtl"===Hr(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth),r||t&&e.offsetY>s.clientHeight)return}const p=null==(t=o.current.floatingContext)?void 0:t.nodeId,h=m&&ai(m.nodesRef.current,p).some((t=>{var n;return ia(e,null==(n=t.context)?void 0:n.elements.floating)}));if(ia(e,a.floating)||ia(e,a.domReference)||h)return;const f=m?ai(m.nodesRef.current,p):[];if(f.length>0){let e=!0;if(f.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),I=_o((e=>{var t;const n=()=>{var t;D(e),null==(t=sa(e))||t.removeEventListener(c,n)};null==(t=sa(e))||t.addEventListener(c,n)}));u.useEffect((()=>{if(!n||!i)return;o.current.__escapeKeyBubbles=x,o.current.__outsidePressBubbles=S;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function l(){window.clearTimeout(e),O.current=!0}function u(){e=window.setTimeout((()=>{O.current=!1}),Ur()?5:0)}const d=oa(a.floating);s&&(d.addEventListener("keydown",E?R:_,E),d.addEventListener("compositionstart",l),d.addEventListener("compositionend",u)),b&&d.addEventListener(c,C?I:D,C);let p=[];return h&&(jr(a.domReference)&&(p=Qr(a.domReference)),jr(a.floating)&&(p=p.concat(Qr(a.floating))),!jr(a.reference)&&a.reference&&a.reference.contextElement&&(p=p.concat(Qr(a.reference.contextElement)))),p=p.filter((e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)})),p.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{s&&(d.removeEventListener("keydown",E?R:_,E),d.removeEventListener("compositionstart",l),d.removeEventListener("compositionend",u)),b&&d.removeEventListener(c,C?I:D,C),p.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[o,a,s,b,c,n,r,h,i,x,S,_,E,R,D,C,I]),u.useEffect((()=>{y.current=!1}),[b,c]);const k=u.useMemo((()=>({onKeyDown:_,[Pi[p]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}})),[_,r,d,p]),T=u.useMemo((()=>({onKeyDown:_,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[Li[c]]:()=>{y.current=!0}})),[_,c]);return u.useMemo((()=>i?{reference:k,floating:T}:{}),[i,k,T])}(c,{outsidePress:e=>{var t;if(e.currentTarget instanceof Element){const n=e.currentTarget;let r=n.id;if("path"===n.nodeName&&(r=(null==(t=n.parentElement)?void 0:t.id)||""),a.includes(r))return!1}return!0}}),g=Hi(c,{listRef:o,activeIndex:n,onNavigate:r,virtual:!0,loop:!0,disabledIndices:i.current}),{getReferenceProps:m,getFloatingProps:v,getItemProps:b}=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),a=u.useCallback((t=>Vi(t,e,"reference")),t),o=u.useCallback((t=>Vi(t,e,"floating")),n),i=u.useCallback((t=>Vi(t,e,"item")),r);return u.useMemo((()=>({getReferenceProps:a,getFloatingProps:o,getItemProps:i})),[a,o,i])}([h,f,g]);return{refs:s,floatingStyles:l,context:c,getReferenceProps:m,getFloatingProps:v,getItemProps:b}},Ss=({item:e,handleRemoveMultiValue:t,index:n,handleEditMultiValuePill:r})=>{var a,o;const i=(0,kn.useStyles2)(Es),s=(0,u.useCallback)((t=>{t.stopPropagation(),t.preventDefault(),r(e)}),[r,e]),l=(0,u.useCallback)((e=>{"Enter"===e.key&&s(e)}),[s]),c=(0,u.useCallback)((n=>{n.stopPropagation(),n.preventDefault(),t(e)}),[t,e]),d=(0,u.useCallback)((e=>{"Enter"===e.key&&c(e)}),[c]);return p().createElement("div",{className:(0,Fn.cx)(i.basePill,i.valuePill),onClick:s,onKeyDown:l,tabIndex:0,id:`${e.value}-${n}`},null!=(a=e.label)?a:e.value,p().createElement(kn.Button,{onClick:c,onKeyDownCapture:d,fill:"text",size:"sm",variant:"secondary",className:i.removeButton,tooltip:Ft("grafana-scenes.components.adhoc-filters-combobox.remove-filter-value","Remove filter value - {{itemLabel}}",{itemLabel:null!=(o=e.label)?o:e.value})},p().createElement(kn.Icon,{name:"times",size:"md",id:`${e.value}-${n}-close-icon`})))},Es=e=>({basePill:(0,Fn.css)({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75),...e.typography.bodySmall,cursor:"pointer"}),valuePill:(0,Fn.css)({background:e.colors.action.selected,padding:e.spacing(.125,0,.125,1)}),removeButton:(0,Fn.css)({marginInline:e.spacing(.5),height:"100%",padding:0,cursor:"pointer","&:hover":{color:e.colors.text.primary}})}),Cs=(0,u.forwardRef)((function({filter:e,model:t,isAlwaysWip:n,handleChangeViewMode:r,focusOnWipInputRef:a,populateInputOnEdit:o},i){var s,l,c,d;const[h,f]=(0,u.useState)(!1),[g,m]=(0,u.useState)([]),[v,b]=(0,u.useState)(!1),[y,w]=(0,u.useState)(!1),[x,S]=(0,u.useState)(""),[E,C]=(0,u.useState)(null),[O,_]=(0,u.useState)(n?"key":"value"),[R,D]=(0,u.useState)(!n&&"value"===O),I=(0,kn.useStyles2)(Os),[k,T]=(0,u.useState)([]),[A,P]=(0,u.useState)({}),L=null==(s=t.state.allowCustomValue)||s,N=(0,u.useRef)(null),j=Bs((null==e?void 0:e.operator)||""),M=j&&"value"===O,$=(0,u.useId)(),V=(0,u.useRef)([]),F=(0,u.useRef)([]),B=(0,u.useRef)(n?"key":"value"),z=(0,u.useMemo)((()=>xr(g)),[g]),U=(0,u.useMemo)((()=>!n&&t.state.filters.at(-1)===e),[e,n,t.state.filters]),W=(0,u.useCallback)((()=>{n&&(t._addWip(),_("key"),S(""))}),[t,n]),H=(0,u.useCallback)(((e,t,n,r)=>{if(!n.length&&t.origin&&e.updateToMatchAll(t),n.length){const r=[],a=[];n.forEach((e=>{var t;r.push(null!=(t=e.label)?t:e.value),a.push(e.value)})),e._updateFilter(t,{valueLabels:r,values:a,value:a[0]}),T([])}r||setTimeout((()=>{var e;return null==(e=Q.domReference.current)?void 0:e.focus()}))}),[]),G=(0,u.useCallback)((e=>{T((t=>t.some((t=>t.value===e.value))?t.filter((t=>t.value!==e.value)):[...t,e]))}),[]),q=(0,u.useCallback)(((n,a,o)=>{f(n),o&&["outside-press","escape-key"].includes(o)&&(M&&H(t,e,k),W(),null==r||r())}),[e,k,r,H,W,M,t]),K=(0,u.useMemo)((()=>[$,...k.reduce(((e,t,n)=>[...e,`${t.value}-${n}`,`${t.value}-${n}-close-icon`]),[])]),[$,k]),{refs:Q,floatingStyles:Y,context:X,getReferenceProps:Z,getFloatingProps:J,getItemProps:ee}=xs({open:h,onOpenChange:q,activeIndex:E,setActiveIndex:C,outsidePressIdsToIgnore:K,listRef:V,disabledIndicesRef:F});(0,u.useImperativeHandle)(i,(()=>()=>{var e;return null==(e=Q.domReference.current)?void 0:e.focus()}),[Q.domReference]);const te=(0,u.useCallback)((e=>{T((t=>t.filter((t=>t.value!==e.value)))),setTimeout((()=>{var e;return null==(e=Q.domReference.current)?void 0:e.focus()}))}),[Q.domReference]),ne=(e=>e.flatMap((e=>e.options?[e,...e.options]:[e])))(ll(z(R?"":x)));L&&"operator"!==O&&x&&ne.push({value:x.trim(),label:x.trim(),isCustom:!0});const re=t.state.onAddCustomValue,ae=((e,t,n)=>{var r,a,o,i;let s=182;const l=[],c=[];for(let t=0;t<e.length;t++){l.push(null),(null==(r=e[t])?void 0:r.options)&&c.push(t);let n=null!=(o=null!=(a=e[t].label)?a:e[t].value)?o:"",u=8;8*n.length<6*((null==(i=e[t].description)?void 0:i.length)||0)&&(n=e[t].description,u=6);const d=(e[t].isCustom?n.length+18:n.length)*u+16;d>s&&(s=d)}return t.current=[...l],n.current=[...c],s})(ne,V,F),oe=(0,u.useCallback)((async n=>{var r;w(!1),b(!0),m([]);let a=[];try{if("key"===n?a=await t._getKeys(null):"operator"===n?a=t._getOperators():"value"===n&&(a=await t._getValuesFor(e)),B.current!==n)return;m(a),(null==(r=a[0])?void 0:r.group)?C(1):C(0)}catch(e){w(!0)}b(!1)}),[e,t]),ie=function(e){return ss({observeElementRect:Zi,observeElementOffset:ts,scrollToFn:rs,...e})}({count:ne.length,getScrollElement:()=>Q.floating.current,estimateSize:e=>ne[e].description?60:38,overscan:5}),se=(0,u.useCallback)(((r,o)=>{if("Backspace"===r.key&&!x){if("value"===O){if(o&&k.length)return void T((e=>{const t=[...e];return t.splice(-1,1),t}));if(null==e?void 0:e.origin)return;return void _("operator")}null==a||a(),t._handleComboboxBackspace(e),n&&W()}}),[x,O,t,e,n,k.length,W,a]),le=(0,u.useCallback)(((n,a)=>{var o;"Tab"!==n.key||n.shiftKey||(a&&(n.preventDefault(),H(t,e,k),null==(o=Q.domReference.current)||o.focus()),null==r||r(),W())}),[e,k,r,H,W,t,Q.domReference]),ce=(0,u.useCallback)(((n,a)=>{"Tab"===n.key&&n.shiftKey&&(a&&(n.preventDefault(),H(t,e,k,!0)),null==r||r(),W())}),[e,k,r,H,W,t]),ue=(0,u.useCallback)(((n,i)=>{if("Enter"===n.key&&null!=E){if(!ne[E])return;const n=ne[E];i?(G(n),S("")):(t._updateFilter(e,vs({filterInputType:O,item:n,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),ws({populateInputOnEdit:o,item:n,filterInputType:O,setInputValue:S,filter:e}),gs(O,_,r,Q.domReference.current,!U&&void 0),C(null),U&&(null==a||a()))}}),[E,ne,G,t,e,O,o,r,Q.domReference,U,a,re]),de=(0,u.useCallback)((e=>{var t;const n=e.label||e.value;T((t=>t.filter((t=>t.value!==e.value)))),D(!0),S(n),null==(t=Q.domReference.current)||t.focus(),setTimeout((()=>{var e;null==(e=Q.domReference.current)||e.select()}))}),[Q.domReference]);(0,u.useEffect)((()=>{h&&oe(O)}),[h,O]),(0,u.useEffect)((()=>{var t,r,a,i;if(!n){if(j&&(null==(t=null==e?void 0:e.values)?void 0:t.length)){const t=e.values.reduce(((t,n,r)=>{var a;return[...t,{label:(null==(a=e.valueLabels)?void 0:a[r])||n,value:n}]}),[]);T(t)}!j&&o&&(S(null!=(a=null==(r=null==e?void 0:e.valueLabels)?void 0:r[0])?a:(null==e?void 0:e.value)||""),setTimeout((()=>{var e;null==(e=Q.domReference.current)||e.select()}))),null==(i=Q.domReference.current)||i.focus()}}),[]),(0,u.useEffect)((()=>{M&&k&&setTimeout((()=>P({})))}),[k,M]),(0,u.useLayoutEffect)((()=>{B.current&&(B.current=O)}),[O]),(0,u.useLayoutEffect)((()=>{var e,t;null!==E&&ie.range&&(E>(null==(e=ie.range)?void 0:e.endIndex)||E<(null==(t=ie.range)?void 0:t.startIndex))&&ie.scrollToIndex(E)}),[E,ie]);const pe=null!=(l=null==e?void 0:e.keyLabel)?l:null==e?void 0:e.key;return p().createElement("div",{className:I.comboboxWrapper},e?p().createElement("div",{className:I.pillWrapper},(null==e?void 0:e.key)?p().createElement("div",{className:(0,Fn.cx)(I.basePill,I.keyPill)},pe):null,(null==e?void 0:e.key)&&(null==e?void 0:e.operator)&&"operator"!==O?p().createElement("div",{id:$,className:(0,Fn.cx)(I.basePill,!e.origin&&I.operatorPill,e.origin&&I.keyPill,$),"aria-label":Ft("grafana-scenes.variables.ad-hoc-combobox.aria-label-edit-filter-operator","Edit filter operator"),tabIndex:e.origin?-1:0,onClick:t=>{e.origin?null==r||r():(t.stopPropagation(),S(""),ms("operator",_,void 0,Q.domReference.current))},onKeyDown:t=>{e.origin||(ce(t,j),"Enter"===t.key&&(S(""),ms("operator",_,void 0,Q.domReference.current)))},...!e.origin&&{role:"button"}},e.operator):null,p().createElement("div",{ref:N}),M?k.map(((e,t)=>p().createElement(Ss,{key:`${e.value}-${t}`,item:e,index:t,handleRemoveMultiValue:te,handleEditMultiValuePill:de}))):null):null,p().createElement("input",{...Z({ref:Q.setReference,onChange:function(e){const t=e.target.value;S(t),C(0),R&&D(!1)},value:x,placeholder:ys(e,O,M,n),"aria-autocomplete":"list",onKeyDown(e){h?("operator"===O&&ce(e),se(e,M),le(e,M),ue(e,M)):f(!0)}}),className:(0,Fn.cx)(I.inputStyle,{[I.loadingInputPadding]:!v}),onClick:e=>{e.stopPropagation(),f(!0)},onFocus:()=>{f(!0)}}),v?p().createElement(kn.Spinner,{className:I.loadingIndicator,inline:!0}):null,p().createElement(Ci,null,h&&p().createElement(Ai,{context:X,initialFocus:-1,visuallyHiddenDismiss:!0,modal:!1},p().createElement(p().Fragment,null,p().createElement("div",{style:{...Y,width:`${y?366:ae}px`,transform:M?`translate(${(null==(c=N.current)?void 0:c.getBoundingClientRect().left)||0}px, ${((null==(d=Q.domReference.current)?void 0:d.getBoundingClientRect().bottom)||0)+10}px )`:Y.transform},ref:Q.setFloating,className:I.dropdownWrapper,tabIndex:-1},p().createElement("div",{style:{height:`${ie.getTotalSize()||38}px`},...J(),tabIndex:-1},v?p().createElement(us,null):y?p().createElement(ps,{handleFetchOptions:()=>oe(O)}):ne.length||L&&"operator"!==O&&x?ie.getVirtualItems().map((n=>{var a;const i=ne[n.index],s=n.index;if(i.options)return p().createElement("div",{key:`${i.label}+${s}`,className:(0,Fn.cx)(I.optionGroupLabel,I.groupTopBorder),style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`}},p().createElement(kn.Text,{weight:"bold",variant:"bodySmall",color:"secondary"},i.label));const l=ne[n.index+1],c=l&&!l.group&&!l.options&&i.group,u=null!=(a=i.label)?a:i.value;return p().createElement(ls,{...ee({key:`${i.value}-${s}`,ref(e){V.current[s]=e},onClick(n){var a;"value"!==O&&n.stopPropagation(),M?(n.preventDefault(),n.stopPropagation(),G(i),S(""),null==(a=Q.domReference.current)||a.focus()):(t._updateFilter(e,vs({filterInputType:O,item:i,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),ws({populateInputOnEdit:o,item:i,filterInputType:O,setInputValue:S,filter:e}),gs(O,_,r,Q.domReference.current,!1))}}),active:E===s,addGroupBottomBorder:c,style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`},"aria-setsize":ne.length,"aria-posinset":n.index+1,isMultiValueEdit:M,checked:k.some((e=>e.value===i.value))},p().createElement("span",null,i.isCustom?Ft("grafana-scenes.components.adhoc-filters-combobox.use-custom-value","Use custom value: {{itemLabel}}",{itemLabel:u}):u),i.description?p().createElement("div",{className:I.descriptionText},i.description):null)})):p().createElement(ds,null))),M&&!v&&!y&&ne.length?p().createElement(hs,{onApply:()=>{H(t,e,k)},floatingElement:Q.floating.current,maxOptionWidth:ae,menuHeight:Math.min(ie.getTotalSize(),300)}):null))))})),Os=e=>({comboboxWrapper:(0,Fn.css)({display:"flex",flexWrap:"wrap"}),pillWrapper:(0,Fn.css)({display:"flex",alignItems:"center",flexWrap:"wrap"}),basePill:(0,Fn.css)({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75),...e.typography.bodySmall,cursor:"pointer"}),keyPill:(0,Fn.css)({fontWeight:e.typography.fontWeightBold,cursor:"default"}),operatorPill:(0,Fn.css)({"&:hover":{background:e.colors.action.hover}}),dropdownWrapper:(0,Fn.css)({backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown}),inputStyle:(0,Fn.css)({paddingBlock:0,"&:focus":{outline:"none"}}),loadingIndicator:(0,Fn.css)({color:e.colors.text.secondary,marginLeft:e.spacing(.5)}),loadingInputPadding:(0,Fn.css)({paddingRight:e.spacing(2.5)}),optionGroupLabel:(0,Fn.css)({padding:e.spacing(1),position:"absolute",top:0,left:0,width:"100%"}),groupTopBorder:(0,Fn.css)({"&:not(:first-child)":{borderTop:`1px solid ${e.colors.border.weak}`}}),descriptionText:(0,Fn.css)({...e.typography.bodySmall,color:e.colors.text.secondary,paddingTop:e.spacing(.5)})});function _s({filter:e,model:t,readOnly:n,focusOnWipInputRef:r}){var a,o,i;const s=(0,kn.useStyles2)(Rs),[l,c]=(0,u.useState)(!0),[d,h]=(0,u.useState)(!1),f=(0,u.useRef)(null),[g,m]=(0,u.useState)(!1),v=null!=(a=e.keyLabel)?a:e.key,b=(null==(o=e.valueLabels)?void 0:o.join(", "))||(null==(i=e.values)?void 0:i.join(", "))||e.value,y=(0,u.useCallback)(((e,t)=>{null==e||e.stopPropagation(),n||(h(null!=t?t:!l),c(!l))}),[n,l]);(0,u.useEffect)((()=>{var e;d&&(null==(e=f.current)||e.focus(),h(!1))}),[d]),(0,u.useEffect)((()=>{e.forceEdit&&l&&(c(!1),t._updateFilter(e,{forceEdit:void 0}))}),[e,t,l]),(0,u.useEffect)((()=>{l&&m((e=>!e&&e))}),[l]);const w=e=>"dashboard"===e?{info:"Applied by default in this dashboard. If edited, it carries over to other dashboards.",restore:"Restore the value set by this dashboard."}:"scope"===e?{info:"Applied automatically from your selected scope.",restore:"Restore the value set by your selected scope."}:{info:`This is a ${e} injected filter.`,restore:"Restore filter to its original value."};if(l){const a=`${v} ${e.operator} ${b}`,o=p().createElement("span",{className:s.pillText},a);return p().createElement("div",{className:(0,Fn.cx)(s.combinedFilterPill,n&&s.readOnlyCombinedFilter,Vs(e)&&s.matchAllPill,e.readOnly&&s.filterReadOnly),onClick:e=>{e.stopPropagation(),m(!0),y()},onKeyDown:e=>{"Enter"===e.key&&(m(!0),y())},role:n?void 0:"button","aria-label":Ft("grafana-scenes.components.adhoc-filter-pill.edit-filter-with-key","Edit filter with key {{keyLabel}}",{keyLabel:v}),tabIndex:0,ref:f},a.length<20?o:p().createElement(kn.Tooltip,{content:p().createElement("div",{className:s.tooltipText},a),placement:"top"},o),n||e.matchAllFilter||e.origin&&"dashboard"!==e.origin?null:p().createElement(kn.IconButton,{onClick:n=>{n.stopPropagation(),e.origin&&"dashboard"===e.origin?t.updateToMatchAll(e):t._removeFilter(e),setTimeout((()=>null==r?void 0:r()))},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),e.origin&&"dashboard"===e.origin?t.updateToMatchAll(e):t._removeFilter(e),setTimeout((()=>null==r?void 0:r())))},name:"times",size:"md",className:s.pillIcon,tooltip:Ft("grafana-scenes.components.adhoc-filter-pill.remove-filter-with-key","Remove filter with key {{keyLabel}}",{keyLabel:v})}),e.origin&&e.readOnly&&p().createElement(kn.Tooltip,{content:Ft("grafana-scenes.components.adhoc-filter-pill.managed-filter","{{origin}} managed filter",{origin:e.origin}),placement:"bottom"},p().createElement(kn.Icon,{name:"lock",size:"md",className:s.readOnlyPillIcon})),e.origin&&!e.restorable&&!e.readOnly&&p().createElement(kn.Tooltip,{content:w(e.origin).info,placement:"bottom"},p().createElement(kn.Icon,{name:"info-circle",size:"md",className:s.infoPillIcon})),e.origin&&e.restorable&&!e.readOnly&&p().createElement(kn.IconButton,{onClick:n=>{n.stopPropagation(),t.restoreOriginalFilter(e)},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t.restoreOriginalFilter(e))},name:"history",size:"md",className:Vs(e)?s.matchAllPillIcon:s.pillIcon,tooltip:w(e.origin).restore}))}return p().createElement(Cs,{filter:e,model:t,handleChangeViewMode:y,focusOnWipInputRef:r,populateInputOnEdit:g})}const Rs=e=>({combinedFilterPill:(0,Fn.css)({display:"flex",alignItems:"center",background:e.colors.action.selected,borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,0,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75),...e.typography.bodySmall,fontWeight:e.typography.fontWeightBold,cursor:"pointer","&:hover":{background:e.colors.action.hover}}),readOnlyCombinedFilter:(0,Fn.css)({paddingRight:e.spacing(1),cursor:"text","&:hover":{background:e.colors.action.selected}}),filterReadOnly:(0,Fn.css)({background:e.colors.background.canvas,cursor:"text","&:hover":{background:e.colors.background.canvas}}),pillIcon:(0,Fn.css)({marginInline:e.spacing(.5),cursor:"pointer","&:hover":{color:e.colors.text.primary}}),pillText:(0,Fn.css)({maxWidth:"200px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}),tooltipText:(0,Fn.css)({textAlign:"center"}),infoPillIcon:(0,Fn.css)({marginInline:e.spacing(.5),cursor:"pointer"}),readOnlyPillIcon:(0,Fn.css)({marginInline:e.spacing(.5)}),matchAllPillIcon:(0,Fn.css)({marginInline:e.spacing(.5),cursor:"pointer",color:e.colors.text.disabled}),matchAllPill:(0,Fn.css)({background:e.colors.action.selected,color:e.colors.text.disabled,border:0,"&:hover":{background:e.colors.action.selected}})}),Ds=(0,u.forwardRef)((function({model:e},t){const{_wip:n}=e.useState();return(0,u.useLayoutEffect)((()=>{n||e._addWip()}),[n]),p().createElement(Cs,{model:e,filter:n,isAlwaysWip:!0,ref:t})})),Is=(0,u.memo)((function({model:e}){const{originFilters:t,filters:n,readOnly:r}=e.useState(),a=(0,kn.useStyles2)(ks),o=(0,u.useRef)();return p().createElement("div",{className:(0,Fn.cx)(a.comboboxWrapper,{[a.comboboxFocusOutline]:!r}),onClick:()=>{var e;null==(e=o.current)||e.call(o)}},p().createElement(kn.Icon,{name:"filter",className:a.filterIcon,size:"lg"}),null==t?void 0:t.map(((t,n)=>t.origin?p().createElement(_s,{key:`${n}-${t.key}`,filter:t,model:e,focusOnWipInputRef:o.current}):null)),n.map(((t,n)=>p().createElement(_s,{key:`${n}-${t.key}`,filter:t,model:e,readOnly:r||t.readOnly,focusOnWipInputRef:o.current}))),r?null:p().createElement(Ds,{model:e,ref:o}))})),ks=e=>({comboboxWrapper:(0,Fn.css)({display:"flex",flexWrap:"wrap",alignItems:"center",columnGap:e.spacing(1),rowGap:e.spacing(.5),minHeight:e.spacing(4),backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.strong}`,borderRadius:e.shape.radius.default,paddingInline:e.spacing(1),paddingBlock:e.spacing(.5),flexGrow:1}),comboboxFocusOutline:(0,Fn.css)({"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow",zIndex:2}}),filterIcon:(0,Fn.css)({color:e.colors.text.secondary,alignSelf:"center"})}),Ts=Object.fromEntries(Object.entries(o.scopeFilterOperatorMap).map((([e,t])=>[t,e])));function As(e){return new Set(["equals","not-equals","one-of","not-one-of"]).has(e)}function Ps(e,t,n){var r,a;if(!n)return;const i=e.get(n.key);i&&function(e,t){const n=o.scopeFilterOperatorMap[e];if(!As(n)||!As(t))return!1;if(n.includes("not")&&!t.includes("not")||!n.includes("not")&&t.includes("not"))return!1;return!0}(i.operator,n.operator)?function(e,t){var n,r,a,o;const i=null!=(n=t.values)?n:[t.value];for(const t of i)(null==(r=e.values)?void 0:r.includes(t))||null==(a=e.values)||a.push(t);if(1===(null==(o=e.values)?void 0:o.length))return;"equals"===t.operator&&e.operator===Ts.equals?e.operator=Ts["one-of"]:"not-equals"===t.operator&&e.operator===Ts["not-equals"]&&(e.operator=Ts["not-one-of"])}(i,n):i?t.push({key:n.key,operator:Ts[n.operator],value:n.value,values:null!=(a=n.values)?a:[n.value],origin:"scope"}):e.set(n.key,{key:n.key,operator:Ts[n.operator],value:n.value,values:null!=(r=n.values)?r:[n.value],origin:"scope"})}const Ls=[{value:"=",description:"Equals"},{value:"!=",description:"Not equal"},{value:"=|",description:"One of. Use to filter on multiple values.",isMulti:!0},{value:"!=|",description:"Not one of. Use to exclude multiple values.",isMulti:!0},{value:"=~",description:"Matches regex",isRegex:!0},{value:"!~",description:"Does not match regex",isRegex:!0},{value:"<",description:"Less than"},{value:">",description:"Greater than"}];class Ns extends I{constructor(e){var t,n,r,a,o;super({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(a=e.filterExpression)?a:js(e.expressionBuilder,[...null!=(n=e.originFilters)?n:[],...null!=(r=e.filters)?r:[]]),...e}),this._scopedVars={__sceneObject:pr(this)},this._dataSourceSrv=(0,i.getDataSourceSrv)(),this._originalValues=new Map,this._prevScopes=[],this._variableDependency=new ul(this,{dependsOnScopes:!0,onReferencedVariableValueChanged:()=>this._updateScopesFilters()}),this._urlSync=new Rr(this),this._activationHandler=()=>()=>{var e;null==(e=this.state.originFilters)||e.forEach((e=>{e.restorable&&this.restoreOriginalFilter(e)}))},"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler((()=>(Dn.add(e),()=>Dn.delete(e)))),Rn)return;const t=(0,i.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)&&(Rn=t.getAdhocFilters,t.getAdhocFilters=function(e){var n;if(0===Dn.size)return Rn.call(t,e);const r=(0,i.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const e of Dn.values())if((null==(n=e.state.datasource)?void 0:n.uid)===r.uid)return e.state.filters;return[]}.bind(t))}(this),null==(o=this.state.originFilters)||o.forEach((e=>{var t;this._originalValues.set(e.key,{operator:e.operator,value:null!=(t=e.values)?t:[e.value]})})),this.addActivationHandler(this._activationHandler)}_updateScopesFilters(){var e,t;const n=jl.getScopes(this);if(!n||!n.length)return void this.setState({originFilters:null==(e=this.state.originFilters)?void 0:e.filter((e=>"scope"!==e.origin))});const r=function(e){const t=new Map,n=[],r=e.flatMap((e=>e.spec.filters));for(const e of r)Ps(t,n,e);return[...t.values(),...n]}(n);if(!r.length)return;let a=r;const o=[],i=[];if(a.forEach((e=>{var t;this._originalValues.set(e.key,{value:null!=(t=e.values)?t:[e.value],operator:e.operator})})),null==(t=this.state.originFilters)||t.forEach((e=>{"scope"===e.origin?o.push(e):i.push(e)})),this._prevScopes.length)return this.setState({originFilters:[...a,...i]}),void(this._prevScopes=n);const s=o.filter((e=>e.restorable)),l=s.map((e=>e.key)),c=r.map((e=>e.key));a=[...s.filter((e=>c.includes(e.key))),...r.filter((e=>!l.includes(e.key)))],this.setState({originFilters:[...a,...i]}),this._prevScopes=n}setState(e){var t,n;let r=!1;if((e.filters&&e.filters!==this.state.filters||e.originFilters&&e.originFilters!==this.state.originFilters)&&!e.filterExpression){const a=null!=(t=e.filters)?t:this.state.filters,o=null!=(n=e.originFilters)?n:this.state.originFilters;e.filterExpression=js(this.state.expressionBuilder,[...null!=o?o:[],...a]),r=e.filterExpression!==this.state.filterExpression}super.setState(e),r&&this.publishEvent(new re(this),!0)}updateFilters(e,t){var n;let r,a=!1;e&&e!==this.state.filters&&(r=js(this.state.expressionBuilder,[...null!=(n=this.state.originFilters)?n:[],...e]),a=r!==this.state.filterExpression),super.setState({filters:e,filterExpression:r}),(a&&!0!==(null==t?void 0:t.skipPublish)||(null==t?void 0:t.forcePublish))&&this.publishEvent(new re(this),!0)}restoreOriginalFilter(e){const t={matchAllFilter:!1,restorable:!1};if(e.restorable){const n=this._originalValues.get(e.key);if(!n)return;t.value=null==n?void 0:n.value[0],t.values=null==n?void 0:n.value,t.valueLabels=null==n?void 0:n.value,t.operator=null==n?void 0:n.operator,this._updateFilter(e,t)}}getValue(){return this.state.filterExpression}_updateFilter(e,t){var n;const{originFilters:r,filters:a,_wip:o}=this.state;if(e.origin){const a=this._originalValues.get(e.key),o=t.values||(t.value?[t.value]:void 0);o&&!(0,A.isEqual)(o,null==a?void 0:a.value)||t.operator&&t.operator!==(null==a?void 0:a.operator)?t.restorable=!0:o&&(0,A.isEqual)(o,null==a?void 0:a.value)&&(t.restorable=!1);const i=null!=(n=null==r?void 0:r.map((n=>n===e?{...n,...t}:n)))?n:[];return void this.setState({originFilters:i})}if(e===o)return void("value"in t&&""!==t.value?this.setState({filters:[...a,{...o,...t}],_wip:void 0}):this.setState({_wip:{...e,...t}}));const i=this.state.filters.map((n=>n===e?{...n,...t}:n));this.setState({filters:i})}updateToMatchAll(e){this._updateFilter(e,{operator:"=~",value:".*",values:[".*"],valueLabels:["All"],matchAllFilter:!0,restorable:!0})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter((t=>t!==e))}):this.setState({_wip:void 0})}_removeLastFilter(){const e=this.state.filters.at(-1);e&&this._removeFilter(e)}_handleComboboxBackspace(e){var t;if(this.state.filters.length){let t=this.state.filters.length-1;e!==this.state._wip&&(t=-1),this.setState({filters:this.state.filters.reduce(((n,r,a)=>a!==t||r.readOnly?r===e?n:[...n,r]:[...n,{...r,forceEdit:!0}]),[])})}else if(null==(t=this.state.originFilters)?void 0:t.length){let t=this.state.originFilters.length-1;e!==this.state._wip&&(t=-1),this.setState({originFilters:this.state.originFilters.reduce(((n,r,a)=>a!==t||r.readOnly?r===e?n:[...n,r]:[...n,{...r,forceEdit:!0}]),[])})}}async _getKeys(e){var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,e));if(a&&a.replace)return il(a.values).map($s);if(this.state.defaultKeys)return this.state.defaultKeys.map($s);const o=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!o||!o.getTagKeys)return[];const i=this.state.filters.filter((t=>t.key!==e)).concat(null!=(r=this.state.baseFilters)?r:[]),s=jl.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?el(this):void 0,c=await o.getTagKeys({filters:i,queries:l,timeRange:s,scopes:jl.getScopes(this),...sr(this)});sl(c)&&this.setState({error:c.error.message});let u=il(c);a&&(u=u.concat(il(a.values)));const d=this.state.tagKeyRegexFilter;return d&&(u=u.filter((e=>e.text.match(d)))),u.map($s)}async _getValuesFor(e){var t,n,r,a;const o=await(null==(n=(t=this.state).getTagValuesProvider)?void 0:n.call(t,this,e));if(o&&o.replace)return il(o.values).map($s);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagValues)return[];const s=null!=(a=null==(r=this.state.originFilters)?void 0:r.filter((t=>t.key!==e.key)))?a:[],l=this.state.filters.filter((t=>t.key!==e.key)).concat(s),c=jl.getTimeRange(this).state.value,u=this.state.useQueriesAsFilterForOptions?el(this):void 0;let d=jl.getScopes(this);"scope"===e.origin&&(d=null==d?void 0:d.map((t=>({...t,spec:{...t.spec,filters:t.spec.filters.filter((t=>t.key!==e.key))}}))));const p=await i.getTagValues({key:e.key,filters:l,timeRange:c,queries:u,scopes:d,...sr(this)});sl(p)&&this.setState({error:p.error.message});let h=il(p);return o&&(h=h.concat(il(o.values))),h.map($s)}_addWip(){this.setState({_wip:{key:"",value:"",operator:"=",condition:""}})}_getOperators(){const{supportsMultiValueOperators:e,allowCustomValue:t=!0}=this.state;return Ls.filter((({isMulti:n,isRegex:r})=>!(!e&&n)&&!(!t&&r))).map((({value:e,description:t})=>({label:e,value:e,description:t})))}}function js(e,t){return(null!=e?e:Ys)(null!=t?t:[])}Ns.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:r}=e.useState(),a=(0,kn.useStyles2)(Ms);if("combobox"===e.state.layout)return p().createElement(Is,{model:e});return p().createElement("div",{className:a.wrapper},t.filter((e=>!e.hidden)).map(((t,n)=>p().createElement(p().Fragment,{key:n},p().createElement(Cr,{filter:t,model:e})))),!n&&p().createElement(_r,{model:e,key:"'builder",addFilterButtonText:r}))};const Ms=e=>({wrapper:(0,Fn.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)})});function $s(e){const{text:t,value:n}=e,r={label:String(t),value:String(null!=n?n:t)};return"group"in e&&(r.group=e.group),"meta"in e&&(r.meta=e.meta),r}function Vs(e){return"=~"===e.operator&&".*"===e.value}function Fs(e){return""!==e.key&&""!==e.operator&&""!==e.value}function Bs(e){const t=Ls.find((t=>t.value===e));return!!t&&Boolean(t.isMulti)}class zs{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map((e=>e.getResultsStream())),n=[];for(const t of e)n.push(t.activate());return(0,h.merge)(t).pipe((0,h.mergeAll)(),(0,h.filter)((e=>this._resultsMap.get(e.origin.state.key)!==e)),(0,h.map)((e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values()))),(0,h.finalize)((()=>{n.forEach((e=>e()))})))}}let Us=100;function Ws(){return"SQR"+Us++}class Hs extends I{constructor(e){super(e),this._dataLayersMerger=new zs,this._variableValueRecorder=new Sn,this._results=new h.ReplaySubject(1),this._scopedVars={__sceneObject:pr(this)},this._variableDependency=new ul(this,{statePaths:["queries","datasource","minInterval"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this),dependsOnScopes:!0}),this.onDataReceived=e=>{const t=(0,o.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const n=this._combineDataLayers(t);let r=this.state._hasFetchedData;r||t.state===B.Loading||(r=!0),this.setState({data:n,_hasFetchedData:r}),this._results.next({origin:this,data:n})},this.addActivationHandler((()=>this._onActivate()))}getResultsStream(){return this._results}_onActivate(){if(this.isQueryModeAuto()){const e=jl.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState(((t,n)=>{e.shouldRerun(n,t,this.state.queries)&&this.runQueries()})));this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries()}return this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=jl.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,n,r,a,i;const s=jl.getTimeRange(this),{dataLayerFilter:l}=this.state;let c,u=[],d=[];for(const r of e)for(let e of r.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===o.DataTopic.Annotations&&(u=u.concat(e)),(null==(n=e.meta)?void 0:n.dataTopic)===o.DataTopic.AlertStates&&(d=d.concat(e));if((null==l?void 0:l.panelId)&&(u.length>0&&(u=function(e,t){var n;if(!Array.isArray(e)||0===e.length)return e;const r=Array.from({length:e.length},(()=>new Set));let a=0;for(const o of e){for(let e=0;e<o.length;e++){if(r[a].has(e))continue;let i=!0;const s=o.fields.find((e=>"panelId"===e.name)),l=o.fields.find((e=>"source"===e.name));if(l){s&&"dashboard"===l.values[e].type&&(i=[t.panelId,On].includes(s.values[e]));const r=l.values[e].filter;if(r){const e=[...null!=(n=r.ids)?n:[],On].includes(t.panelId);r.exclude?e&&(i=!1):e||(i=!1)}}i&&r[a].add(e)}a++}const o=[];a=0;for(const t of e){const e=r[a].size,n=[];for(const e of t.fields){const o=[];for(let n=0;n<t.length;n++)r[a].has(n)&&o.push(e.values[n]);n.push({...e,values:o})}o.push({...t,fields:n,length:e}),a++}return o}(u,l)),d.length>0))for(const e of d){const t=new o.DataFrameView(e);for(const e of t)if(e.panelId===l.panelId){c=e;break}}if(qs(u)&&qs(this._layerAnnotations)&&(0,A.isEqual)(c,null==(r=this.state.data)?void 0:r.alertState))return;this._layerAnnotations=u;const p=this.state.data?this.state.data:{...U,timeRange:s.state.value};this.setState({data:{...p,annotations:[...null!=(a=this._resultAnnotations)?a:[],...u],alertState:null!=c?c:null==(i=this.state.data)?void 0:i.alertState}})}onVariableUpdatesCompleted(){this.isQueryModeAuto()&&this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&this.isQueryModeAuto()&&(e instanceof Ns&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof gr&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,n;const r=null!=(t=this.state.datasource)?t:Gs(this.state.queries);return"auto"===e.state.applyMode&&(null==r?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(M(),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=jl.getTimeRange(this).state.value,n=e.timeRange;return(t.from.unix()!==n.from.unix()||t.to.unix()!==n.to.unix())&&(M(),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout((()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()}),0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)})))}runQueries(){const e=jl.getTimeRange(this);this.isQueryModeAuto()&&this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:{...this.state.data,state:B.Done}})}async runWithTimeRange(e){var t,n,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return M(),void this.setState({data:{...null!=(n=this.state.data)?n:U,state:B.Loading}});this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this);const{queries:a}=this.state;if(null==a?void 0:a.length)try{const t=null!=(r=this.state.datasource)?r:Gs(a),n=await xn(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(n.uid);const o=(0,i.getRunRequest)(),{primary:s,secondaries:l,processors:c}=this.prepareRequests(e,n);M(0,0,this.state.key);let u=o(n,s);if(l.length>0){const e=l.map((e=>o(n,e))),t=(e=>t=>t.pipe((0,h.mergeMap)((([t,...n])=>{const r=n.flatMap((n=>{var r,a;return null!=(a=null==(r=e.get(n.request.requestId))?void 0:r(t,n))?a:(0,h.of)(n)}));return(0,h.forkJoin)([(0,h.of)(t),...r])})),(0,h.map)((([e,...t])=>{var n;return{...e,series:[...e.series,...t.flatMap((e=>e.series))],annotations:[...null!=(n=e.annotations)?n:[],...t.flatMap((e=>{var t;return null!=(t=e.annotations)?t:[]}))]}}))))(c);u=(0,h.forkJoin)([u,...e]).pipe(t)}u=u.pipe(yn({type:"data",request:s,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=u.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived({...U,...this.state.data,state:B.Error,errors:[(0,i.toDataQueryError)(e)]})}else this._setNoDataState()}clone(e){var t;const n=super.clone(e);return this._resultAnnotations&&(n._resultAnnotations=this._resultAnnotations.map((e=>({...e})))),this._layerAnnotations&&(n._layerAnnotations=this._layerAnnotations.map((e=>({...e})))),n._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),n._containerWidth=this._containerWidth,n._results.next({origin:this,data:null!=(t=this.state.data)?t:U}),n}prepareRequests(e,t){var n,r;const{minInterval:a,queries:s}=this.state;let l={app:"scenes",requestId:Ws(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,A.cloneDeep)(s),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL,scopes:jl.getScopes(this),..._n(this)};this._adhocFiltersVar&&(l.filters=[...null!=(n=this._adhocFiltersVar.state.originFilters)?n:[],...this._adhocFiltersVar.state.filters].filter(Fs)),this._groupByVar&&(l.groupByKeys=this._groupByVar.state.value),l.targets=l.targets.map((e=>{var n;return e.datasource&&(e.datasource.uid===t.uid||(null==(n=t.meta)?void 0:n.mixed)||!i.isExpressionReference||(0,i.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e}));const c=a?Al(this,a):t.interval,u=o.rangeUtil.calculateInterval(e.state.value,l.maxDataPoints,c);l.scopedVars=Object.assign({},l.scopedVars,{__interval:{text:u.interval,value:u.interval},__interval_ms:{text:u.intervalMs.toString(),value:u.intervalMs}}),l.interval=u.interval,l.intervalMs=u.intervalMs;const d=e.state.value;let p=[],h=new Map;for(const e of null!=(r=this.getClosestExtraQueryProviders())?r:[])for(const{req:t,processor:n}of e.getExtraQueries(l)){const e=Ws();p.push({...t,requestId:e}),h.set(e,null!=n?n:Cn)}return l.range=d,{primary:l,secondaries:p,processors:h}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==U&&this.setState({data:U})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(H(this.parent,(t=>(En(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild((t=>{En(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)})),null))),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const n of Dn.values())if(Al(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const n=function(e){var t;for(const n of In.values())if(Al(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._groupByVar!==n&&(this._groupByVar=n,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}isQueryModeAuto(){var e;return"auto"===(null!=(e=this.state.runQueriesMode)?e:"auto")}}function Gs(e){var t,n;return null!=(n=null==(t=e.find((e=>null!==e.datasource)))?void 0:t.datasource)?n:void 0}function qs(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}function Ks(e,t){return e===t||(0,A.isEqual)(e,t)}function Qs(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})())}catch(e){console.error(e)}return""}function Ys(e){return e.map((e=>function(e){var t,n;let r="",a=e.operator;"=|"===a?(a="=~",r=null==(t=e.values)?void 0:t.map(Zs).join("|")):"!=|"===a?(a="!~",r=null==(n=e.values)?void 0:n.map(Zs).join("|")):r="=~"===a||"!~"===a?Zs(e.value):Xs(e.value);return`${e.key}${a}"${r}"`}(e))).join(",")}function Xs(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function Zs(e){return Xs(e.replace(Js,"\\$&"))}const Js=/[*+?()|\\.\[\]{}^$]/g;function el(e){var t;const n=jl.findAllObjects(e.getRoot(),(e=>e instanceof Hs)),r=jl.interpolate(e,null==(t=e.state.datasource)?void 0:t.uid),a=function(e){const t={};for(const n of e)n.state.key&&(n.state.key in t||(t[n.state.key]=[]),t[n.state.key].push(n));return Object.values(t).flatMap((e=>{const t=e.filter((e=>e.isActive));return 0===t.length&&1===e.length?e:t}))}(n).filter((t=>{var n;return jl.interpolate(e,null==(n=t.state.datasource)?void 0:n.uid)===r}));if(0===a.length)return[];const o=[];return a.forEach((t=>{o.push(...t.state.queries.filter((t=>{if(!t.datasource||!t.datasource.uid)return!0;return jl.interpolate(e,t.datasource.uid)===r})))})),o}function tl(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function nl(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function rl(e){return function(e){return null==e?"":/#/g[Symbol.replace](e,"__gfh__")}(tl(e))}function al(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","),e=/__gfh__/g[Symbol.replace](e,"#"))}function ol(e,t){return t&&e!==t?[e,t].map(nl).join(","):nl(e)}function il(e){return Array.isArray(e)?e:e.data}function sl(e){return!Array.isArray(e)&&Boolean(e.error)}function ll(e){const t=[],n=new Map;for(const r of e){const e=r.group;if(e){let a=n.get(e);a||(a=[],n.set(e,a),t.push({label:e,options:a})),a.push(r)}else t.push(r)}return t}class cl extends I{constructor(e){super({type:"constant",value:"",name:"",...e,skipUrlSync:!0}),this._variableDependency=new ul(this,{statePaths:["value"]}),this._prevValue=""}validateAndUpdate(){const e=this.getValue();return this._prevValue!==e&&(this._prevValue=e,this.publishEvent(new re(this),!0)),(0,h.of)({})}getValue(){return"string"==typeof this.state.value?jl.interpolate(this,this.state.value):this.state.value}}class ul{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths,this._options.handleTimeMacros&&this.handleTimeMacros()}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){var n,r,a,i;const s=this.getNames(),l=(s.has(e.state.name)||s.has(o.DataLinkBuiltInVars.includeVars))&&t;M(0,0,e.state.name,this._isWaitingForVariables),null==(r=(n=this._options).onAnyVariableChanged)||r.call(n,e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||l)&&this._options.onVariableUpdateCompleted(),l&&(null==(i=(a=this._options).onReferencedVariableValueChanged)||i.call(a,e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return this._isWaitingForVariables=jl.hasVariableDependencyInLoadingState(this._sceneObject),this._isWaitingForVariables}getNames(){const e=this._state,t=this._state=this._sceneObject.state,n=!e||t!==e&&(!this._statePaths||this._statePaths.some((n=>"*"===n||t[n]!==e[n])));return n&&this.scanStateForDependencies(t),this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount++,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._options.dependsOnScopes&&this._dependencies.add(tn),this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const n=e[t];n&&this.extractVariablesFrom(n)}}}extractVariablesFrom(e){Jt.lastIndex=0;const t=("string"!=typeof e?Qs(e):e).matchAll(Jt);if(t)for(const e of t){const[,t,n,,r]=e,a=t||n||r;this._dependencies.add(a)}}handleTimeMacros(){this._sceneObject.addActivationHandler((()=>{const e=jl.getTimeRange(this._sceneObject).subscribeToState(((e,t)=>{const n=this.getNames(),r=n.has("__from"),a=n.has("__to"),o=n.has("__timezone");if(e.value!==t.value)if(r){const t=new cl({name:"__from",value:e.from});this.variableUpdateCompleted(t,!0)}else if(a){const t=new cl({name:"__to",value:e.to});this.variableUpdateCompleted(t,!0)}if(e.timeZone!==t.timeZone&&o){const t=new cl({name:"__timezone",value:e.timeZone});this.variableUpdateCompleted(t,!0)}}));return()=>e.unsubscribe()}))}}const dl=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),pl=e=>{if(!e.variables)return!1;if(e.variables.getType()!==o.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},hl=e=>{if(!e.variables)return!1;if(e.variables.getType()!==o.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)},fl=e=>!!e.variables&&e.variables.getType()===o.VariableSupportType.Datasource;class gl{constructor(e,t=(0,i.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(pl(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const n=null!=(t=e.state.query)?t:"";if("string"==typeof n)return{query:n,refId:`variable-${e.state.name}`};if(null==n.refId)return{...n,refId:`variable-${e.state.name}`};return e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return pl(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):yl()}}class ml{constructor(e){this.datasource=e}getTarget(e){if(dl(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},n){return dl(this.datasource)?(0,h.from)(this.datasource.metricFindQuery(e.state.query,{...n,variable:{name:e.state.name,type:e.state.type},searchFilter:t})).pipe((0,h.mergeMap)((e=>{if(!e||!e.length)return yl();const t=e;return(0,h.of)({series:t,state:o.LoadingState.Done,timeRange:n.range})}))):yl()}}class vl{constructor(e,t=(0,i.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(hl(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return hl(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):yl()}}class bl{constructor(e,t=(0,i.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){var t;if(fl(this.datasource))return"string"==typeof e.state.query?e.state.query:{...e.state.query,refId:null!=(t=e.state.query.refId)?t:"variable-query"};throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return fl(this.datasource)?this._runRequest(this.datasource,t):yl()}}function yl(){return(0,h.of)({state:o.LoadingState.Done,series:[],timeRange:(0,o.getDefaultTimeRange)()})}let wl=function(e){if(pl(e))return new gl(e,(0,i.getRunRequest)());if(dl(e))return new ml(e);if(hl(e))return new vl(e);if(fl(e))return new bl(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)};const xl=(e,t)=>{const n=[];let r=null;t.lastIndex=0;do{r=t.exec(e),r&&n.push(r)}while(t.global&&r&&""!==r[0]&&void 0!==r[0]);return n},Sl=(e,t)=>{if(t===o.VariableSort.disabled)return e;switch(t){case o.VariableSort.alphabeticalAsc:e=(0,A.sortBy)(e,"label");break;case o.VariableSort.alphabeticalDesc:e=(0,A.sortBy)(e,"label").reverse();break;case o.VariableSort.numericalAsc:e=(0,A.sortBy)(e,El);break;case o.VariableSort.numericalDesc:e=(e=(0,A.sortBy)(e,El)).reverse();break;case o.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,A.sortBy)(e,(e=>(0,A.toLower)(e.label)));break;case o.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,A.sortBy)(e,(e=>(0,A.toLower)(e.label)))).reverse();break;case o.VariableSort.naturalAsc||7:e=Ol(e);break;case o.VariableSort.naturalDesc||8:e=(e=Ol(e)).reverse()}return e};function El(e){if(!e.label)return-1;const t=e.label.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)}const Cl=new Intl.Collator(void 0,{sensitivity:"accent",numeric:!0});function Ol(e){return e.slice().sort(((e,t)=>Cl.compare(e.label,t.label)))}function _l(){return e=>e.pipe((0,h.map)((e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,o.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const n=e.toLowerCase();if("text"===n||"value"===n)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const n=(0,o.getProcessedDataFrames)(t),r=[];let a=-1,i=-1,s=-1,l=-1;for(const e of n)for(let n=0;n<e.fields.length;n++){const r=e.fields[n],c=(0,o.getFieldDisplayName)(r,e,t).toLowerCase();r.type===o.FieldType.string&&-1===s&&(s=n),"text"===c&&r.type===o.FieldType.string&&-1===i&&(i=n),"value"===c&&r.type===o.FieldType.string&&-1===a&&(a=n),"expandable"!==c||r.type!==o.FieldType.boolean&&r.type!==o.FieldType.number||-1!==l||(l=n)}if(-1===s)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const n=-1!==l?e.fields[l].values.get(t):void 0,o=e.fields[s].values.get(t),c=-1!==i?e.fields[i].values.get(t):"",u=-1!==a?e.fields[a].values.get(t):"";-1!==a||-1!==i?-1!==a||-1===i?-1===a||-1!==i?r.push({text:c,value:u,expandable:n}):r.push({text:u,value:u,expandable:n}):r.push({text:c,value:c,expandable:n}):r.push({text:o,value:o,expandable:n})}return r})))}class Rl extends ln{constructor(e){super({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:"",refresh:o.VariableRefresh.onDashboardLoad,sort:o.VariableSort.disabled,...e}),this._variableDependency=new ul(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{Qs(this.state.query).indexOf(en)>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,A.debounce)((async e=>{const t=await(0,h.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})}),400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,h.from)(xn(this.state.datasource,{__sceneObject:pr(this)})).pipe((0,h.mergeMap)((t=>{const n=wl(t),r=n.getTarget(this),a=this.getRequest(r,e.searchFilter);return n.runRequest({variable:this,searchFilter:e.searchFilter},a).pipe(yn({type:"variable",request:a,origin:this}),(0,h.filter)((e=>e.state===o.LoadingState.Done||e.state===o.LoadingState.Error)),(0,h.take)(1),(0,h.mergeMap)((e=>e.state===o.LoadingState.Error?(0,h.throwError)((()=>e.error)):(0,h.of)(e))),_l(),(0,h.mergeMap)((e=>{let t="";return this.state.regex&&(t=jl.interpolate(this,this.state.regex,void 0,"regex")),(0,h.of)(function(e,t,n){var r,a,i,s,l,c,u,d,p,h;let f,g=[];e&&(f=(0,o.stringToJsRegex)(e));for(let e=0;e<n.length;e++){const t=n[e];let o=null!=(a=null!=(r=t.text)?r:t.value)?a:"",m=null!=(s=null!=(i=t.value)?i:t.text)?s:"";if((0,A.isNumber)(m)&&(m=m.toString()),(0,A.isNumber)(o)&&(o=o.toString()),f){const e=xl(m,f);if(!e.length)continue;const t=e.find((e=>e.groups&&e.groups.value)),n=e.find((e=>e.groups&&e.groups.text)),r=e.find((e=>e.length>1)),a=e.length>1&&r;if(t||n)m=null!=(u=null==(l=null==t?void 0:t.groups)?void 0:l.value)?u:null==(c=null==n?void 0:n.groups)?void 0:c.text,o=null!=(h=null==(d=null==n?void 0:n.groups)?void 0:d.text)?h:null==(p=null==t?void 0:t.groups)?void 0:p.value;else{if(a){for(let t=0;t<e.length;t++){const n=e[t];g.push({label:n[1],value:n[1]})}continue}r&&(o=r[1],m=r[1])}}g.push({label:o,value:m})}return g=(0,A.uniqBy)(g,"value"),Sl(g,t)}(t,this.state.sort,e))})),(0,h.catchError)((e=>e.cancelled?(0,h.of)([]):(0,h.throwError)((()=>e)))))})))):(0,h.of)([])}getRequest(e,t){const n={__sceneObject:pr(this)};t&&(n.__searchFilter={value:t,text:t});const r=jl.getTimeRange(this).state.value;return{app:o.CoreApp.Dashboard,requestId:w(),timezone:"",range:r,interval:"",intervalMs:0,targets:[e],scopedVars:n,startTime:Date.now()}}}Rl.Component=({model:e})=>p().createElement(ar,{model:e});var Dl=n(2245);class Il extends I{constructor(e){super({skipUrlSync:!0,loading:!0,scopes:[],...e,type:"system",name:tn,hide:Dl.zL.hideVariable}),this._renderBeforeActivation=!0,this.UNSAFE_renderAsHidden=!0}getValue(){var e;const t=null!=(e=this.state.scopes)?e:[];return new kl(t.map((e=>e.metadata.name)))}getScopes(){return this.state.scopes}setContext(e){if(!e)return;this._context=e;const t=e.state;null!=this.state.enable&&e.setEnabled(this.state.enable);const n=e.stateObservable.subscribe((e=>{this.updateStateFromContext(e)}));return()=>{n.unsubscribe(),null!=this.state.enable&&e.setEnabled(t.enabled)}}updateStateFromContext(e){const t=0!==e.value.length&&e.loading,n=this.state.scopes.map((e=>e.metadata.name)),r=e.value.map((e=>e.metadata.name)),a=!(0,A.isEqual)(n,r);t||!a&&0!==r.length?this.setState({loading:t}):(this.setState({scopes:e.value,loading:t}),this.publishEvent(new re(this),!0))}}Il.Component=function({model:e}){const t=(0,u.useContext)(i.ScopesContext);return(0,u.useEffect)((()=>e.setContext(t)),[t,e]),null};class kl{constructor(e){this._value=e}formatter(e){return e===F.$m.QueryParam?this._value.map((e=>`scope=${encodeURIComponent(e)}`)).join("&"):this._value.join(", ")}}function Tl(e){var t;return null!=(t=H(e,(e=>e.state.$data)))?t:J}function Al(e,t,n,r,a){return""===t||null==t?"":gn(e,t,n,r,a)}function Pl(e,t,n,r){if(t(e))return e;let a=null;return e.forEachChild((e=>{if(e===n)return;let r=Pl(e,t);return r?(a=r,!1):void 0})),a||(r&&e.parent?Pl(e.parent,t,e,!0):null)}function Ll(e,t){return Pl(e,t,void 0,!0)}function Nl(e,t){const n=[];return e.forEachChild((e=>{t(e)&&n.push(e),n.push(...Nl(e,t))})),n}const jl={getVariables:function(e){var t;return null!=(t=H(e,(e=>e.state.$variables)))?t:te},getData:Tl,getTimeRange:ne,getLayout:function(e){const t=H(e,(e=>function(e){return"isDraggable"in e}(e)?e:void 0));return t||null},getDataLayers:function(e,t=!1){let n=e,r=[];for(;n;){const e=n.state.$data;if(e){if(bn(e)?r=r.concat(e):e.state.$data&&bn(e.state.$data)&&(r=r.concat(e.state.$data)),t&&r.length>0)break;n=n.parent}else n=n.parent}return r},interpolate:Al,lookupVariable:j,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){if(e instanceof Rl&&e.state.name===t){console.warn("Query variable is referencing itself");continue}const n=j(t,e);if(!n)continue;if(n.parent.isVariableLoadingOrWaitingToUpdate(n))return!0}return!1},findByKey:function(e,t){const n=Ll(e,(e=>e.state.key===t));if(!n)throw new Error("Unable to find scene with key "+t);return n},findByKeyAndType:function(e,t,n){const r=Ll(e,(e=>e.state.key===t));if(!r)throw new Error("Unable to find scene with key "+t);if(!(r instanceof n))throw new Error(`Found scene object with key ${t} does not match type ${n.name}`);return r},findObject:Ll,findAllObjects:Nl,getAncestor:function(e,t){let n=e;for(;n;){if(n instanceof t)return n;n=n.parent}if(!n)throw new Error("Unable to find parent of type "+t.name);return n},getQueryController:V,findDescendents:function(e,t){function n(e){return e instanceof t}return Nl(e,n).filter(n)},getScopes:function(e){const t=j(tn,e);if(t instanceof Il)return t.state.scopes}},Ml=["from","to","timezone"];class $l{constructor(e){this.index=new Map,this.options={namespace:(null==e?void 0:e.namespace)||"",excludeFromNamespace:(null==e?void 0:e.excludeFromNamespace)||Ml}}getOptions(){return this.options}getNamespacedKey(e){return this.options.namespace&&!this.options.excludeFromNamespace.includes(e)?`${this.options.namespace}-${e}`:e}getUniqueKey(e,t){const n=this.getNamespacedKey(e),r=this.index.get(n);if(!r)return this.index.set(n,[t]),n;let a=r.findIndex((e=>e===t));return-1===a&&(!function(e){for(const t of e)if(Vl(t)){const n=e.indexOf(t);e.splice(n,1)}}(r),r.push(t),a=r.length-1),a>0?`${n}-${a+1}`:n}clear(){this.index.clear()}}function Vl(e){const t=e.getRoot();return!jl.findObject(t,(t=>t===e))}function Fl(e,t){const n=new $l(t),r={},a=e=>{if(e.urlSync){const t=e.urlSync.getUrlState();for(const[a,o]of Object.entries(t))if(null!=o){const t=n.getUniqueKey(a,e);r[t]=o}}e.forEachChild(a)};return a(e),r}function Bl(e,t,n,r){r||zl(e,t,n),e.forEachChild((e=>{zl(e,t,n)})),e.forEachChild((e=>Bl(e,t,n,!0)))}function zl(e,t,n){if(e.urlSync){const r={},a=e.urlSync.getUrlState();for(const o of e.urlSync.getKeys()){const i=n.getUniqueKey(o,e),s=t.getAll(i),l=a[o];Ul(s,l)||(s.length>0?Array.isArray(l)?r[o]=s:r[o]=s[0]:r[o]=null)}Object.keys(r).length>0&&e.urlSync.updateFromUrl(r)}}function Ul(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,A.isEqual)(e,t):t===e[0])}var Wl=n(6145);class Hl extends I{constructor(e){super({...e,sync:e.sync||Wl.yV.Off}),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new Gl(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class Gl{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new h.Observable((t=>{const n=this._source.subscribeToEvent(e,(e=>{t.next(e)}));return()=>n.unsubscribe()}))}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var ql=function(){};var Kl="undefined"!=typeof window;const Ql=Kl?u.useLayoutEffect:u.useEffect;var Yl={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const Xl=Kl&&void 0!==window.ResizeObserver?function(){var e=(0,u.useState)(null),t=e[0],n=e[1],r=(0,u.useState)(Yl),a=r[0],o=r[1],i=(0,u.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,a=t.width,i=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;o({x:n,y:r,width:a,height:i,top:s,left:l,bottom:c,right:u})}}))}),[]);return Ql((function(){if(t)return i.observe(t),function(){i.disconnect()}}),[t]),[n,a]}:function(){return[ql,Yl]};function Zl({data:e,showAll:t,seriesLimit:n,onShowAllSeries:r}){const a=(0,kn.useStyles2)(Jl),o=null==e?void 0:e.series.length;if(void 0===o||o<n)return null;const i=t?"Restore limit":`Show all ${o}`;return p().createElement("div",{className:a.timeSeriesDisclaimer},!t&&p().createElement("span",{className:a.warningMessage},p().createElement(kn.Icon,{title:Ft("grafana-scenes.components.viz-panel-series-limit.warning-message","Showing only {{seriesLimit}} series",{seriesLimit:n}),name:"exclamation-triangle","aria-hidden":"true"})),p().createElement(kn.Tooltip,{content:Ft("grafana-scenes.components.viz-panel-series-limit.content-rendering-series-single-panel-impact-performance","Rendering too many series in a single panel may impact performance and make data harder to read.")},p().createElement(kn.Button,{variant:"secondary",size:"sm",onClick:r},i)))}const Jl=e=>({timeSeriesDisclaimer:(0,Fn.css)({label:"time-series-disclaimer",display:"flex",alignItems:"center",gap:e.spacing(1)}),warningMessage:(0,Fn.css)({display:"flex",alignItems:"center",gap:e.spacing(.5),color:e.colors.warning.main,fontSize:e.typography.bodySmall.fontSize})});function ec(e,t){if(t)return t;let n=e.error?e.error.message:void 0;return e.errors&&(n=e.errors.map((e=>e.message)).join(", ")),n}const tc=(0,Fn.css)({position:"relative",width:"100%",height:"100%"}),nc=(0,Fn.css)({position:"absolute",width:"100%",height:"100%"}),rc=e=>({ok:(0,Fn.css)({color:e.colors.success.text}),pending:(0,Fn.css)({color:e.colors.warning.text}),alerting:(0,Fn.css)({color:e.colors.error.text})}),ac="hideSeriesFrom",oc=(0,o.isSystemOverrideWithRef)(ac);function ic(e,t=o.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:ac,matcher:{id:o.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===o.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[{...n,value:{viz:!0,legend:!1,tooltip:!1}}]}}const sc=(e,t,n=o.ByNamesMatcherMode.exclude)=>{const r=e.properties.find((e=>"custom.hideFrom"===e.id)),a=lc(e),i=a.findIndex((e=>e===t));return i<0?a.push(t):a.splice(i,1),ic(a,n,r)},lc=e=>{var t;const n=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(n)?[...n]:[]},cc=(e,t)=>lc(e).length===uc(t).length,uc=(e,t)=>{const n=new Set;for(const r of e)for(const a of r.fields){if(a.type!==o.FieldType.number)continue;const i=(0,o.getFieldDisplayName)(a,r,e);i!==t&&n.add(i)}return Array.from(n)},dc=(e,t)=>{var n;let r=[];for(const a of e){const e=a.properties.find((e=>"custom.hideFrom"===e.id));if(void 0!==e&&!0===(null==(n=e.value)?void 0:n.legend)){const e=o.fieldMatchers.get(a.matcher.id).get(a.matcher.options);for(const n of t)for(const a of n.fields){if(a.type!==o.FieldType.number)continue;const i=(0,o.getFieldDisplayName)(a,n,t);e(a,n,t)&&r.push(i)}}}return r},pc=(e,t)=>({matcher:{id:o.FieldMatcherID.byName,options:e},properties:[hc(t)]}),hc=e=>({id:"color",value:{mode:o.FieldColorModeId.Fixed,fixedColor:e}});class fc extends I{constructor(e){var t;super({options:{},fieldConfig:{defaults:{},overrides:[]},title:Ft("grafana-scenes.components.viz-panel.title.title","Title"),pluginId:"timeseries",_renderCounter:0,...e}),this._variableDependency=new ul(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{jl.getTimeRange(this).onTimeRangeChange({raw:{from:(0,o.toUtc)(e.from),to:(0,o.toUtc)(e.to)},from:(0,o.toUtc)(e.from),to:(0,o.toUtc)(e.to)})},this.getTimeRange=e=>{const t=jl.findObject(this,(e=>e instanceof mc)),n=jl.getTimeRange(this);if(t instanceof mc&&t.isEnabled)return K(n.state.from,n.state.to,n.getTimeZone(),n.state.fiscalYearStartMonth,n.state.UNSAFE_nowDelay,n.state.weekStart);const r=this.getPlugin();return r&&!r.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:n.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onToggleCollapse=e=>{this.setState({collapsed:e})},this.onOptionsChange=(e,t=!1,n=!1)=>{var r;const{fieldConfig:a,options:i}=this.state,s=t?e:(0,A.mergeWith)((0,A.cloneDeep)(i),e,((e,t,n,r)=>{if((0,A.isArray)(t))return t;e===t||void 0!==t||(r[n]=t)})),l=(0,o.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:s,currentFieldConfig:a,isAfterPluginChange:n});this.setState({options:l.options,_renderCounter:(null!=(r=this.state._renderCounter)?r:0)+1})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:n,options:r}=this.state,a=t?e:(0,A.merge)((0,A.cloneDeep)(n),e),i=(0,o.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:r,currentFieldConfig:a,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:i.fieldConfig})},this.interpolate=(e,t,n)=>jl.interpolate(this,e,t,n),this.getDescription=()=>{this.publishEvent(new C({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,o.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new C({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=jl.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new C({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,n)=>{const{overrides:r}=n,a=n.overrides.findIndex((t=>t.matcher.id===o.FieldMatcherID.byName&&t.matcher.options===e));if(a<0)return{...n,overrides:[...n.overrides,pc(e,t)]};const i=Array.from(r),s=i[a],l=s.properties.findIndex((e=>"color"===e.id));if(l<0)return i[a]={...s,properties:[...s.properties,hc(t)]},{...n,overrides:i};const c=Array.from(s.properties);return c[l]=hc(t),i[a]={...s,properties:c},{...n,overrides:i}})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,n,r){const{overrides:a}=n,o=e,i=a.findIndex(oc);if(i<0){if(t===kn.SeriesVisibilityChangeMode.ToggleSelection){const e=ic([o,...dc(a,r)]);return{...n,overrides:[...n.overrides,e]}}const e=ic(uc(r,o));return{...n,overrides:[...n.overrides,e]}}const s=Array.from(a),[l]=s.splice(i,1);if(t===kn.SeriesVisibilityChangeMode.ToggleSelection){let e=lc(l);const t=dc(s,r);if(t.length>0&&(e=e.filter((e=>t.indexOf(e)<0))),e[0]===o&&1===e.length)return{...n,overrides:s};const a=ic([o,...t]);return{...n,overrides:[...s,a]}}const c=sc(l,o);return cc(c,r)?{...n,overrides:s}:{...n,overrides:[...s,c]}}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext={...this._panelContext,instanceState:e}),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let n=t.sortDesc,r=t.sortBy;e!==r&&(n=void 0),!1===n?(r=void 0,n=void 0):(n=!n,r=e),this.onOptionsChange({...this.state.options,legend:{...t,sortBy:r,sortDesc:n}},!0)},this.addActivationHandler((()=>{this._onActivate()})),null==(t=e.menu)||t.addActivationHandler((()=>{this.publishEvent(new C({origin:this,interaction:"panel-menu-shown"}),!0)}))}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}forceRender(){var e;this.setState({_renderCounter:(null!=(e=this.state._renderCounter)?e:0)+1})}async _loadPlugin(e,t,n,r){const a=function(e){var t;const{getPanelPluginFromCache:n}=(0,i.getPluginImportUtils)();return null!=(t=n(e))?t:c.get(e)}(e);if(a)this._pluginLoaded(a,t,n,r);else{const{importPanelPlugin:a}=(0,i.getPluginImportUtils)();try{const o=a(e),i=jl.getQueryController(this);i&&i.state.enableProfiling&&wn(o).pipe(yn({type:"plugin",origin:this})).subscribe((()=>{}));const s=await o;this._pluginLoaded(s,t,n,r)}catch(t){this._pluginLoaded(function(e){const t=new o.PanelPlugin((()=>null));return t.meta={id:e,name:e,sort:100,type:o.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){var e,t;const n=null!=(t=null==(e=this.state.key)?void 0:e.split("/"))?t:[];if(0===n.length)return 0;const r=n[n.length-1],a=parseInt(r.replace("panel-",""),10);return isNaN(a)?0:a}async _pluginLoaded(e,t,n,r){const{options:a,fieldConfig:i,title:s,pluginVersion:l,_UNSAFE_customMigrationHandler:c}=this.state,u={title:s,options:a,fieldConfig:i,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:l};t&&(u.options=t),n&&(u.fieldConfig=n);const d=this._getPluginVersion(e);null==c||c(u,e),e.onPanelMigration&&d!==l&&!r&&(u.options=await e.onPanelMigration(u));const p=(0,o.getPanelOptionsWithDefaults)({plugin:e,currentOptions:u.options,currentFieldConfig:u.fieldConfig,isAfterPluginChange:null!=r&&r});if(this._plugin=e,this.setState({options:p.options,fieldConfig:p.fieldConfig,pluginVersion:d,pluginId:e.meta.id}),e.meta.skipDataQuery){const e=jl.getTimeRange(this);this._subs.add(e.subscribeToState((()=>this.forceRender())))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:i.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}async changePluginType(e,t,n){var r,a;const{options:o,fieldConfig:i,pluginId:s}=this.state;this._dataWithFieldConfig=void 0;const l=this.state.pluginId!==e;await this._loadPlugin(e,null!=t?t:{},n,l);const c={title:this.state.title,options:this.state.options,fieldConfig:this.state.fieldConfig,id:1,type:e},u=null==(a=null==(r=this._plugin)?void 0:r.onPanelTypeChanged)?void 0:a.call(r,c,s,o,i);u&&!(0,A.isEmpty)(u)&&this.onOptionsChange(u,!0,!0)}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,n,r,a;const s=this._plugin;if(!s||s.meta.skipDataQuery||!e)return U;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const l=s.dataSupport||{alertStates:!1,annotations:!1},c=s.fieldConfigRegistry,u=null!=(n=null==(t=this._dataWithFieldConfig)?void 0:t.series)?n:[],d=(0,o.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:c,replaceVariables:this.interpolate,theme:i.config.theme2,timeZone:null==(r=e.request)?void 0:r.timezone});return(0,o.compareArrayValues)(d,u,o.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig={...e,structureRev:this._structureRev,series:d},this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,o.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:c,replaceVariables:this.interpolate,theme:i.config.theme2,timeZone:null==(a=e.request)?void 0:a.timezone})),l.alertStates||(this._dataWithFieldConfig.alertState=void 0),l.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}clone(e){return super.clone({_pluginInstanceState:void 0,_pluginLoadError:void 0,...e})}buildPanelContext(){const e=(t=this,jl.findObject(t,(e=>e instanceof Hl)));var t;const n={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,i.getAppEvents)(),app:o.CoreApp.Unknown,sync:()=>e?e.state.sync:o.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,n),n}}fc.Component=function({model:e}){var t;const{title:n,options:r,fieldConfig:a,_pluginLoadError:s,displayMode:l,hoverHeader:c,showMenuAlways:d,hoverHeaderOffset:h,menu:f,headerActions:g,titleItems:m,seriesLimit:v,seriesLimitShowAll:b,description:y,collapsible:w,collapsed:x,_renderCounter:S=0}=e.useState(),[E,{width:C,height:O}]=Xl(),_=(0,u.useMemo)((()=>(0,i.getAppEvents)()),[]),R=(0,u.useCallback)((()=>{e.state.key&&_.publish(new o.SetPanelAttentionEvent({panelId:e.state.key}))}),[e.state.key,_]),D=(0,u.useMemo)((()=>(0,A.debounce)(R,100,{leading:!0,trailing:!1})),[R]),I=e.getPlugin(),{dragClass:k,dragClassCancel:T}=function(e){var t,n;const r=jl.getLayout(e),a=null==r?void 0:r.isDraggable();if(!r||!a||function(e,t){let n=e.parent;for(;n&&n!==t;){if("isDraggable"in n.state&&!1===n.state.isDraggable)return!0;n=n.parent}return!1}(e,r))return{dragClass:"",dragClassCancel:""};return{dragClass:null==(t=r.getDragClass)?void 0:t.call(r),dragClassCancel:null==(n=null==r?void 0:r.getDragClassCancel)?void 0:n.call(r)}}(e),P=function(e){var t,n;const r=jl.getLayout(e);return null!=(n=null==(t=null==r?void 0:r.getDragHooks)?void 0:t.call(r))?n:{}}(e),L=jl.getData(e),N=L.useState(),j=function(e,t,n){return(0,u.useMemo)((()=>(null==e?void 0:e.series)&&t&&!n?{...e,series:e.series.slice(0,t)}:e),[e,t,n])}(N.data,v,b),M=e.applyFieldConfig(j),$=jl.getTimeRange(e).getTimeZone(),V=e.getTimeRange(M),F=e.interpolate(n,void 0,"text"),B=(0,kn.useStyles2)(rc);if(!I)return p().createElement("div",null,p().createElement(Bt,{i18nKey:"grafana-scenes.components.viz-panel-renderer.loading-plugin-panel"},"Loading plugin panel..."));if(!I.panel)return p().createElement("div",null,p().createElement(Bt,{i18nKey:"grafana-scenes.components.viz-panel-renderer.panel-plugin-has-no-panel-component"},"Panel plugin has no panel component"));const z=I.panel;L&&L.setContainerWidth&&L.setContainerWidth(Math.round(C));let U,W,H=[];m&&(Array.isArray(m)?H=H.concat(m.map((e=>p().createElement(e.Component,{model:e,key:`${e.state.key}`})))):mn(m)?H.push(p().createElement(m.Component,{model:m})):H.push(m)),v&&H.push(p().createElement(Zl,{key:"series-limit",data:N.data,seriesLimit:v,showAll:b,onShowAllSeries:()=>e.setState({seriesLimitShowAll:!b})})),e.state.$timeRange&&H.push(p().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),M.alertState&&H.push(p().createElement(kn.Tooltip,{content:null!=(t=M.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},p().createElement(kn.PanelChrome.TitleItem,{className:(0,Fn.cx)({[B.ok]:M.alertState.state===o.AlertState.OK,[B.pending]:M.alertState.state===o.AlertState.Pending,[B.alerting]:M.alertState.state===o.AlertState.Alerting})},p().createElement(kn.Icon,{name:"alerting"===M.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),f&&(U=p().createElement(f.Component,{model:f})),g&&(W=Array.isArray(g)?p().createElement(p().Fragment,null,g.map((e=>p().createElement(e.Component,{model:e,key:`${e.state.key}`})))):mn(g)?p().createElement(g.Component,{model:g}):g);const G=M,q=!L.isDataReadyToDisplay||L.isDataReadyToDisplay(),K=e.getPanelContext(),Q=e.getLegacyPanelId();return p().createElement("div",{className:tc},p().createElement("div",{ref:E,className:nc,"data-viz-panel-key":e.state.key},C>0&&O>0&&p().createElement(kn.PanelChrome,{title:F,description:(null==y?void 0:y.trim())?e.getDescription:void 0,loadingState:G.state,statusMessage:ec(G,s),statusMessageOnClick:e.onStatusMessageClick,width:C,height:O,selectionId:e.state.key,displayMode:l,titleItems:H,dragClass:k,actions:W,dragClassCancel:T,padding:I.noPadding?"none":"md",menu:U,onCancelQuery:e.onCancelQuery,onFocus:R,onMouseEnter:R,onMouseMove:D,onDragStart:t=>{var n;null==(n=P.onDragStart)||n.call(P,t,e)},showMenuAlways:d,...w?{collapsible:Boolean(w),collapsed:x,onToggleCollapse:e.onToggleCollapse}:{hoverHeader:c,hoverHeaderOffset:h}},((t,i)=>p().createElement(p().Fragment,null,p().createElement(kn.ErrorBoundaryAlert,{dependencies:[I,G]},p().createElement(o.PluginContextProvider,{meta:I.meta},p().createElement(kn.PanelContextProvider,{value:K},q&&p().createElement(z,{id:Q,data:G,title:n,timeRange:V,timeZone:$,options:r,fieldConfig:a,transparent:!1,width:t,height:i,renderCounter:S,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:K.eventBus})))))))))};const gc=class e extends I{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval((()=>{const e=jl.findAllObjects(this.getRoot(),(e=>e instanceof fc));for(const t of e)t.forceRender()}),e.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};gc.REFRESH_RATE=100;let mc=gc;function vc(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,i.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}class bc extends I{constructor(e,t=[]){super({isEnabled:!0,...e}),this._results=new h.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new Sn,this._variableDependency=new ul(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this),dependsOnScopes:!0}),this._variableDependency.setPaths(t),this.addActivationHandler((()=>this.onActivate()))}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState(((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:U}),this.setStateHelper({data:U})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())})),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(U))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return!!this.state.isEnabled&&(this._variableValueRecorder.hasDependenciesChanged(this)?(M(),!0):!this.state.data)}setStateHelper(e){on(this,e)}}function yc({layer:e}){var t,n;const r=`data-layer-${e.state.key}`,{data:a,isEnabled:o}=e.useState(),i=Boolean(a&&a.state===B.Loading);return p().createElement("div",{className:wc},p().createElement(yr,{htmlFor:r,isLoading:i,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),p().createElement(kn.InlineSwitch,{id:r,value:o,onChange:()=>e.setState({isEnabled:!o})}))}(class extends I{constructor(){super({})}}).Component=function({model:e}){const t=jl.getDataLayers(e,!0);if(0===t.length)return null;return p().createElement(p().Fragment,null,t.map((e=>p().createElement(e.Component,{model:e,key:e.state.key}))))};const wc=(0,Fn.css)({display:"flex"});function xc(e){return"function"==typeof e}function Sc(e){return function(t){if(function(e){return xc(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Ec=function(e,t){return Ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ec(e,t)};function Cc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ec(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Oc(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function _c(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function Rc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dc(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function Ic(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function kc(e){return this instanceof kc?(this.v=e,this):new kc(e)}function Tc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){a[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof kc?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(a[e](t))}catch(e){u(o[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Ac(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Rc(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,a,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Pc,Lc,Nc=(Pc=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},Lc=Pc((function(e){Error.call(e),e.stack=(new Error).stack})),Lc.prototype=Object.create(Error.prototype),Lc.prototype.constructor=Lc,Lc);function jc(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Mc=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var i=Rc(o),s=i.next();!s.done;s=i.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(xc(l))try{l()}catch(e){a=e instanceof Nc?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Rc(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{Vc(p)}catch(e){a=null!=a?a:[],e instanceof Nc?a=Ic(Ic([],Dc(a)),Dc(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(a)throw new Nc(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Vc(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&jc(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&jc(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();Mc.EMPTY;function $c(e){return e instanceof Mc||e&&"closed"in e&&xc(e.remove)&&xc(e.add)&&xc(e.unsubscribe)}function Vc(e){xc(e)?e():e.unsubscribe()}var Fc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bc={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=Bc.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,Ic([e,t],Dc(n))):setTimeout.apply(void 0,Ic([e,t],Dc(n)))},clearTimeout:function(e){var t=Bc.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function zc(e){Bc.setTimeout((function(){var t=Fc.onUnhandledError;if(!t)throw e;t(e)}))}function Uc(){}var Wc=Hc("C",void 0,void 0);function Hc(e,t,n){return{kind:e,value:t,error:n}}var Gc=null;var qc=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,$c(t)&&t.add(n)):n.destination=eu,n}return Cc(t,e),t.create=function(e,t,n){return new Xc(e,t,n)},t.prototype.next=function(e){this.isStopped?Jc(function(e){return Hc("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Jc(function(e){return Hc("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Jc(Wc,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Mc),Kc=Function.prototype.bind;function Qc(e,t){return Kc.call(e,t)}var Yc=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Zc(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Zc(e)}else Zc(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Zc(e)}},e}(),Xc=function(e){function t(t,n,r){var a,o,i=e.call(this)||this;xc(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&Fc.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&Qc(t.next,o),error:t.error&&Qc(t.error,o),complete:t.complete&&Qc(t.complete,o)}):a=t;return i.destination=new Yc(a),i}return Cc(t,e),t}(qc);function Zc(e){var t;Fc.useDeprecatedSynchronousErrorHandling?(t=e,Fc.useDeprecatedSynchronousErrorHandling&&Gc&&(Gc.errorThrown=!0,Gc.error=t)):zc(e)}function Jc(e,t){var n=Fc.onStoppedNotification;n&&Bc.setTimeout((function(){return n(e,t)}))}var eu={closed:!0,next:Uc,error:function(e){throw e},complete:Uc};function tu(e,t,n,r,a){return new nu(e,t,n,r,a)}var nu=function(e){function t(t,n,r,a,o,i){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Cc(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(qc);function ru(e,t){return Sc((function(n,r){var a=0;n.subscribe(tu(r,(function(n){r.next(e.call(t,n,a++))})))}))}var au="function"==typeof Symbol&&Symbol.observable||"@@observable";function ou(e){return e}function iu(e){return 0===e.length?ou:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var su=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a=this,o=(r=e)&&r instanceof qc||function(e){return e&&xc(e.next)&&xc(e.error)&&xc(e.complete)}(r)&&$c(r)?e:new Xc(e,t,n);return function(e){if(Fc.useDeprecatedSynchronousErrorHandling){var t=!Gc;if(t&&(Gc={errorThrown:!1,error:null}),e(),t){var n=Gc,r=n.errorThrown,a=n.error;if(Gc=null,r)throw a}}else e()}((function(){var e=a,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?a._subscribe(o):a._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=lu(t))((function(t,r){var a=new Xc({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[au]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iu(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=lu(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function lu(e){var t;return null!==(t=null!=e?e:Fc.Promise)&&void 0!==t?t:Promise}var cu="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function uu(e){if(e instanceof su)return e;if(null!=e){if(function(e){return xc(e[au])}(e))return i=e,new su((function(e){var t=i[au]();if(xc(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((o=e)&&"number"==typeof o.length&&"function"!=typeof o)return a=e,new su((function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()}));if(xc(null==(r=e)?void 0:r.then))return n=e,new su((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,zc)}));if(function(e){return Symbol.asyncIterator&&xc(null==e?void 0:e[Symbol.asyncIterator])}(e))return du(e);if(function(e){return xc(null==e?void 0:e[cu])}(e))return t=e,new su((function(e){var n,r;try{for(var a=Rc(t),o=a.next();!o.done;o=a.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return xc(null==e?void 0:e.getReader)}(e))return du(function(e){return Tc(this,arguments,(function(){var t,n,r;return _c(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,kc(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,kc(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,kc(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,r,a,o,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function du(e){return new su((function(t){(function(e,t){var n,r,a,o;return Oc(this,void 0,void 0,(function(){var i,s;return _c(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Ac(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),a={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function pu(e,t,n){return void 0===n&&(n=1/0),xc(t)?pu((function(n,r){return ru((function(e,a){return t(n,e,r,a)}))(uu(e(n,r)))}),n):("number"==typeof t&&(n=t),Sc((function(t,r){return function(e,t,n,r,a,o,i,s){var l=[],c=0,u=0,d=!1,p=function(){!d||l.length||c||t.complete()},h=function(e){return c<r?f(e):l.push(e)},f=function(e){o&&t.next(e),c++;var s=!1;uu(n(e,u++)).subscribe(tu(t,(function(e){null==a||a(e),o?h(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{c--;for(var e=function(){var e=l.shift();i?function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var o=t.schedule((function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()}),r);e.add(o)}(t,i,(function(){return f(e)})):f(e)};l.length&&c<r;)e();p()}catch(e){t.error(e)}})))};return e.subscribe(tu(t,h,(function(){d=!0,p()}))),function(){null==s||s()}}(t,r,e,n)})))}const hu={prepareAnnotation:e=>{if((0,A.isString)(null==e?void 0:e.query)){const{query:t,...n}=e;return{...n,target:{refId:"annotation_query",query:t},mappings:{}}}return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,h.of)(e).pipe((e=>e.pipe(pu((e=>{if(!(null==e?void 0:e.length))return(0,h.of)(void 0);if(1===e.length)return(0,h.of)(e[0]);const t={interpolate:e=>e};return(0,h.of)(e).pipe(o.standardTransformers.mergeTransformer.operator({},t),ru((e=>e[0])))})))),ru((e=>{if(!(null==e?void 0:e.length))return[];let n=!1,r=!1;const a={};for(const t of e.fields){a[(0,o.getFieldDisplayName)(t,e).toLowerCase()]=t}t||(t={});const i=[];for(const s of gu){const l=t[s.key]||{};if(l.source===o.AnnotationEventFieldSource.Skip)continue;const c={key:s.key,split:s.split};if(l.source===o.AnnotationEventFieldSource.Text)c.text=l.value;else{const t=(l.value||s.key).toLowerCase();c.field=a[t],!c.field&&s.field&&(c.field=s.field(e))}(c.field||c.text)&&(i.push(c),"time"===c.key?n=!0:"text"===c.key&&(r=!0))}if(!n||!r)return console.error("Cannot process annotation fields. No time or text present."),[];const s=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const n of i){let r;if(n.text)r=n.text;else if(n.field&&(r=n.field.values.get(t),void 0!==r&&n.regex)){const e=n.regex.exec(r);e&&(r=e[1]?e[1]:e[0])}null!=r&&(n.split&&"string"==typeof r&&(r=r.split(",")),e[n.key]=r)}s.push(e)}return s})))}(t,e.mappings)};const fu=[{key:"time",field:e=>e.fields.find((e=>e.type===o.FieldType.time)),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find((e=>e.type===o.FieldType.string)),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],gu=[...i.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...fu,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}];const mu=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];let vu=100;function bu(e,t,n,r){var a;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||mu.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,h.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:n,dashboard:{getVariables:(0,i.getTemplateSrv)().getVariables}})).pipe(ru((e=>({state:B.Done,events:e}))));const s={...hu,...e.annotations},l={...null==(a=s.getDefaultQuery)?void 0:a.call(s),...n},c=s.prepareAnnotation(l);if(!c)return(0,h.of)({state:B.Done,events:[]});const u=s.prepareQuery(c);if(!u)return(0,h.of)({state:B.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=o.rangeUtil.calculateInterval(t.state.value,d,e.interval),f={__interval:{text:p.interval,value:p.interval},__interval_ms:{text:p.intervalMs.toString(),value:p.intervalMs},__annotation:{text:c.name,value:c},__sceneObject:pr(r)},g={startTime:Date.now(),requestId:"AQ"+vu++,range:t.state.value,maxDataPoints:d,scopedVars:f,...p,app:o.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[{...u,refId:"Anno"}],scopes:jl.getScopes(r),..._n(r)};return(0,i.getRunRequest)()(e,g).pipe(pu((e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach((e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta={...e.meta||{},dataTopic:o.DataTopic.Annotations})})),s.processEvents(c,t).pipe(ru((t=>({state:e.state,events:t||[]}))))):(0,h.of)({state:e.state,events:[]})})))}function yu(e){return"panel-alert"===e.eventType}(class extends bc{constructor(e){super({isEnabled:!0,...e},["query"]),this._scopedVars={__sceneObject:pr(this)}}onEnable(){this.publishEvent(new i.RefreshEvent,!0);const e=jl.getTimeRange(this);this._timeRangeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)}))}onDisable(){var e;this.publishEvent(new i.RefreshEvent,!0),null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){M();const e=jl.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())M();else try{let n=bu(await this.resolveDataSource(t),e,t,this).pipe(yn({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,h.map)((e=>this.processEvents(t,e))));this.querySub=n.subscribe((e=>{this.publishResults(e)}))}catch(e){this.publishResults({...U,state:B.Error,errors:[{message:vc(e)}]}),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await xn(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let n=(r=e,a=t.events||[],r.snapshotData&&delete(r=(0,A.cloneDeep)(r)).snapshotData,a.map((e=>{var t;const n={...e};switch(n.source=r,n.color=i.config.theme2.visualization.getColorByName(r.iconColor),n.type=r.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(t=n.newState)?void 0:t.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n})));var r,a;n=function(e){let t=[];const n=(0,A.partition)(e,"id"),r=(0,A.groupBy)(n[0],"id");return t=(0,A.map)(r,(e=>e.length>1&&!(0,A.every)(e,yu)?(0,A.find)(e,(e=>"panel-alert"!==e.eventType)):(0,A.head)(e))),t=(0,A.concat)(t,n[1]),t}(n);const s={...U,state:t.state},l=(0,o.arrayToDataFrame)(n);return l.meta={...l.meta,dataTopic:o.DataTopic.Annotations},s.series=[l],s}}).Component=function({model:e}){const{isHidden:t}=e.useState();if(t)return null;return p().createElement(yc,{layer:e})};class wu extends I{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new h.ReplaySubject(1),this._dataLayersMerger=new zs}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:U}),this.setStateHelper({data:U}))}_onLayerUpdateReceived(e){var t;let n=[];for(const r of e)(null==(t=r.data)?void 0:t.series)&&(n=n.concat(r.data.series));const r={...U,series:n};this._results.next({origin:this,data:r}),this.setStateHelper({data:r})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){on(this,e)}}class xu extends wu{constructor(e){var t,n;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(n=e.layers)?n:[]}),this.addActivationHandler((()=>this._onActivate()))}_onActivate(){return this._subs.add(this.subscribeToState(((e,t)=>{var n;e.layers!==t.layers&&(null==(n=this.querySub)||n.unsubscribe(),this.subscribeToAllLayers(e.layers))}))),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}xu.Component=({model:e})=>{const{layers:t}=e.useState();return p().createElement(p().Fragment,null,t.map((e=>p().createElement(e.Component,{model:e,key:e.state.key}))))};class Su extends I{constructor(e){super(e),this._results=new h.ReplaySubject(1),this._variableDependency=new ul(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler((()=>this.activationHandler()))}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState((e=>this.transform(e.data)))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof xu)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return jl.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:n}=this._prevDataFromSource;return e.series===t&&e.annotations===n&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:{...this.state.data,state:e.state}}),!0)}transform(e,t=!1){var n;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;let r=this._interpolateVariablesInTransformationConfigs(e);const a=r.filter((e=>!("options"in e)&&!("topic"in e)||(null==e.topic||e.topic===o.DataTopic.Series))).map((e=>"operator"in e?e.operator:e)),s=r.filter((e=>("options"in e||"topic"in e)&&e.topic===o.DataTopic.Annotations)).map((e=>"operator"in e?e.operator:e));this._transformSub&&this._transformSub.unsubscribe();const l={interpolate:t=>{var n;return jl.interpolate(this,t,null==(n=e.request)?void 0:n.scopedVars)}};let c=[(0,o.transformDataFrame)(a,e.series,l)];e.annotations&&e.annotations.length>0&&s.length>0&&c.push((0,o.transformDataFrame)(s,null!=(n=e.annotations)?n:[])),this._transformSub=(0,h.forkJoin)(c).pipe((0,h.map)((t=>{const n=t[0],r=t[1];return{...e,series:n,annotations:null!=r?r:e.annotations}})),(0,h.catchError)((t=>{var n;console.error("Error transforming data: ",t);const r=(null==(n=this.getSourceData().state.data)?void 0:n.errors)||[],a=(0,i.toDataQueryError)(t);a.message=`Error transforming data: ${a.message}`;const s={...e,state:o.LoadingState.Error,errors:[...r,a]};return(0,h.of)(s)}))).subscribe((t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e}))}_interpolateVariablesInTransformationConfigs(e){var t;const n=this.state.transformations;if(0===this._variableDependency.getNames().size)return n;const r=n.every((e=>"object"==typeof e));return r?JSON.parse(jl.interpolate(this,JSON.stringify(n),null==(t=e.request)?void 0:t.scopedVars)):n.map((t=>{var n;return"object"==typeof t?JSON.parse(jl.interpolate(this,JSON.stringify(t),null==(n=e.request)?void 0:n.scopedVars)):t}))}}function Eu({variable:e,layout:t,showAlways:n,hideLabel:r}){return k(e,{shouldActivateOrKeepAlive:!0}).hide!==o.VariableHide.hideVariable||n?"vertical"===t?p().createElement("div",{className:_u,"data-testid":Vn.pages.Dashboard.SubMenu.submenuItem},p().createElement(Cu,{variable:e,layout:t,hideLabel:r}),p().createElement(e.Component,{model:e})):p().createElement("div",{className:Ou,"data-testid":Vn.pages.Dashboard.SubMenu.submenuItem},p().createElement(Cu,{variable:e,hideLabel:r}),p().createElement(e.Component,{model:e})):e.UNSAFE_renderAsHidden?p().createElement(e.Component,{model:e}):null}function Cu({variable:e,layout:t,hideLabel:n}){var r;const{state:a}=e;if(e.state.hide===o.VariableHide.hideLabel||n)return null;const i=`var-${a.key}`,s=a.label||a.name;return p().createElement(yr,{htmlFor:i,isLoading:a.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:s,error:a.error,layout:t,description:null!=(r=a.description)?r:void 0})}(class extends I{}).Component=function({model:e}){const t=jl.getVariables(e).useState();return p().createElement(p().Fragment,null,t.variables.map((t=>p().createElement(Eu,{key:t.state.key,variable:t,layout:e.state.layout}))))};const Ou=(0,Fn.css)({display:"flex","> :nth-child(2)":(0,Fn.css)({borderTopLeftRadius:0,borderBottomLeftRadius:0})}),_u=(0,Fn.css)({display:"flex",flexDirection:"column"});(class extends I{}).Component=function({model:e}){const t=jl.lookupVariable(e.state.variableName,e);if(!t)return null;return p().createElement(Eu,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0})};class Ru extends I{constructor(e){super(e),this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new Sn,this._variableDependency=new Iu(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=jl.getTimeRange(this);this._subs.add(this.subscribeToEvent(re,(e=>this._handleVariableValueChanged(e.payload)))),this._subs.add(e.subscribeToState((()=>{this._refreshTimeRangeBasedVariables()}))),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const n=this._variablesToUpdate.size;for(const n of t.variables)if(!e.variables.includes(n)){const e=this._updating.get(n);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(n),this._variablesToUpdate.delete(n)}for(const n of e.variables)t.variables.includes(n)||this._variableNeedsUpdate(n)&&this._variablesToUpdate.add(n);0===n&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find((t=>t.state.name===e))}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===o.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(Du(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!e.isLazy&&(!!e.validateAndUpdate&&(!this._variableValueRecorder.hasRecordedValue(e)||(Du(e,"Skipping updateAndValidate current value valid"),!1)))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate){console.error("Variable added to variablesToUpdate but does not have validateAndUpdate");continue}if(this._updating.has(e))continue;if(jl.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),Du(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),Du(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var n;const r=this._updating.get(e);null==(n=null==r?void 0:r.subscription)||n.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),Du(e,"updateAndValidate error",t),this._notifyDependentSceneObjects(e),this._updateNextBatch()}_handleVariableValueChanged(e){this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(Du(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),t.validateAndUpdate&&this._variablesToUpdate.add(t),t.variableDependency.variableUpdateCompleted(e,!0))}_notifyDependentSceneObjects(e){this.parent&&this._traverseSceneAndNotify(this.parent,e,!0)}_traverseSceneAndNotify(e,t,n){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this){const n=e.state.$variables.getByName(t.state.name);if(null==n?void 0:n.isAncestorLoading)t=n;else if(n)return}e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,n),e.forEachChild((e=>this._traverseSceneAndNotify(e,t,n)))}}isVariableLoadingOrWaitingToUpdate(e){return!!e.state.loading||(!(!e.isAncestorLoading||!e.isAncestorLoading())||(!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||jl.hasVariableDependencyInLoadingState(e)))}}function Du(e,t,n){M(0,e.state.name)}class Iu{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}class ku extends ln{constructor(e){super({type:"custom",query:"",value:"",text:"",options:[],name:"",...e}),this._variableDependency=new ul(this,{statePaths:["query"]})}getValueOptions(e){var t;const n=(null!=(t=jl.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map((e=>{var t;e=e.replace(/\\,/g,",");const n=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===n.length){const[,e,t]=n;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}}));return n.length||(this.skipNextValidation=!0),(0,h.of)(n)}}ku.Component=({model:e})=>p().createElement(ar,{model:e});class Tu extends ln{constructor(e){super({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:"",...e}),this._variableDependency=new ul(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,h.of)([]);const t=(0,i.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const e=jl.interpolate(this,this.state.regex,void 0,"regex");n=(0,o.stringToJsRegex)(e)}const r=[];for(let e=0;e<t.length;e++){const a=t[e];Au(a,n)&&r.push({label:a.name,value:a.uid}),this.state.defaultOptionEnabled&&Pu(a,n)&&r.push({label:Ft("grafana-scenes.variables.data-source-variable.label.default","default"),value:"default"})}return 0===r.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,h.of)(r)}}function Au(e,t){return!t||t.exec(e.name)}function Pu(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function Lu(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const a of n){const n=`${e}${a}`;r.push({name:n,children:Lu(n,t+1)})}return r}function Nu(e,t,n){if(n>=t.length)return e;if("*"===t[n])return e;const r=t[n];let a=[],o=[r];r.startsWith("{")&&(o=r.replace(/\{|\}/g,"").split(","));for(const r of e)for(const e of o)if(-1!==e.indexOf("*")){const o=e.replace("*","");new RegExp(`^${o}.*`,"gi").test(r.name)&&(a=a.concat(Nu([r],t,n+1)))}else r.name===e&&(a=a.concat(Nu(r.children,t,n+1)));return a}function ju(e){if(0===e.indexOf("value"))return[{name:e,children:[]}];return Nu(Lu("",0),e.split("."),0)}Tu.Component=({model:e})=>p().createElement(ar,{model:e});function Mu({model:e}){const{value:t,key:n,loading:r}=e.useState(),a=(0,u.useCallback)((t=>{e.setValue(t.currentTarget.value)}),[e]),o=(0,u.useCallback)((t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)}),[e]);return p().createElement(kn.AutoSizeInput,{id:n,placeholder:Ft("grafana-scenes.variables.variable-value-input.placeholder-enter-value","Enter value"),minWidth:15,maxWidth:30,value:t,loading:r,onBlur:a,onKeyDown:o})}(class extends ln{constructor(e,t=!1){super({type:"custom",name:"Test",value:"Value",text:Ft("grafana-scenes.variables.test-variable.text.text","Text"),query:"Query",options:[],refresh:o.VariableRefresh.onDashboardLoad,updateOptions:!0,...e}),this.completeUpdate=new h.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new ul(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const n=jl.getQueryController(this);return new h.Observable((e=>{const r={type:"variable",origin:this,cancel:()=>e.complete()};if(n&&n.queryStarted(r),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const a=jl.interpolate(this,this.state.query),o=this.getOptions(a),i=this.completeUpdate.subscribe({next:()=>{const t={issuedQuery:a,loading:!1};this.state.updateOptions&&(t.options=o),this.setState(t),e.next(o),e.complete()}});let s;return t?s=window.setTimeout((()=>this.signalUpdateCompleted()),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{i.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),n&&n.queryCompleted(r)}}))}cancel(){const e=H(this,(e=>e instanceof Ru?e:void 0));null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:ju(e).map((e=>({label:e.name,value:e.name})))}signalUpdateCompleted(){this.completeUpdate.next(1)}}).Component=({model:e})=>p().createElement(ar,{model:e});(class extends I{constructor(e){super({type:"textbox",value:"",name:"",...e}),this._urlSync=new W(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new re(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t=e[this.getKey()];"string"==typeof t&&this.setValue(t)}}).Component=({model:e})=>p().createElement(Mu,{model:e});(class extends I{constructor(e){super({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:Wl.CO.onTimeRangeChanged,...e}),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new re(this),!0)},this._urlSync=new W(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},n=e[this.getKey()];"string"==typeof n&&(n.startsWith("$__auto_interval_")?t.value=Zt:t.value=n),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:n}=this.state;let r=t.map((e=>({value:e,label:e})));return n&&(r=[{value:Zt,label:"Auto"},...r]),e&&!r.some((t=>t.value===e))&&r.push({value:e,label:e}),r}getValue(){const{value:e,autoStepCount:t,autoMinInterval:n}=this.state;return e===Zt?this.getAutoRefreshInteval(t,n):e}getAutoRefreshInteval(e,t){const n=jl.getTimeRange(this).state.value;return o.rangeUtil.calculateInterval(n,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let n=!1;if(e===Zt)n=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),n=!0}return n&&this.publishEvent(new re(this),!0),(0,h.of)({})}}).Component=({model:e})=>{const{key:t,value:n}=e.useState();return p().createElement(kn.Select,{id:t,placeholder:Ft("grafana-scenes.variables.interval-variable.placeholder-select-value","Select value"),width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};var $u,Vu,Fu=e=>{throw TypeError(e)},Bu=(e,t,n)=>t.has(e)||Fu("Cannot "+n),zu=(e,t,n)=>(Bu(e,t,"read from private field"),n?n.call(e):t.get(e)),Uu=(e,t,n)=>t.has(e)?Fu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Wu=(e,t,n,r)=>(Bu(e,t,"write to private field"),t.set(e,n),n);class Hu extends o.BusEventWithPayload{}Hu.type="new-scene-object-added";class Gu{constructor(e={},t=i.locationService){this._options=e,this._locationService=t,this._paramsCache=new qu(t),this._urlKeyMapper=new $l({namespace:e.namespace,excludeFromNamespace:e.excludeFromNamespace})}initSync(e){var t;if(this._subs&&(M(0,0,null==(t=this._sceneRoot)||t.state.key),this._subs.unsubscribe()),M(0,0,e.state.key),this._sceneRoot=e,this._subs=new h.Subscription,this._subs.add(e.subscribeToEvent(E,(e=>{this.handleSceneObjectStateChanged(e.payload.changedObject)}))),this._subs.add(e.subscribeToEvent(Hu,(e=>{this.handleNewObject(e.payload)}))),this._urlKeyMapper.clear(),this._lastLocation=this._locationService.getLocation(),this.handleNewObject(this._sceneRoot),this._options.updateUrlOnInit){const t=Fl(e,this._urlKeyMapper.getOptions());(function(e,t){for(let n in e)if(!Ul(t.getAll(n),e[n]))return!0;return!1})(t,this._paramsCache.getParams())&&this._locationService.partial(t,!0)}}cleanUp(e){this._sceneRoot===e&&(M(),this._subs&&(this._subs.unsubscribe(),this._subs=void 0,M(0,0,(this._sceneRoot.state.key,e.state.key))),this._sceneRoot=void 0,this._lastLocation=void 0)}handleNewLocation(e){this._sceneRoot&&this._lastLocation!==e&&(M(),this._lastLocation=e,Bl(this._sceneRoot,this._paramsCache.getParams(),this._urlKeyMapper))}handleNewObject(e){this._sceneRoot&&Bl(e,this._paramsCache.getParams(),this._urlKeyMapper)}handleSceneObjectStateChanged(e){var t,n;if(!e.urlSync)return;const r=e.urlSync.getUrlState(),a=this._locationService.getSearch(),o={};for(const[t,n]of Object.entries(r)){const r=this._urlKeyMapper.getUniqueKey(t,e);Ul(a.getAll(r),n)||(o[r]=n)}if(Object.keys(o).length>0){const a=!0!==(null==(n=(t=e.urlSync).shouldCreateHistoryStep)?void 0:n.call(t,r));M(),this._locationService.partial(o,a),this._lastLocation=this._locationService.getLocation()}}getUrlState(e){return Fl(e,this._urlKeyMapper.getOptions())}}class qu{constructor(e){this.locationService=e,Uu(this,$u),Uu(this,Vu)}getParams(){const e=this.locationService.getLocation();return zu(this,Vu)===e||(Wu(this,Vu,e),Wu(this,$u,new URLSearchParams(e.search))),zu(this,$u)}}function Ku(e,t={}){const n=(0,a.useLocation)(),r=sn(),[o,i]=(0,u.useState)(!1),s=function(e,t){return(0,u.useMemo)((()=>new Gu({updateUrlOnInit:e.updateUrlOnInit,createBrowserHistorySteps:e.createBrowserHistorySteps,namespace:e.namespace,excludeFromNamespace:e.excludeFromNamespace},t)),[e.updateUrlOnInit,e.createBrowserHistorySteps,e.namespace,e.excludeFromNamespace,t])}(t,r);return(0,u.useEffect)((()=>(s.initSync(e),i(!0),()=>s.cleanUp(e))),[e,s]),(0,u.useEffect)((()=>{const e=r.getLocation(),t=e!==n?e:n;e!==n&&M(),s.handleNewLocation(t)}),[e,s,n,r]),o}function Qu({children:e,scene:t,updateUrlOnInit:n,createBrowserHistorySteps:r,namespace:a,excludeFromNamespace:o}){return Ku(t,{updateUrlOnInit:n,createBrowserHistorySteps:r,namespace:a,excludeFromNamespace:o})?e:null}$u=new WeakMap,Vu=new WeakMap;class Yu extends I{constructor(e){super(e),this.addActivationHandler((()=>{const e=function(e){const t=window.__grafanaSceneContext;return M(),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(M(),window.__grafanaSceneContext=t)}}(this);return()=>{e()}}))}}Yu.Component=function({model:e}){const{body:t,controls:n}=e.useState(),r=(0,kn.useStyles2)(Xu);return p().createElement("div",{className:r.container},n&&p().createElement("div",{className:r.controls},n.map((e=>p().createElement(e.Component,{key:e.state.key,model:e})))),p().createElement("div",{className:r.body},p().createElement(t.Component,{model:t})))};const Xu=e=>({container:(0,Fn.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,Fn.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,Fn.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class Zu extends I{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}Zu.Component=function({model:e}){const{items:t=[]}=e.useState(),n=p().useRef(null);(0,u.useEffect)((()=>{n.current&&n.current.focus()}),[]);const r=e=>e.map((e=>{switch(e.type){case"divider":return p().createElement(kn.Menu.Divider,{key:e.text});case"group":return p().createElement(kn.Menu.Group,{key:e.text,label:e.text},e.subMenu?r(e.subMenu):void 0);default:return p().createElement(kn.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?r(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:Vn.components.Panels.Panel.menuItems(e.text)})}}));return p().createElement(kn.Menu,{ref:n},r(t))};var Ju=function(){return Ju=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ju.apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function ed(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var r=(0,u.useRef)(0),a=function(){var e=(0,u.useRef)(!1),t=(0,u.useCallback)((function(){return e.current}),[]);return(0,u.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),o=(0,u.useState)(n),i=o[0],s=o[1],l=(0,u.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=++r.current;return i.loading||s((function(e){return Ju(Ju({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return a()&&o===r.current&&s({value:e,loading:!1}),e}),(function(e){return a()&&o===r.current&&s({error:e,loading:!1}),e}))}),t);return[i,l]}(class extends I{constructor(e={}){super({options:e})}}).Component=function({model:e}){const{options:t}=e.useState(),{data:n}=jl.getData(e).useState(),{from:r,to:a}=jl.getTimeRange(e).useState(),{value:o}=function(e,t){void 0===t&&(t=[]);var n=ed(e,t,{loading:!0}),r=n[0],a=n[1];return(0,u.useEffect)((function(){a()}),[a]),r}((async()=>n?async function(e,t,n,r){var a,o,s,l;const c=null==(a=e.request)?void 0:a.targets;if(!c)return"";const{from:u,to:d}=n,p=null==(o=e.request)?void 0:o.filters,h={__sceneObject:pr(t)},f=(await Promise.allSettled(c.map((async e=>{var t;const n=await(0,i.getDataSourceSrv)().get(e.datasource);return(null==(t=n.interpolateVariablesInQueries)?void 0:t.call(n,[e],null!=h?h:{},p)[0])||e})))).filter((e=>"fulfilled"===e.status)).map((e=>e.value)).map((e=>{var t;return null!=(t=null==r?void 0:r(e))?t:e})),g=null!=f?f:[];let m=new Set(g.map((e=>{var t;return null==(t=e.datasource)?void 0:t.uid}))).size>1?"-- Mixed --":null==(l=null==(s=g.find((e=>{var t;return!!(null==(t=e.datasource)?void 0:t.uid)})))?void 0:s.datasource)?void 0:l.uid;if((null==g?void 0:g.length)&&m&&u&&d)return`/explore?left=${encodeURIComponent(JSON.stringify({datasource:m,queries:g,range:{from:u,to:d}}))}`;return""}(n,e,{from:r,to:a},t.transform):""),[n,e,r,a]),s=(0,i.useReturnToPrevious)();if(o)return p().createElement(kn.LinkButton,{key:"explore",icon:"compass",size:"sm",variant:"secondary",href:o,onClick:()=>{var e;t.returnToPrevious&&s(t.returnToPrevious.title,t.returnToPrevious.href),null==(e=t.onClick)||e.call(t)}},p().createElement(Bt,{i18nKey:"grafana-scenes.components.viz-panel-explore-button.explore"},"Explore"));return null};function td(e){return e instanceof bd}(class extends I{}).Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&(r=n,!(r instanceof fd))&&!td(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");var r;if(!t)return null;return p().createElement(t.Component,{model:t})};var nd=n(2548),rd=n.n(nd);const ad=function(e){(0,u.useEffect)(e,[])};function od(){const e=(0,u.useRef)(void 0);return null!=e.current||(e.current=(0,A.uniqueId)()),e.current}const id=p().forwardRef((({children:e,onLoad:t,onChange:n,className:r,...a},o)=>{const i=od(),{hideEmpty:s}=(0,kn.useStyles2)(sd),[l,c]=(0,u.useState)(!1),[d,h]=(0,u.useState)(!1),f=(0,u.useRef)(null);return(0,u.useImperativeHandle)(o,(()=>f.current)),ad((()=>{id.addCallback(i,(e=>{!l&&e.isIntersecting&&(c(!0),null==t||t()),h(e.isIntersecting),null==n||n(e.isIntersecting)}));const e=f.current;return e&&id.observer.observe(e),()=>{e&&id.observer.unobserve(e),delete id.callbacks[i],0===Object.keys(id.callbacks).length&&id.observer.disconnect()}})),p().createElement("div",{id:i,ref:f,className:`${s} ${r}`,...a},!l&&"",l&&("function"==typeof e?e({isInView:d}):e))}));function sd(){return{hideEmpty:(0,Fn.css)({"&:empty":{display:"none"}})}}id.displayName="LazyLoader",id.callbacks={},id.addCallback=(e,t)=>id.callbacks[e]=t,id.observer=new IntersectionObserver((e=>{for(const t of e)"function"==typeof id.callbacks[t.target.id]&&id.callbacks[t.target.id](t)}),{rootMargin:"100px"});const ld=p().forwardRef(((e,t)=>{var n;const{grid:r,layoutItem:a,index:o,totalCount:i,isLazy:s,style:l,onLoad:c,onChange:u,children:d,...h}=e,f=r.getSceneLayoutChild(a.i),g=null==(n=f.getClassName)?void 0:n.call(f),m=p().createElement(f.Component,{model:f,key:f.state.key});return s?p().createElement(id,{...h,key:f.state.key,"data-griditem-key":f.state.key,className:(0,Fn.cx)(g,e.className),style:l,ref:t},m,d):p().createElement("div",{...h,ref:t,key:f.state.key,"data-griditem-key":f.state.key,className:(0,Fn.cx)(g,e.className),style:l},m,d)}));function cd(e,t,n){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):n||setTimeout((()=>cd(e,t,!0)),50)}ld.displayName="GridItemWrapper";const ud=p().forwardRef((({handleAxis:e,...t},n)=>{const r=(0,kn.useStyles2)(dd);return p().createElement("div",{ref:n,...t,className:`${r} scene-resize-handle`},p().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}));function dd(e){return(0,Fn.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}ud.displayName="ResizeHandle";class pd extends o.BusEventWithPayload{}pd.type="scene-grid-layout-drag-start";const hd=class e extends I{constructor(e){super({...e,children:md(e.children)}),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const t of e){const e=this.getSceneLayoutChild(t.i),n={x:t.x,y:t.y,width:t.w,height:t.h};gd(e.state,n)||e.setState({...n})}this.setState({children:md(this.state.children)})}},this.onResizeStop=(e,t,n)=>{this.getSceneLayoutChild(n.i).setState({width:n.w,height:n.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,n)=>{const r=this.getSceneLayoutChild(n.i);e=vd(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.getSceneLayoutChild(n.i),a=r.state;(null==a?void 0:a.x)===n.x&&(null==a?void 0:a.y)===n.y||r.setState({x:n.x,y:n.y})}const a=e.findIndex((e=>e.i===n.i));let o=this.findGridItemSceneParent(e,a-1),i=this.state.children;r instanceof bd&&o instanceof bd&&(this.isRowDropValid(e,n,a)||(this._loadOldLayout=!0),o=this),o!==r.parent&&(i=this.moveChildTo(r,o)),this.setState({children:md(i)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}getDragHooks(){return{onDragStart:(e,t)=>{this.publishEvent(new pd({evt:e,panel:t}),!0)}}}toggleRow(e){var t,n;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const r=e.state.children;if(0===r.length)return e.setState({isCollapsed:!1}),void this.setState({});const a=e.state.y,o=(null!=(t=r[0].state.y)?t:a)-(a+1);let i=a;for(const e of r){const t={...e.state};t.y=null!=(n=t.y)?n:a,t.y-=o,t.y!==e.state.y&&e.setState(t),i=Math.max(i,Number(t.y)+Number(t.height))}const s=i-a-1;for(const t of this.state.children)if(t.state.y>a&&this.pushChildDown(t,s),td(t)&&t!==e)for(const e of t.state.children)e.state.y>a&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}ignoreLayoutChange(e){this._skipOnLayoutChange=e}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof bd)for(const n of t.state.children)if(n.state.key===e)return n}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let n=t;n>=0;n--){const t=e[n],r=this.getSceneLayoutChild(t.i);if(r instanceof bd)return r.state.isCollapsed?this:r}return this}isRowDropValid(t,n,r){if(t[t.length-1].i===n.i)return!0;const a=this.getSceneLayoutChild(t[r+1].i);return a instanceof bd||a.parent instanceof e}moveChildTo(t,n){const r=t.parent;let a=this.state.children;const o=t.clone({key:t.state.key});if(r instanceof bd){const e=r.clone();if(e.setState({children:e.state.children.filter((e=>e.state.key!==t.state.key))}),a=a.map((t=>t===r?e:t)),n instanceof bd){const e=n.clone();e.setState({children:[...e.state.children,o]}),a=a.map((t=>t===n?e:t))}else a=[...a,o]}else if(!(n instanceof e)){a=a.filter((e=>e.state.key!==t.state.key));const e=n.clone();e.setState({children:[...e.state.children,o]}),a=a.map((t=>t===n?e:t))}return a}toGridCell(e){var t,n;const r=e.state;let a=null!=(t=r.x)?t:0,o=null!=(n=r.y)?n:0;const i=Number.isInteger(Number(r.width))?Number(r.width):4,s=Number.isInteger(Number(r.height))?Number(r.height):4;let l=e.state.isDraggable,c=e.state.isResizable;return e instanceof bd&&(l=!!e.state.isCollapsed,c=!1),{i:e.state.key,x:a,y:o,h:s,w:i,isResizable:c,isDraggable:l}}buildGridLayout(e,t){let n=[];for(const e of this.state.children)if(n.push(this.toGridCell(e)),e instanceof bd&&!e.state.isCollapsed)for(const t of e.state.children)n.push(this.toGridCell(t));return n=vd(n),this.state.UNSAFE_fitPanels&&(n=function(e,t){const n=t-32,r=Math.max(...e.map((e=>e.h+e.y)))/Math.floor(n/38);return e.map((e=>({...e,y:Math.round(e.y/r)||0,h:Math.round(e.h/r)||1})))}(n,t)),e<768?(this._skipOnLayoutChange=!0,n.map((e=>({...e,w:24})))):(this._skipOnLayoutChange=!1,n)}};hd.Component=function({model:e}){const{children:t,isLazy:n,isDraggable:r,isResizable:a}=e.useState(),[o,{width:i,height:s}]=Xl(),l=(0,u.useRef)(null);return(0,u.useEffect)((()=>{cd(l,!!r)}),[r]),function(e){if(e.some((e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y)))throw new Error("All children must have a size specified")}(t),p().createElement("div",{ref:o,style:{flex:"1 1 auto",position:"relative",zIndex:1,width:"100%"}},((t,o)=>{if(!t||!o)return null;const i=e.buildGridLayout(t,o);return p().createElement("div",{ref:l,style:{width:`${t}px`,height:"100%"},className:"react-grid-layout"},p().createElement(rd(),{width:t,isDraggable:r&&t>768,isResizable:null!=a&&a,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:i,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:p().createElement(ud,null)},i.map(((t,r)=>p().createElement(ld,{key:t.i,grid:e,layoutItem:t,index:r,isLazy:n,totalCount:i.length})))))})(i,s))};let fd=hd;function gd(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function md(e){return e.forEach((e=>{e instanceof bd&&e.setState({children:md(e.state.children)})})),[...e].sort(((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x))}function vd(e){return[...e].sort(((e,t)=>e.y-t.y||e.x-t.x))}class bd extends I{constructor(e){super({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||"",...e,x:0,height:1,width:24}),this._variableDependency=new ul(this,{statePaths:["title"],handleTimeMacros:!0}),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof fd))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}bd.Component=function({model:e}){const t=(0,kn.useStyles2)(yd),{isCollapsible:n,isCollapsed:r,title:a,actions:o,children:i}=e.useState(),s=e.getGridLayout(),l=s.getDragClass(),c=s.isDraggable(),u=i?i.length:0,d=1===u?"panel":"panels";return p().createElement("div",{className:(0,Fn.cx)(t.row,r&&t.rowCollapsed)},p().createElement("div",{className:t.rowTitleAndActionsGroup},p().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":r?Ft("grafana-scenes.components.scene-grid-row.expand-row","Expand row"):Ft("grafana-scenes.components.scene-grid-row.collapse-row","Collapse row"),"data-testid":Vn.components.DashboardRow.title(jl.interpolate(e,a,void 0,"text"))},n&&p().createElement(kn.Icon,{name:r?"angle-right":"angle-down"}),p().createElement("span",{className:t.rowTitle,role:"heading"},jl.interpolate(e,a,void 0,"text"))),p().createElement("span",{className:(0,Fn.cx)(t.panelCount,r&&t.panelCountCollapsed)},"(",u," ",d,")"),o&&p().createElement("div",{className:t.rowActions},p().createElement(o.Component,{model:o}))),c&&r&&p().createElement("div",{className:(0,Fn.cx)(t.dragHandle,l)},p().createElement(kn.Icon,{name:"draggabledots"})))};const yd=e=>({row:(0,Fn.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,Fn.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",minWidth:0,gap:e.spacing(1)}),rowCollapsed:(0,Fn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,Fn.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flexGrow:1,minWidth:0}),collapsedInfo:(0,Fn.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,Fn.css)({display:"flex",minWidth:0,"&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,Fn.css)({display:"flex",whiteSpace:"nowrap",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,Fn.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,Fn.css)({whiteSpace:"nowrap",paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,Fn.css)({display:"inline-block"})});(class extends I{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}).Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:r,canRemove:a,body:o,controls:i}=e.useState(),s=(0,kn.useStyles2)(yd),l=(0,kn.useStyles2)(wd),c=(null!=i?i:[]).map((e=>p().createElement(e.Component,{key:e.state.key,model:e})));a&&c.push(p().createElement(kn.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":Ft("grafana-scenes.components.nested-scene-renderer.remove-button-label","Remove scene")}));return p().createElement("div",{className:l.wrapper},p().createElement("div",{className:(0,Fn.cx)(l.row,n&&l.rowCollapsed)},p().createElement("button",{onClick:e.onToggle,className:s.rowTitleButton,"aria-label":n?Ft("grafana-scenes.components.nested-scene-renderer.expand-button-label","Expand scene"):Ft("grafana-scenes.components.nested-scene-renderer.collapse-button-label","Collapse scene")},r&&p().createElement(kn.Icon,{name:n?"angle-right":"angle-down"}),p().createElement("span",{className:s.rowTitle,role:"heading"},jl.interpolate(e,t,void 0,"text"))),p().createElement("div",{className:l.actions},c)),!n&&p().createElement(o.Component,{model:o}))};const wd=e=>({wrapper:(0,Fn.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,Fn.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,Fn.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,Fn.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});(class extends I{constructor(){super(...arguments),this._variableDependency=new ul(this,{statePaths:["text"]})}}).Component=function({model:e}){const{text:t,fontSize:n=20,align:r="left",key:a,spacing:o}=e.useState(),i=(0,kn.useTheme2)(),s=(0,Fn.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:o?i.spacing(o,0):void 0,justifyContent:r});return p().createElement("div",{className:s,"data-testid":a},jl.interpolate(e,t))};(class extends I{}).Component=({model:e})=>{const t=e.useState();return p().createElement(kn.ToolbarButton,{onClick:t.onClick,icon:t.icon})};(class extends I{}).Component=({model:e})=>{const t=e.useState();return p().createElement("div",{style:{display:"flex"}},t.label&&p().createElement(yr,{label:t.label}),p().createElement(kn.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};const xd=function(e,t,n){if(!Kl)return[t,ql,ql];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,a=(0,u.useRef)((function(e){try{var a=n?n.raw?String:n.serializer:JSON.stringify,o=localStorage.getItem(e);return null!==o?r(o):(t&&localStorage.setItem(e,a(t)),t)}catch(e){return t}})),o=(0,u.useState)((function(){return a.current(e)})),i=o[0],s=o[1];(0,u.useLayoutEffect)((function(){return s(a.current(e))}),[e]);var l=(0,u.useCallback)((function(t){try{var a="function"==typeof t?t(i):t;if(void 0===a)return;var o=void 0;o=n?n.raw?"string"==typeof a?a:JSON.stringify(a):n.serializer?n.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,o),s(r(o))}catch(e){}}),[e,s]),c=(0,u.useCallback)((function(){try{localStorage.removeItem(e),s(void 0)}catch(e){}}),[e,s]);return[i,l,c]};class Sd extends I{constructor(){super(...arguments),this.onZoom=()=>{const e=jl.getTimeRange(this),t=function(e,t){const n=e.to.valueOf()-e.from.valueOf(),r=e.to.valueOf()-n/2,a=0===n?3e4:n*t,i=r+a/2,s=r-a/2;return{from:(0,o.toUtc)(s),to:(0,o.toUtc)(i),raw:{from:(0,o.toUtc)(s),to:(0,o.toUtc)(i)}}}(e.state.value,2);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{jl.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.toAbsolute=()=>{const e=jl.getTimeRange(this),t=e.state.value,n=(0,o.toUtc)(t.from),r=(0,o.toUtc)(t.to);e.onTimeRangeChange({from:n,to:r,raw:{from:n,to:r}})},this.onMoveBackward=()=>{const e=jl.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Ed(0,t,Date.now()))},this.onMoveForward=()=>{const e=jl.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Ed(1,t,Date.now()))}}}function Ed(e,t,n){const r=t.to.valueOf(),a=t.from.valueOf(),i=(r-a)/2;let s,l;0===e?(s=a-i,l=r-i):(s=a+i,l=r+i,l>n&&r<n&&(l=n,s=a));const c=(0,o.toUtc)(s),u=(0,o.toUtc)(l);return{from:c,to:u,raw:{from:c,to:u}}}Sd.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n,quickRanges:r,defaultQuickRanges:a}=e.useState(),i=jl.getTimeRange(e),s=i.getTimeZone(),l=i.useState(),[c,u]=xd(Cd,[],{raw:!1,serializer:_d,deserializer:Od});if(t)return null;const d=r||a;return p().createElement(kn.TimeRangePicker,{isOnCanvas:null==n||n,value:l.value,onChange:e=>{var t;t=e,((0,o.isDateTime)(t.raw.from)||(0,o.isDateTime)(t.raw.to))&&u([e,...null!=c?c:[]]),i.onTimeRangeChange(e)},timeZone:s,fiscalYearStartMonth:l.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:i.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth,weekStart:l.weekStart,history:c,quickRanges:d})};const Cd="grafana.dashboard.timepicker.history";function Od(e){return JSON.parse(e).map((e=>o.rangeUtil.convertRawToRange(e,"utc",void 0,"YYYY-MM-DD HH:mm:ss")))}function _d(e){return JSON.stringify((t=e.map((e=>({from:"string"==typeof e.raw.from?e.raw.from:e.raw.from.toISOString(),to:"string"==typeof e.raw.to?e.raw.to:e.raw.to.toISOString()}))),(0,A.uniqBy)(t,(e=>e.from+e.to)).slice(0,4)));var t}const Rd=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class Dd extends I{constructor(e){var t,n,r;super({refresh:"",...e,autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(n=e.autoMinInterval)?n:i.config.minRefreshInterval,intervals:(null!=(r=e.intervals)?r:Rd).filter((t=>{var n;const r=null!=(n=e.minRefreshInterval)?n:i.config.minRefreshInterval;try{return!r||o.rangeUtil.intervalToMs(t)>=o.rangeUtil.intervalToMs(r)}catch(e){return!1}}))}),this._urlSync=new W(this,{keys:["refresh"]}),this._autoRefreshBlocked=!1,this.onRefresh=()=>{const e=jl.getQueryController(this);if(null==e||e.startProfile("SceneRefreshPicker"),null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=jl.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>jl.getTimeRange(this).subscribeToState(((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()})),this.calculateAutoRefreshInterval=()=>{var e;const t=jl.getTimeRange(this),n=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return o.rangeUtil.calculateInterval(t.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=jl.getTimeRange(this),{refresh:n,intervals:r}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==kn.RefreshPicker.autoOption.value&&r&&!r.includes(n))return;let a;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),n===kn.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();a=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else a=o.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval((()=>{if(this.isTabVisible()){const e=jl.getQueryController(this);null==e||e.startProfile("SceneRefreshPicker"),t.onRefresh()}else this._autoRefreshBlocked=!0}),a)},this.addActivationHandler((()=>{this.setupIntervalTimer();const e=()=>{this._autoRefreshBlocked&&"visible"===document.visibilityState&&(this._autoRefreshBlocked=!1,this.onRefresh())};return document.addEventListener("visibilitychange",e),()=>{var t;this._intervalTimer&&clearInterval(this._intervalTimer),document.removeEventListener("visibilitychange",e),null==(t=this._autoTimeRangeListener)||t.unsubscribe()}}))}getUrlState(){let e=this.state.refresh;return"string"==typeof e&&0!==e.length||(e=void 0),{refresh:e}}updateFromUrl(e){const{intervals:t}=this.state;let n=e.refresh;"string"==typeof n&&function(e){try{return o.rangeUtil.describeInterval(e).count>0}catch(e){return!1}}(n)&&((null==t?void 0:t.includes(n))?this.setState({refresh:n}):this.setState({refresh:t?t[0]:void 0}))}isTabVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}}Dd.Component=function({model:e}){var t;const{refresh:n,intervals:r,autoEnabled:a,autoValue:o,isOnCanvas:i,primary:s,withText:l}=e.useState(),c=function(e){const t=jl.getQueryController(e);if(!t)return!1;return t.useState().isRunning}(e);let u,d,h=n===(null==(t=kn.RefreshPicker.autoOption)?void 0:t.value)?o:l?"Refresh":void 0;c&&(u="Cancel all queries",l&&(h="Cancel"));l&&(d="96px");return p().createElement(kn.RefreshPicker,{showAutoInterval:a,value:n,intervals:r,tooltip:u,width:d,text:h,onRefresh:()=>{e.onRefresh()},primary:s,onIntervalChanged:e.onIntervalChanged,isLoading:c,isOnCanvas:null==i||i})};const Id=e=>`${e}-compare`,kd="__previousPeriod",Td="__noPeriod",Ad={label:"Previous period",value:kd},Pd={label:"No comparison",value:Td},Ld=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];(class extends I{constructor(e){super({compareOptions:Ld,...e}),this._urlSync=new W(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=jl.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState((e=>{const t=this.getCompareOptions(e.value),n={compareOptions:t};Boolean(this.state.compareWith)&&!t.find((({value:e})=>e===this.state.compareWith))&&(n.compareWith=kd),this.setState(n)})))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),n=Ld.findIndex((({value:e})=>o.rangeUtil.intervalToMs(e)>=t));return[Pd,Ad,...Ld.slice(n).map((({label:e,value:t})=>({label:e,value:t})))]},this.onCompareWithChanged=e=>{e===Td?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],n=this.getCompareTimeRange(e.range);if(!n)return t;const r=e.targets.filter((e=>!1!==e.timeRangeCompare));return r.length&&t.push({req:{...e,targets:r,range:n},processor:Nd}),t}shouldRerun(e,t,n){return e.compareWith!==t.compareWith&&void 0!==n.find((e=>!1!==e.timeRangeCompare))}getCompareTimeRange(e){let t,n;if(this.state.compareWith){if(this.state.compareWith===kd){const r=e.to.diff(e.from);t=(0,o.dateTime)(e.from).subtract(r),n=(0,o.dateTime)(e.to).subtract(r)}else t=(0,o.dateTime)(e.from).subtract(o.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,o.dateTime)(e.to).subtract(o.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:n,raw:{from:t,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=q(e.compareWith);if(t){this.getCompareOptions(jl.getTimeRange(this).state.value).find((({value:e})=>e===t))?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"})}}}).Component=function({model:e}){var t;const n=(0,kn.useStyles2)(jd),{compareWith:r,compareOptions:a}=e.useState(),[o,i]=p().useState(r),s=null!=(t=a.find((({value:e})=>e===o)))?t:Ad,l=a.find((({value:e})=>e===r)),c=Boolean(l),u=()=>{c?(i(r),e.onClearCompare()):c||e.onCompareWithChanged(s.value)};return p().createElement(kn.ButtonGroup,null,p().createElement(kn.ToolbarButton,{variant:"canvas",tooltip:Ft("grafana-scenes.components.scene-time-range-compare-renderer.button-tooltip","Enable time frame comparison"),onClick:e=>{e.stopPropagation(),e.preventDefault(),u()}},p().createElement(kn.Checkbox,{label:" ",value:c,onClick:u}),p().createElement(Bt,{i18nKey:"grafana-scenes.components.scene-time-range-compare-renderer.button-label"},"Comparison")),c?p().createElement(kn.ButtonSelect,{variant:"canvas",value:l,options:a,onChange:t=>{e.onCompareWithChanged(t.value)}}):p().createElement(kn.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},s.label))};const Nd=(e,t)=>{const n=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach((e=>{e.refId=Id(e.refId||""),e.meta={...e.meta,timeCompare:{diffMs:n,isTimeShiftQuery:!0}},e.fields.forEach((e=>(e.type===o.FieldType.time&&(e.values=e.values.map((e=>n<0?e-n:e+n))),e.config={...e.config,color:{mode:"fixed",fixedColor:i.config.theme.palette.gray60}},e)))})),(0,h.of)(t)};function jd(e){return{previewButton:(0,Fn.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}(class extends I{constructor(e){super(e),this.addActivationHandler((()=>{const e=jl.getData(this);this._subs.add(e.subscribeToState((e=>{var t;(null==(t=e.data)?void 0:t.state)===o.LoadingState.Done&&this.performRepeat(e.data)}))),e.state.data&&this.performRepeat(e.state.data)}))}performRepeat(e){const t=[];for(let n=0;n<e.series.length;n++){const r=this.state.getLayoutChild(e,e.series[n],n);t.push(r)}this.state.body.setState({children:t})}}).Component=({model:e})=>{const{body:t}=e.useState();return p().createElement(t.Component,{model:t})};(class extends I{constructor(e){super(e),this._variableDependency=new ul(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler((()=>this.performRepeat()))}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=jl.lookupVariable(this.state.variableName,this);if(!(e instanceof ln))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:n,options:r}=e.state;if(e.hasAllValue())return r;if(Array.isArray(t)&&Array.isArray(n))return t.map(((e,t)=>({value:e,label:n[t]})));return[{value:t,label:n}]}(e),n=[];for(const e of t){const t=this.state.getLayoutChild(e);n.push(t)}this.state.body.setState({children:n})}}).Component=({model:e})=>{const{body:t}=e.useState();return p().createElement(t.Component,{model:t})};class Md extends I{constructor(){super({}),this._renderBeforeActivation=!0}}Md.Component=e=>p().createElement("div",{style:{flexGrow:1}});class $d extends I{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}$d.Component=function({model:e,parentState:t}){const{children:n,isHidden:r}=e.useState(),a=function(e,t){return(0,u.useMemo)((()=>{var n,r,a,o,s,l,c,u,d,p;const{direction:h="row",wrap:f}=e,g=i.config.theme2,m={};return t?Fd(m,e,t):(m.display="flex",m.flexGrow=1,m.minWidth=e.minWidth,m.minHeight=e.minHeight),m.flexDirection=h,m.gap="8px",m.flexWrap=f||"nowrap",m.alignContent="baseline",m.minWidth=m.minWidth||0,m.minHeight=m.minHeight||0,m[g.breakpoints.down("md")]={flexDirection:null!=(r=null==(n=e.md)?void 0:n.direction)?r:"column",maxWidth:null!=(o=null==(a=e.md)?void 0:a.maxWidth)?o:"unset",maxHeight:null!=(l=null==(s=e.md)?void 0:s.maxHeight)?l:"unset",height:null!=(u=null==(c=e.md)?void 0:c.height)?u:"unset",width:null!=(p=null==(d=e.md)?void 0:d.width)?p:"unset"},(0,Fn.css)(m)}),[t,e])}(e.state,t);if(r)return null;return p().createElement("div",{className:a},n.map((t=>{const n=t.Component;return p().createElement(n,{key:t.state.key,model:t,parentState:e.state})})))};class Vd extends I{}function Fd(e,t,n){var r,a,o;const i=null!=(r=n.direction)?r:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=i,"column"===i?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0,t.wrap&&(e.flexWrap=t.wrap,"nowrap"!==t.wrap&&("row"===i?e.rowGap="8px":e.columnGap="8px"))),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(a=t.minHeight)?a:n.minHeight,e.height=null!=(o=t.height)?o:n.height,e}Vd.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:n,isHidden:r}=e.useState(),a=function(e,t){return(0,u.useMemo)((()=>{var n,r,a,o,s,l,c,u,d,p;const h=i.config.theme2,f=Fd({},e,t);return f[h.breakpoints.down("md")]={maxWidth:null!=(r=null==(n=e.md)?void 0:n.maxWidth)?r:"unset",maxHeight:null!=(o=null==(a=e.md)?void 0:a.maxHeight)?o:"unset",height:null!=(c=null==(s=e.md)?void 0:s.height)?c:null==(l=t.md)?void 0:l.height,width:null!=(p=null==(u=e.md)?void 0:u.width)?p:null==(d=t.md)?void 0:d.width},(0,Fn.css)(f)}),[e,t])}(e.state,t);if(!n||r)return null;return p().createElement("div",{className:a},p().createElement(n.Component,{model:n}))};class Bd extends I{constructor(e){var t,n;super({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(n=e.children)?n:[],...e})}isDraggable(){return!1}}Bd.Component=function({model:e}){const{children:t,isHidden:n,isLazy:r}=e.useState(),a=(o=e.state,(0,u.useMemo)((()=>{var e,t,n,r,a,s,l,c,u,d,p;const h={},f=i.config.theme2;return h.display="grid",h.gridTemplateColumns=o.templateColumns,h.gridTemplateRows=o.templateRows||"unset",h.gridAutoRows=o.autoRows||"unset",h.rowGap=f.spacing(null!=(e=o.rowGap)?e:1),h.columnGap=f.spacing(null!=(t=o.columnGap)?t:1),h.justifyItems=o.justifyItems||"unset",h.alignItems=o.alignItems||"unset",h.justifyContent=o.justifyContent||"unset",h.flexGrow=1,o.md&&(h[f.breakpoints.down("md")]={gridTemplateRows:null==(n=o.md)?void 0:n.templateRows,gridTemplateColumns:null==(r=o.md)?void 0:r.templateColumns,rowGap:o.md.rowGap?f.spacing(null!=(s=null==(a=o.md)?void 0:a.rowGap)?s:1):void 0,columnGap:o.md.columnGap?f.spacing(null!=(c=null==(l=o.md)?void 0:l.rowGap)?c:1):void 0,justifyItems:null==(u=o.md)?void 0:u.justifyItems,alignItems:null==(d=o.md)?void 0:d.alignItems,justifyContent:null==(p=o.md)?void 0:p.justifyContent}),(0,Fn.css)(h)}),[o]));var o;if(n)return null;return p().createElement("div",{className:a},t.map((t=>{const n=t.Component;return r?p().createElement(id,{key:t.state.key,className:a},p().createElement(n,{key:t.state.key,model:t,parentState:e.state})):p().createElement(n,{key:t.state.key,model:t,parentState:e.state})})))};class zd extends I{}zd.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:n,isHidden:r}=e.useState(),a=(o=e.state,(0,u.useMemo)((()=>{const e={};return e.gridColumn=o.gridColumn||"unset",e.gridRow=o.gridRow||"unset",e.position="relative",(0,Fn.css)(e)}),[o]));var o;if(!n||r)return null;return p().createElement("div",{className:a},p().createElement(n.Component,{model:n}))};const Ud=new Set(["ArrowUp","ArrowDown"]),Wd=new Set(["ArrowLeft","ArrowRight"]),Hd={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function Gd({direction:e="row",handleSize:t=32,initialSize:n="auto",primaryPaneStyles:r,secondaryPaneStyles:a,onDragFinished:o,children:i}){const s=p().Children.toArray(i),l=(0,u.useRef)(null),c=(0,u.useRef)(null),d=(0,u.useRef)(null),h=(0,u.useRef)(null),f=(0,u.useRef)(null),g=(0,u.useRef)("1fr"),m=(0,u.useRef)(void 0),v=(0,u.useRef)(void 0),b=Hd[e].dim,y=Hd[e].axis,w=Hd[e].min,x=Hd[e].max;!function(e,t,n=0,r){const a=(0,A.throttle)(t,n);(0,u.useLayoutEffect)((()=>{if(!e)return;const t=new ResizeObserver(a);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()}),r)}(h.current,(e=>{for(const t of e){if(!t.target.isSameNode(h.current))return;const e=c.current.getBoundingClientRect()[b],n=Kd(c.current);l.current.ariaValueNow=`${(0,A.clamp)((e-n[w])/(n[x]-n[w])*100,0,100)}`}}),500,[x,w,e,b]);const S=(0,u.useRef)(null),E=(0,u.useCallback)((e=>{g.current=c.current.getBoundingClientRect()[b],f.current=h.current.getBoundingClientRect()[b],S.current=e[y],l.current.setPointerCapture(e.pointerId),m.current=Kd(c.current),v.current=void 0}),[b,y]),C=(0,u.useCallback)((e=>{if(null!==S.current&&"1fr"!==g.current){const n=e[y]-S.current,r=m.current,a=(0,A.clamp)(g.current+n,r[w],r[x]),o=a/(f.current-t);c.current.style.flexGrow=`${o}`,d.current.style.flexGrow=""+(1-o);const i=(0,A.clamp)((a-r[w])/(r[x]-r[w])*100,0,100);l.current.ariaValueNow=`${i}`}}),[t,y,w,x]),O=(0,u.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),l.current.releasePointerCapture(e.pointerId),S.current=null,null==o||o(parseFloat(c.current.style.flexGrow))}),[o]),_=(0,u.useRef)(new Set),R=(0,u.useRef)(null),D=(0,u.useCallback)((n=>{var r;if(0===_.current.size)return void(R.current=null);if("1fr"===g.current)return;const a=.3*(n-(null!=(r=R.current)?r:n));let o=0;"row"===e?(_.current.has("ArrowLeft")&&(o-=a),_.current.has("ArrowRight")&&(o+=a)):(_.current.has("ArrowUp")&&(o-=a),_.current.has("ArrowDown")&&(o+=a));const i=m.current,s=c.current.getBoundingClientRect()[b],u=(0,A.clamp)(s+o,i[w],i[x]),p=u/(f.current-t);c.current.style.flexGrow=`${p}`,d.current.style.flexGrow=""+(1-p);const h=(u-i[w])/(i[x]-i[w])*100;l.current.ariaValueNow=`${(0,A.clamp)(h,0,100)}`,R.current=n,window.requestAnimationFrame(D)}),[e,t,w,x,b]),I=(0,u.useCallback)((n=>{if("Enter"===n.key)return void(void 0===v.current?(v.current=c.current.style.flexGrow,c.current.style.flexGrow="0",d.current.style.flexGrow="1"):(c.current.style.flexGrow=v.current,d.current.style.flexGrow=""+(1-parseFloat(v.current)),v.current=void 0));if("Home"===n.key){m.current=Kd(c.current),f.current=h.current.getBoundingClientRect()[b];const e=m.current[w]/(f.current-t);return c.current.style.flexGrow=`${e}`,d.current.style.flexGrow=""+(1-e),void(l.current.ariaValueNow="0")}if("End"===n.key){m.current=Kd(c.current),f.current=h.current.getBoundingClientRect()[b];const e=m.current[x]/(f.current-t);return c.current.style.flexGrow=`${e}`,d.current.style.flexGrow=""+(1-e),void(l.current.ariaValueNow="100")}if(!("column"===e&&Ud.has(n.key)||"row"===e&&Wd.has(n.key))||_.current.has(n.key))return;v.current=void 0,n.preventDefault(),n.stopPropagation(),g.current=c.current.getBoundingClientRect()[b],f.current=h.current.getBoundingClientRect()[b],m.current=Kd(c.current);if(!_.current.has(n.key)){const e=0===_.current.size;_.current.add(n.key),e&&window.requestAnimationFrame(D)}}),[e,D,t,x,b,w]),k=(0,u.useCallback)((t=>{"row"===e&&!Wd.has(t.key)||"column"===e&&!Ud.has(t.key)||(_.current.delete(t.key),null==o||o(parseFloat(c.current.style.flexGrow)))}),[e,o]),T=(0,u.useCallback)((()=>{c.current.style.flexGrow="0.5",d.current.style.flexGrow="0.5";const e=Kd(c.current);m.current=e,g.current=c.current.getBoundingClientRect()[b],l.current.ariaValueNow=""+(g.current-e[w])/(e[x]-e[w])*100}),[x,b,w]),P=(0,u.useCallback)((()=>{_.current.size>0&&(_.current.clear(),S.current=null,null==o||o(parseFloat(c.current.style.flexGrow)))}),[o]),L=(0,kn.useStyles2)(qd),N=od(),j=2===s.length?"visible":"hidden";return p().createElement("div",{ref:h,className:L.container,style:{flexDirection:e}},p().createElement("div",{ref:c,className:L.panel,style:{flexGrow:"auto"===n?.5:(0,A.clamp)(n,0,1),[w]:"min-content",...r},id:`start-panel-${N}`},s[0]),s[1]&&p().createElement(p().Fragment,null,p().createElement("div",{ref:l,style:{[b]:`${t}px`},className:(0,Fn.cx)(L.handle,{[L.handleHorizontal]:"column"===e}),onPointerUp:O,onPointerDown:E,onPointerMove:C,onKeyDown:I,onKeyUp:k,onDoubleClick:T,onBlur:P,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${N}`,"aria-label":Ft("grafana-scenes.components.splitter.aria-label-pane-resize-widget","Pane resize widget"),tabIndex:0}),p().createElement("div",{ref:d,className:L.panel,style:{flexGrow:"auto"===n?.5:(0,A.clamp)(1-n,0,1),[w]:"min-content",visibility:`${j}`,...a},id:`end-panel-${N}`},s[1])))}function qd(e){return{handle:(0,Fn.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,Fn.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,Fn.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,Fn.css)({display:"flex",position:"relative",flexBasis:0})}}function Kd(e){if(null===e)return;const t=document.body.style.overflow,n=e.style.width,r=e.style.height,a=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:o,height:i}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=n,e.style.height=r,e.style.flexGrow=a,{minWidth:o,maxWidth:s,minHeight:i,maxHeight:l}}(class extends I{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}).Component=function({model:e}){const{primary:t,secondary:n,direction:r,isHidden:a,initialSize:o,primaryPaneStyles:i,secondaryPaneStyles:s}=e.useState();if(a)return null;const l=t.Component,c=null==n?void 0:n.Component;let u=n?o:1;return p().createElement(Gd,{direction:r,initialSize:null!=u?u:.5,primaryPaneStyles:i,secondaryPaneStyles:s},p().createElement(l,{key:t.state.key,model:t,parentState:e.state}),c&&n&&p().createElement(c,{key:n.state.key,model:n,parentState:e.state}))};class Qd extends I{constructor(){super(...arguments),this._renderBeforeActivation=!0}enrichDataRequest(){return{app:this.state.name||"app"}}}Qd.Component=({model:e})=>{const{pages:t}=e.useState();return p().createElement(p().Fragment,null,p().createElement(Yd.Provider,{value:e},p().createElement(a.Routes,null,t.map((e=>p().createElement(a.Route,{key:e.state.url,path:e.state.routePath,element:p().createElement(e.Component,{model:e})}))))))};const Yd=(0,u.createContext)(null),Xd=new Map;function Zd(e){const t=Xd.get(e);if(t)return t;const n=e();return Xd.set(e,n),n}class Jd extends I{}function ep({node:e}){const t=e.useState(),n=(0,kn.useStyles2)(tp);return p().createElement("div",{className:n.container},Object.keys(t).map((r=>p().createElement("div",{className:n.row,key:r},p().createElement("div",{className:n.keyName},r),p().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return p().createElement(kn.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return p().createElement(kn.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return mn(t)?t.constructor.name:(0,A.isPlainObject)(t)||(0,A.isArray)(t)?p().createElement(kn.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(r,t[r],e))))))}function tp(e){return{container:(0,Fn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,Fn.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,Fn.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,Fn.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function np({node:e,selectedObject:t,onSelect:n}){const r=(0,kn.useStyles2)(rp),a=[],o=e===t;return e.forEachChild((e=>{a.push(p().createElement(np,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))})),p().createElement("div",{className:r.container},p().createElement("div",{className:(0,Fn.cx)(r.name,o&&r.selected),onClick:()=>n(e)},e.constructor.name),p().createElement("div",{className:r.children},a))}function rp(e){return{container:(0,Fn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,Fn.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,Fn.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,Fn.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function ap({scene:e}){const t=(0,kn.useStyles2)(op),[n,r]=(0,u.useState)(!1),[a,o]=(0,u.useState)();return p().createElement(p().Fragment,null,p().createElement(kn.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>r(!0)}),n&&p().createElement(kn.Drawer,{title:Ft("grafana-scenes.components.scene-debugger.title-scene-debugger","Scene debugger"),onClose:()=>r(!1),size:"lg"},p().createElement("div",{className:t.panes},p().createElement("div",{className:t.pane1},p().createElement("div",{className:t.paneHeading},p().createElement(Bt,{i18nKey:"grafana-scenes.components.scene-debugger.scene-graph"},"Scene graph")),p().createElement(kn.CustomScrollbar,{autoHeightMin:"100%"},p().createElement("div",{className:t.treeWrapper},p().createElement(np,{node:e,selectedObject:a,onSelect:o})))),p().createElement("div",{className:t.pane2},p().createElement("div",{className:t.paneHeading},p().createElement(Bt,{i18nKey:"grafana-scenes.components.scene-debugger.object-details"},"Object details")),a&&p().createElement(ep,{node:a})))))}function op(e){return{panes:(0,Fn.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,Fn.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,Fn.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,Fn.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,Fn.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function ip({page:e}){const t=l(e.state.url),n=function(e){if(e.parent instanceof cp)return e.parent;return e}(e),r=n.useState(),o=function(){const e=(0,a.useLocation)();return(0,i.locationSearchToObject)(e.search||"")}(),c=e.getScene(t),d=(0,u.useContext)(Yd),h=r.initializedScene===c,{layout:f}=e.state,g=sn();(0,u.useLayoutEffect)((()=>{h||n.initializeScene(c)}),[c,n,h]),(0,u.useEffect)((()=>()=>n.setState({initializedScene:void 0})),[n]);const m=Ku(n,null==d?void 0:d.state.urlSyncOptions);if(!h&&!m)return null;const v={text:r.title,img:r.titleImg,icon:r.titleIcon,url:s(r.url,g.getSearchObject(),r.preserveUrlKeys),hideFromBreadcrumbs:r.hideFromBreadcrumbs,parentItem:sp(r.getParentPage?r.getParentPage():n.parent,o,g.getSearchObject())};r.tabs&&(v.children=r.tabs.map((t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:s(t.state.url,g.getSearchObject(),t.state.preserveUrlKeys),parentItem:v}))));let b=[];return r.controls&&(b=r.controls.map((e=>p().createElement(e.Component,{model:e,key:e.state.key})))),o["scene-debugger"]&&b.push(p().createElement(ap,{scene:n,key:"scene-debugger"})),p().createElement(i.PluginPage,{layout:f,pageNav:v,actions:b,renderTitle:r.renderTitle,subTitle:r.subTitle},p().createElement(c.Component,{model:c}))}function sp(e,t,n){if(e instanceof cp)return{text:e.state.title,url:s(e.state.url,n,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:sp(e.state.getParentPage?e.state.getParentPage():e.parent,t,n)}}function lp({drilldown:e,parent:t}){const n=l(e.routePath),r=t.getDrilldownPage(e,n);return p().createElement(r.Component,{model:r})}Jd.Component=({model:e})=>{const{component:t,props:n,reactNode:r}=e.useState();return t?p().createElement(t,{...n}):r||null};class cp extends I{constructor(){super(...arguments),this._sceneCache=new Map,this._drilldownCache=new Map}initializeScene(e){this.setState({initializedScene:e})}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let n=this._drilldownCache.get(t.url);return n||(n=e.getPage(t,this),this._drilldownCache.set(t.url,n),n)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return vn(t)?t.enrichDataRequest(e):null}}cp.Component=function({model:e}){const{tabs:t,drilldowns:n}=e.useState(),r=[];if(r.push(function(e){var t,n,r;return p().createElement(a.Route,{key:"fallback route",path:"*",element:p().createElement(ip,{page:null!=(r=null==(n=(t=e.state).getFallbackPage)?void 0:n.call(t))?r:new cp({url:"",title:Ft("grafana-scenes.components.fallback-page.title","Not found"),subTitle:Ft("grafana-scenes.components.fallback-page.subTitle","The url did not match any page"),routePath:"*",getScene:()=>new Yu({body:new $d({direction:"column",children:[new Vd({body:new Jd({component:()=>p().createElement("div",{"data-testid":"default-fallback-content"},p().createElement(Bt,{i18nKey:"grafana-scenes.components.fallback-page.content"},"If you found your way here using a link then there might be a bug in this application."))})})]})})})})})}(e)),t&&t.length>0)for(let n=0;n<t.length;n++){const o=t[n];if(0===n&&r.push(p().createElement(a.Route,{key:e.state.routePath,path:"",element:p().createElement(o.Component,{model:o})})),r.push(p().createElement(a.Route,{key:o.state.url,path:o.state.routePath,element:p().createElement(o.Component,{model:o})})),o.state.drilldowns)for(const e of o.state.drilldowns)r.push(p().createElement(a.Route,{key:e.routePath,path:e.routePath,element:p().createElement(lp,{drilldown:e,parent:o})}))}if(n)for(const t of n)r.push(p().createElement(a.Route,{key:t.routePath,path:t.routePath,Component:()=>p().createElement(lp,{drilldown:t,parent:e})}));t||r.push(p().createElement(a.Route,{key:"home route",path:"/",element:p().createElement(ip,{page:e})}));return p().createElement(a.Routes,null,r)};var up=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(up||{}),dp=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(dp||{}),pp=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(pp||{}),hp=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(hp||{}),fp=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(fp||{}),gp=(e=>(e.Area="area",e.Line="line",e.None="none",e))(gp||{}),mp=(e=>(e.Auto="auto",e.Center="center",e))(mp||{}),vp=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(vp||{}),bp=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(bp||{}),yp=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(yp||{}),wp=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(wp||{}),xp=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(xp||{}),Sp=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(Sp||{}),Ep=(e=>(e.Auto="auto",e.Manual="manual",e))(Ep||{}),Cp=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(Cp||{});const Op={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:hp.Auto,showValue:up.Auto,stacking:pp.None,xTickLabelRotation:0,xTickLabelSpacing:0},_p={fillOpacity:80,gradientMode:dp.None,lineWidth:1},Rp={displayMode:wp.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:Sp.Auto,showUnfilled:!0,sizing:Ep.Auto,valueMode:xp.Color},Dp={selectedSeries:0},Ip={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:Ep.Auto},kp={layers:[]};const Tp={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:up.Auto,tooltip:{mode:yp.Single,yHistogram:!1,showColorScale:!1}},Ap={bucketCount:30,bucketOffset:0},Pp={fillOpacity:80,gradientMode:dp.None,lineWidth:1},Lp={showImage:!0};const Np={displayLabels:[]},jp={colorMode:fp.Value,graphMode:gp.Area,justifyMode:mp.Auto,percentChangeColorMode:bp.Standard,showPercentChange:!1,textMode:vp.Auto,wideLayout:!0},Mp={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:up.Auto},$p={fillOpacity:70,lineWidth:0},Vp={colWidth:.9,perPage:20,rowHeight:.9,showValue:up.Auto},Fp={fillOpacity:70,lineWidth:1},Bp={cellHeight:Cp.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]};const zp={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"};const Up={fillOpacity:50,show:"points"},Wp={series:[]};class Hp{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class Gp extends Hp{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:o.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:o.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:o.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:o.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:o.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(Id(e))}overrideCustomFieldConfig(e,t){const n=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:n,value:t}),this}build(){return this._overrides}}class qp{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new Gp,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,A.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults={...this._fieldConfig.defaults,custom:(0,A.merge)(this._fieldConfig.defaults.custom,{[e]:t})},this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults={...this._fieldConfig.defaults,[e]:t},this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class Kp{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,A.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,A.merge)(this._options,{[e]:t}),this}build(){return this._options}}class Qp{constructor(e,t,n,r){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new qp(r),this._panelOptionsBuilder=new Kp(n)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setShowMenuAlways(e){return this._state.showMenuAlways=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setCollapsible(e){return this._state.collapsible=e,this}setCollapsed(e){return this._state.collapsed=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}setSeriesLimit(e){return this._state.seriesLimit=e,this}applyMixin(e){return e(this),this}build(){return new fc({...this._state,options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()})}}const Yp={barchart:()=>new Qp("barchart","10.0.0",(()=>Op),(()=>_p)),bargauge:()=>new Qp("bargauge","10.0.0",(()=>Rp)),datagrid:()=>new Qp("datagrid","10.0.0",(()=>Dp)),flamegraph:()=>new Qp("flamegraph","10.0.0"),gauge:()=>new Qp("gauge","10.0.0",(()=>Ip)),geomap:()=>new Qp("geomap","10.0.0",(()=>kp)),heatmap:()=>new Qp("heatmap","10.0.0",(()=>Tp)),histogram:()=>new Qp("histogram","10.0.0",(()=>Ap),(()=>Pp)),logs:()=>new Qp("logs","10.0.0"),news:()=>new Qp("news","10.0.0",(()=>Lp)),nodegraph:()=>new Qp("nodeGraph","10.0.0"),piechart:()=>new Qp("piechart","10.0.0",(()=>Np)),stat:()=>new Qp("stat","10.0.0",(()=>jp)),statetimeline:()=>new Qp("state-timeline","10.0.0",(()=>Mp),(()=>$p)),statushistory:()=>new Qp("status-history","10.0.0",(()=>Vp),(()=>Fp)),table:()=>new Qp("table","10.0.0",(()=>Bp)),text:()=>new Qp("text","10.0.0",(()=>zp)),timeseries:()=>new Qp("timeseries","10.0.0"),trend:()=>new Qp("trend","10.0.0"),traces:()=>new Qp("traces","10.0.0"),xychart:()=>new Qp("xychart","10.0.0",(()=>Wp),(()=>Up))};Lt.reduce(((e,t)=>(e[t.code]=async()=>await function(e){return"../locales/en-US/grafana-scenes.json"===e?n.e(767).then(n.bind(n,4767)):new Promise((function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}(`../locales/${t.code}/grafana-scenes.json`),e)),{});const Xp={barchart:()=>new qp((()=>_p)),bargauge:()=>new qp,datagrid:()=>new qp,flamegraph:()=>new qp,gauge:()=>new qp,geomap:()=>new qp,heatmap:()=>new qp,histogram:()=>new qp((()=>Pp)),logs:()=>new qp,news:()=>new qp,nodegraph:()=>new qp,piechart:()=>new qp,stat:()=>new qp,statetimeline:()=>new qp((()=>$p)),statushistory:()=>new qp((()=>Fp)),table:()=>new qp,text:()=>new qp,timeseries:()=>new qp,trend:()=>new qp,traces:()=>new qp,xychart:()=>new qp((()=>Up))},Zp={getUrlWithAppState:s,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(c.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);t.meta={...t.meta,id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}},c.set(e,t)},registerRuntimeDataSource:function({dataSource:e}){if(N.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);N.set(e.uid,e)},registerVariableMacro:function(e,t){if(fn.get(e))throw new Error(`Macro already registered ${e}`);return fn.set(e,t),()=>{fn.delete(e)}},cloneSceneObjectState:P,syncStateFromSearchParams:function(e,t,n){Bl(e,t,new $l(n))},getUrlState:Fl,renderPrometheusLabelFilters:Ys,escapeLabelValueInRegexSelector:Zs,escapeLabelValueInExactSelector:Xs,escapeURLDelimiters:function(e){return nl(tl(e))},isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},9902:(e,t,n)=>{"use strict";n.d(t,{JY:()=>Nr,sx:()=>ea,gL:()=>_a});var r=n(5959),a=n.n(r),o=n(8398),i=n.n(o),s=n(7694),l=n(200);function c(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],a=(0,r.useRef)(!0),o=(0,r.useRef)(n),i=a.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){a.current=!1,o.current=i}),[i]),i.result}var u=c,d=function(e,t){return c((function(){return e}),t)},p="Invariant failed";var h=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},f=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},g=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},m={top:0,right:0,bottom:0,left:0},v=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?m:n,a=e.border,o=void 0===a?m:a,i=e.padding,s=void 0===i?m:i,l=h(f(t,r)),c=h(g(t,o)),u=h(g(c,s));return{marginBox:l,borderBox:h(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},b=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(p)}(!1),n},y=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,s=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return v({borderBox:l,border:o,margin:i,padding:s})},w=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),y(e,t)},x=function(e,t){var n={top:b(t.marginTop),right:b(t.marginRight),bottom:b(t.marginBottom),left:b(t.marginLeft)},r={top:b(t.paddingTop),right:b(t.paddingRight),bottom:b(t.paddingBottom),left:b(t.paddingLeft)},a={top:b(t.borderTopWidth),right:b(t.borderRightWidth),bottom:b(t.borderBottomWidth),left:b(t.borderLeftWidth)};return v({borderBox:e,margin:n,padding:r,border:a})},S=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return x(t,n)},E=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function C(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],a=t[n],!(r===a||E(r)&&E(a)))return!1;var r,a;return!0}function O(e,t){void 0===t&&(t=C);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}const _=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(null,arguments)}function D(e,t){}D.bind(null,"warn"),D.bind(null,"error");function I(){}function k(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const T=!0,A="Invariant failed";class P extends Error{}function L(e,t){if(!e)throw new P(T?A:`${A}: ${t||""}`)}P.prototype.toString=function(){return this.message};class N extends a().Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=I,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof P&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=k(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof P))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const j=e=>e+1,M=(e,t)=>{const n=e.droppableId===t.droppableId,r=j(e.index),a=j(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${a}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${a}\n  `},$=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,V=e=>`\n  The item has returned to its starting position\n  of ${j(e.index)}\n`,F={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${j(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return M(e.source,t);const n=e.combine;return n?$(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${V(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${M(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${$(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${V(e.source)}\n  `}};var B=F;const z={x:0,y:0},U=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),W=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),H=(e,t)=>e.x===t.x&&e.y===t.y,G=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),q=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},K=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Q=(e,t)=>Math.min(...t.map((t=>K(e,t)))),Y=e=>t=>({x:e(t.x),y:e(t.y)});const X=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Z=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],J=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=h({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):h(e);var ee=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const a=((e,t)=>t?X(e,t.scroll.diff.displacement):e)(e.marginBox,r),o=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(a,n,t);return{page:e,withPlaceholder:t,active:J(o,r)}},te=(e,t)=>{e.frame||L(!1);const n=e.frame,r=W(t,n.scroll.initial),a=G(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}},i=ee({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};const ne=O((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),re=O((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),ae=O((e=>Object.values(e))),oe=O((e=>Object.values(e)));var ie=O(((e,t)=>{const n=oe(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function se(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function le(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ce=O(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),ue=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const de={point:z,value:0},pe={invisible:{},visible:{},all:[]};var he={displaced:pe,displacedBy:de,at:null},fe=(e,t)=>n=>e<=n&&n<=t,ge=e=>{const t=fe(e.top,e.bottom),n=fe(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const i=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(i&&s)return!0;return i&&o||s&&a}},me=e=>{const t=fe(e.top,e.bottom),n=fe(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const ve={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},be={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const ye=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const o=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:z;return X(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(o,t,a)&&((e,t,n)=>n(t)(e))(o,n,a)},we=e=>ye({...e,isVisibleThroughFrameFn:me});function xe({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:a,last:o}){return e.reduce((function(e,i){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return h(f(n,r))}(i,n),l=i.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:t,viewport:r,withDroppableDisplacement:!0},ye({...c,isVisibleThroughFrameFn:ge})))return e.invisible[i.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:a}=t;if(r[e])return!1;const o=a[e];return!o||o.shouldAnimate})(l,o,a),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function Se({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const a=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:pe,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Ee({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:a,last:o,index:i,forceShouldAnimate:s}){const l=ue(e,n);if(null==i)return Se({insideDestination:t,inHomeList:l,displacedBy:a,destination:n});const c=t.find((e=>e.descriptor.index===i));if(!c)return Se({insideDestination:t,inHomeList:l,displacedBy:a,destination:n});const u=ce(e,t),d=t.indexOf(c);return{displaced:xe({afterDragging:u.slice(d),destination:n,displacedBy:a,last:o,viewport:r.frame,forceShouldAnimate:s}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Ce(e,t){return Boolean(t.effected[e])}var Oe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:a,insideDestination:o,previousImpact:i,viewport:s,afterCritical:l})=>{const c=i.at;if(c||L(!1),"REORDER"===c.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,o=e?a+1:a-1,i=n[0].descriptor.index,s=n[n.length-1].descriptor.index;return o<i||o>(t?s:s+1)?null:o})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:o});return null==r?null:Ee({draggable:n,insideDestination:o,destination:a,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:r})}const u=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,i=n[o].descriptor.index;return Ce(o,a)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:a,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:l});return null==u?null:Ee({draggable:n,insideDestination:o,destination:a,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:u})},_e=({afterCritical:e,impact:t,draggables:n})=>{const r=le(t);r||L(!1);const a=r.draggableId,o=n[a].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const a=Boolean(e.visible[n]||e.invisible[n]);return Ce(n,t)?a?z:G(r.point):a?r.point:z})({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return U(o,i)};const Re=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,De=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Ie=({axis:e,moveRelativeTo:t,isMoving:n})=>q(e.line,t.marginBox[e.end]+Re(e,n),De(e,t.marginBox,n)),ke=({axis:e,moveRelativeTo:t,isMoving:n})=>q(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),De(e,t.marginBox,n));var Te=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a})=>{const o=ie(r.descriptor.id,n),i=t.page,s=r.axis;if(!o.length)return(({axis:e,moveInto:t,isMoving:n})=>q(e.line,t.contentBox[e.start]+Re(e,n),De(e,t.contentBox,n)))({axis:s,moveInto:r.page,isMoving:i});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const e=n[u];if(Ce(u,a))return ke({axis:s,moveRelativeTo:e.page,isMoving:i});const t=y(e.page,c.point);return ke({axis:s,moveRelativeTo:t,isMoving:i})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Ce(d.descriptor.id,a)){const e=y(d.page,G(a.displacedBy.point));return Ie({axis:s,moveRelativeTo:e,isMoving:i})}return Ie({axis:s,moveRelativeTo:d.page,isMoving:i})},Ae=(e,t)=>{const n=e.frame;return n?U(t,n.scroll.diff.displacement):t};var Pe=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:a})=>{const o=t.page.borderBox.center,i=e.at;return n&&i?"REORDER"===i.type?Te({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a}):_e({impact:e,draggables:r,afterCritical:a}):o})(e),n=e.droppable;return n?Ae(n,t):t},Le=(e,t)=>{const n=W(t,e.scroll.initial),r=G(n);return{frame:h({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ne(e,t){return e.map((e=>t[e]))}var je=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>U(e.scroll.diff.displacement,t))(n,e),a=W(r,t.page.borderBox.center);return U(t.client.borderBox.center,a)},Me=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const i=W(n,e.page.borderBox.center),s={target:X(e.page.borderBox,i),destination:t,withDroppableDisplacement:a,viewport:r};return o?(e=>{return ye({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=fe(e.top,e.bottom),r=fe(e.left,e.right);return e=>t===ve?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(s):we(s)},$e=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:a,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:s,afterCritical:l})=>{if(!n.isEnabled)return null;const c=ie(n.descriptor.id,r),u=ue(t,n),d=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled)return null;if(!se(a))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...a,at:t}}const i=a.displaced.all,s=i.length?i[0]:null;if(e)return s?o(s):null;const l=ce(t,r);if(!s)return l.length?o(l[l.length-1].descriptor.id):null;const c=l.findIndex((e=>e.descriptor.id===s));-1===c&&L(!1);const u=c-1;return u<0?null:o(l[u].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:a})||Oe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:a,viewport:o,afterCritical:l});if(!d)return null;const p=Pe({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(Me({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:je({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null}}const h=W(p,i),f=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:a})=>{const o=Le(t,U(t.scroll.current,a)),i=n.frame?te(n,U(n.frame.scroll.current,a)):n,s=e.displaced,l=xe({afterDragging:Ne(s.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:s,forceShouldAnimate:!1}),c=xe({afterDragging:Ne(s.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),u={},d={},p=[s,l,c];return s.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:u[e]=!0})),{...e,displaced:{all:s.all,invisible:u,visible:d}}})({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:s,impact:f,scrollJumpRequest:h}};const Ve=e=>{const t=e.subject.active;return t||L(!1),t};const Fe=(e,t)=>{const n=e.page.borderBox.center;return Ce(e.descriptor.id,t)?W(n,t.displacedBy.point):n},Be=(e,t)=>{const n=e.page.borderBox;return Ce(e.descriptor.id,t)?X(n,G(t.displacedBy.point)):n};var ze=O((function(e,t){const n=t[e.line];return{value:n,point:q(e.line,n)}}));const Ue=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),We=(e,t,n)=>{const r=e.frame;ue(t,e)&&L(!1),e.subject.withPlaceholder&&L(!1);const a=ze(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return q(r.line,t[r.line]);const a=e.subject.page.contentBox[r.size],o=ie(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-a;return o<=0?null:q(r.line,o)})(e,a,n),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=ee({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?U(r.scroll.max,o):r.scroll.max,l=Ue(r,s),c=ee({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var He=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:a,droppables:o,viewport:i,afterCritical:s})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:a})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,s=fe(o[i.start],o[i.end]),l=ae(r).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>ge(a.frame)(Ve(e)))).filter((t=>{const n=Ve(t);return e?o[i.crossAxisEnd]<n[i.crossAxisEnd]:n[i.crossAxisStart]<o[i.crossAxisStart]})).filter((e=>{const t=Ve(e),n=fe(t[i.start],t[i.end]);return s(t[i.start])||s(t[i.end])||n(o[i.start])||n(o[i.end])})).sort(((t,n)=>{const r=Ve(t)[i.crossAxisStart],a=Ve(n)[i.crossAxisStart];return e?r-a:a-r})).filter(((e,t,n)=>Ve(e)[i.crossAxisStart]===Ve(n[0])[i.crossAxisStart]));if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter((e=>fe(Ve(e)[i.start],Ve(e)[i.end])(t[i.line])));return 1===c.length?c[0]:c.length>1?c.sort(((e,t)=>Ve(e)[i.start]-Ve(t)[i.start]))[0]:l.sort(((e,n)=>{const r=Q(t,Z(Ve(e))),a=Q(t,Z(Ve(n)));return r!==a?r-a:Ve(e)[i.start]-Ve(n)[i.start]}))[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!l)return null;const c=ie(l.descriptor.id,a),u=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:a})=>{const o=r.filter((e=>we({target:Be(e,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0}))).sort(((t,r)=>{const o=K(e,Ae(n,Fe(t,a))),i=K(e,Ae(n,Fe(r,a)));return o<i?-1:i<o?1:t.descriptor.index-r.descriptor.index}));return o[0]||null})({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:c,afterCritical:s}),d=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:a,destination:o,viewport:i,afterCritical:s})=>{if(!t){if(n.length)return null;const e={displaced:pe,displacedBy:de,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=Pe({impact:e,draggable:r,droppable:o,draggables:a,afterCritical:s}),l=ue(r,o)?o:We(o,r,a);return Me({draggable:r,destination:l,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[o.axis.line]<=t.page.borderBox.center[o.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?e:e+1})(),u=ze(o.axis,r.displaceBy);return Ee({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:u,last:pe,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:a,moveRelativeTo:u,insideDestination:c,viewport:i,afterCritical:s});if(!d)return null;const p=Pe({impact:d,draggable:n,droppable:l,draggables:a,afterCritical:s});return{clientSelection:je({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:d,scrollJumpRequest:null}},Ge=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var qe=({state:e,type:t})=>{const n=((e,t)=>{const n=Ge(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),a=e.dimensions.droppables[e.critical.droppable.id],o=n||a,i=o.axis.direction,s="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(s&&!r)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return s?$e({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):He({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Ke(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Qe(e){const t=fe(e.top,e.bottom),n=fe(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Ye({pageBorderBox:e,draggable:t,droppables:n}){const r=ae(n).filter((t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(a=n,!((r=e).left<a.right&&r.right>a.left&&r.top<a.bottom&&r.bottom>a.top))return!1;var r,a;if(Qe(n)(e.center))return!0;const o=t.axis,i=n.center[o.crossAxisLine],s=e[o.crossAxisStart],l=e[o.crossAxisEnd],c=fe(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<i:l>i)}));return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,a=n.map((t=>{const n=t.axis,a=q(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:K(r,a)}})).sort(((e,t)=>t.distance-e.distance));return a[0]?a[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}const Xe=(e,t)=>h(X(e,t));function Ze({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var Je=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:a,viewport:o,afterCritical:i})=>{const s=Xe(t.page.borderBox,e),l=Ye({pageBorderBox:s,draggable:t,droppables:r});if(!l)return he;const c=r[l],u=ie(c.descriptor.id,n),d=((e,t)=>{const n=e.frame;return n?Xe(t,n.scroll.diff.value):t})(c,s);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:a,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,s=ze(r.axis,e.displaceBy),l=s.value,c=t[i.start],u=t[i.end],d=ce(e,a).find((e=>{const t=e.descriptor.id,r=e.page.borderBox,a=r[i.size]/4,s=Ce(t,o),d=Ze({displaced:n.displaced,id:t});return s?d?u>r[i.start]+a&&u<r[i.end]-a:c>r[i.start]-l+a&&c<r[i.end]-l-a:d?u>r[i.start]+l+a&&u<r[i.end]+l-a:c>r[i.start]+a&&c<r[i.end]-a}));return d?{displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:a,destination:c,insideDestination:u,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:a,viewport:o,afterCritical:i})=>{const s=n.axis,l=ze(n.axis,t.displaceBy),c=l.value,u=e[s.start],d=e[s.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:ce(t,r).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=Ce(t,i),o=Ze({displaced:a,id:t});return r?o?d<=n:u<n-c:o?d<=n+c:u<n}))||null,inHomeList:ue(t,n)});return Ee({draggable:t,insideDestination:r,destination:n,viewport:o,last:a,displacedBy:l,index:p})})({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:a.displaced,viewport:o,afterCritical:i})},et=(e,t)=>({...e,[t.descriptor.id]:t});const tt=({previousImpact:e,impact:t,droppables:n})=>{const r=Ge(e),a=Ge(t);if(!r)return n;if(r===a)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||L(!1);const n=e.frame;if(!n){const t=ee({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||L(!1);const a=Ue(n,r),o=ee({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:o,frame:a}})(o);return et(n,i)};var nt=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:a,scrollJumpRequest:o})=>{const i=r||e.viewport,s=n||e.dimensions,l=t||e.current.client.selection,c=W(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:U(e.initial.client.borderBoxCenter,c)},d={selection:U(u.selection,i.scroll.current),borderBoxCenter:U(u.borderBoxCenter,i.scroll.current),offset:U(u.offset,i.scroll.diff.value)},p={client:u,page:d};if("COLLECTING"===e.phase)return{...e,dimensions:s,viewport:i,current:p};const h=s.draggables[e.critical.draggable.id],f=a||Je({pageOffset:d.offset,draggable:h,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),g=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:a})=>{const o=tt({previousImpact:r,impact:a,droppables:n}),i=Ge(a);if(!i)return o;const s=n[i];if(ue(e,s))return o;if(s.subject.withPlaceholder)return o;const l=We(s,e,t);return et(o,l)})({draggable:h,impact:f,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:p,dimensions:{draggables:s.draggables,droppables:g},impact:f,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}};var rt=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:a})=>{const o=e.displaced,i=function(e,t){return e.map((e=>t[e]))}(o.all,n),s=xe({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...e,displaced:s}},at=({impact:e,draggable:t,droppable:n,draggables:r,viewport:a,afterCritical:o})=>{const i=Pe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return je({pageBorderBoxCenter:i,draggable:t,viewport:a})},ot=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&L(!1);const r=e.impact,a=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:s}=o,l=i[e.critical.draggable.id],c=Ge(r);c||L(!1);const u=s[c],d=rt({impact:r,viewport:a,destination:u,draggables:i}),p=at({impact:d,draggable:l,droppable:u,draggables:i,viewport:a,afterCritical:e.afterCritical});return nt({impact:d,clientSelection:p,state:e,dimensions:o,viewport:a})},it=({draggable:e,home:t,draggables:n,viewport:r})=>{const a=ze(t.axis,e.displaceBy),o=ie(t.descriptor.id,n),i=o.indexOf(e);-1===i&&L(!1);const s=o.slice(i+1),l=s.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:a,effected:l};var u;return{impact:{displaced:xe({afterDragging:s,destination:t,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(u=e.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:c}};const st=e=>{0},lt=e=>{0};var ct=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map((e=>{const a=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||L(!1),t})(t[a]),i=o.scroll.diff.value,s=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=y(e.client,t),a=w(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:a}})({draggable:e,offset:U(r,i),initialWindowScroll:n.scroll.initial});return s}))};const ut=e=>"SNAP"===e.movementMode,dt=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:et(e.droppables,t)}))(e.dimensions,t);return!ut(e)||n?nt({state:e,dimensions:r}):ot({state:e,dimensions:r})};function pt(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const ht={phase:"IDLE",completed:null,shouldFlush:!1};var ft=(e=ht,t)=>{if("FLUSH"===t.type)return{...ht,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&L(!1);const{critical:n,clientSelection:r,viewport:a,dimensions:o,movementMode:i}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:z},u={client:c,page:{selection:U(c.selection,a.scroll.initial),borderBoxCenter:U(c.selection,a.scroll.initial),offset:U(c.selection,a.scroll.diff.value)}},d=ae(o.droppables).every((e=>!e.isFixedOnPage)),{impact:p,afterCritical:h}=it({draggable:s,home:l,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:p,afterCritical:h,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&L(!1);return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&L(!1),(({state:e,published:t})=>{st();const n=t.modified.map((t=>{const n=e.dimensions.droppables[t.droppableId];return te(n,t.scroll)})),r={...e.dimensions.droppables,...ne(n)},a=re(ct({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...a};t.removals.forEach((e=>{delete o[e]}));const i={droppables:r,draggables:o},s=Ge(e.impact),l=s?i.droppables[s]:null,c=i.draggables[e.critical.draggable.id],u=i.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=it({draggable:c,home:u,draggables:o,viewport:e.viewport}),h=l&&l.isCombineEnabled?e.impact:d,f=Je({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:h,viewport:e.viewport,afterCritical:p});lt();const g={...e,phase:"DRAGGING",impact:f,onLiftImpact:d,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Ke(e)||L(!1);const{client:n}=t.payload;return H(n,e.current.client.selection)?e:nt({state:e,clientSelection:n,impact:ut(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return pt(e);if("COLLECTING"===e.phase)return pt(e);Ke(e)||L(!1);const{id:n,newScroll:r}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const o=te(a,r);return dt(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ke(e)||L(!1);const{id:n,isEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||L(!1),a.isEnabled===r&&L(!1);const o={...a,isEnabled:r};return dt(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ke(e)||L(!1);const{id:n,isCombineEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||L(!1),a.isCombineEnabled===r&&L(!1);const o={...a,isCombineEnabled:r};return dt(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Ke(e)||L(!1),e.isWindowScrollAllowed||L(!1);const n=t.payload.newScroll;if(H(e.viewport.scroll.current,n))return pt(e);const r=Le(e.viewport,n);return ut(e)?ot({state:e,viewport:r}):nt({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Ke(e))return e;const n=t.payload.maxScroll;if(H(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&L(!1);const n=qe({state:e,type:t.type});return n?nt({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&L(!1);return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:a}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&L(!1);return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};const gt=e=>({type:"LIFT",payload:e}),mt=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),vt=()=>({type:"COLLECTION_STARTING",payload:null}),bt=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),yt=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),wt=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),xt=e=>({type:"MOVE",payload:e}),St=()=>({type:"MOVE_UP",payload:null}),Et=()=>({type:"MOVE_DOWN",payload:null}),Ct=()=>({type:"MOVE_RIGHT",payload:null}),Ot=()=>({type:"MOVE_LEFT",payload:null}),_t=()=>({type:"FLUSH",payload:null}),Rt=e=>({type:"DROP_COMPLETE",payload:e}),Dt=e=>({type:"DROP",payload:e}),It=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const kt="cubic-bezier(.2,1,.1,1)",Tt={drop:0,combining:.7},At={drop:.75},Pt={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Lt=`${Pt.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,Nt={fluid:`opacity ${Lt}`,snap:`transform ${Lt}, opacity ${Lt}`,drop:e=>{const t=`${e}s ${kt}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Lt}`,placeholder:`height ${Lt}, width ${Lt}, margin ${Lt}`},jt=e=>H(e,z)?void 0:`translate(${e.x}px, ${e.y}px)`,Mt=jt,$t=(e,t)=>{const n=jt(e);if(n)return t?`${n} scale(${At.drop})`:n},{minDropTime:Vt,maxDropTime:Ft}=Pt,Bt=Ft-Vt;var zt=({getState:e,dispatch:t})=>n=>r=>{if("DROP"!==r.type)return void n(r);const a=e(),o=r.payload.reason;if("COLLECTING"===a.phase)return void t((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&L(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&L(!1);const i=a.critical,s=a.dimensions,l=s.draggables[a.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:a,onLiftImpact:o})=>{if(!n.at||"DROP"!==t)return{impact:rt({draggables:e,impact:o,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:pe},didDropInsideDroppable:!0}})({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=u?se(c):null,p=u?le(c):null,h={index:i.draggable.index,droppableId:i.droppable.id},f={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:o,mode:a.movementMode,destination:d,combine:p},g=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:o,droppables:i}=n,s=Ge(e),l=s?i[s]:null,c=i[t.descriptor.droppableId],u=at({impact:e,draggable:t,draggables:o,afterCritical:a,droppable:l||c,viewport:r});return W(u,t.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),m={critical:a.critical,afterCritical:a.afterCritical,result:f,impact:c};if(!(!H(a.current.client.offset,g)||Boolean(f.combine)))return void t(Rt({completed:m}));const v=(({current:e,destination:t,reason:n})=>{const r=K(e,t);if(r<=0)return Vt;if(r>=1500)return Ft;const a=Vt+Bt*(r/1500);return Number(("CANCEL"===n?.6*a:a).toFixed(2))})({current:a.current.client.offset,destination:g,reason:o});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:m}))},Ut=()=>({x:window.pageXOffset,y:window.pageYOffset});function Wt({onWindowScroll:e}){const t=_((function(){e(Ut())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(t);let r=I;function a(){return r!==I}return{start:function(){a()&&L(!1),r=k(window,[n])},stop:function(){a()||L(!1),t.cancel(),r(),r=I},isActive:a}}var Ht=e=>{const t=Wt({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&(e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(n)&&t.stop(),e(n)}},Gt=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&L(!1);const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const qt=(e,t)=>{st(),t(),lt()},Kt=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Qt(e,t,n,r){if(!e)return void n(r(t));const a=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),a=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=()=>t,a})(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}var Yt=(e,t)=>{const n=((e,t)=>{const n=Gt();let r=null;const a=n=>{r||L(!1),r=null,qt(0,(()=>Qt(e().onDragEnd,n,t,B.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&L(!1),qt(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&L(!1),qt(0,(()=>{const r=e().onBeforeDragStart;r&&r(Kt(t,n))}))},start:(a,o)=>{r&&L(!1);const i=Kt(a,o);r={mode:o,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add((()=>{qt(0,(()=>Qt(e().onDragStart,i,t,B.onDragStart)))}))},update:(a,o)=>{const i=se(o),s=le(o);r||L(!1);const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(a,r.lastCritical);l&&(r.lastCritical=a);const c=(d=i,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=i);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(p&&(r.lastCombine=s),!l&&!c&&!p)return;const h={...Kt(a,r.mode),combine:s,destination:i};n.add((()=>{qt(0,(()=>Qt(e().onDragUpdate,h,t,B.onDragUpdate)))}))},flush:()=>{r||L(!1),n.flush()},drop:a,abort:()=>{if(!r)return;const e={...Kt(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};a(e)}}})(e,t);return e=>t=>r=>{if("BEFORE_INITIAL_CAPTURE"===r.type)return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if("INITIAL_PUBLISH"===r.type){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),"FLUSH"===r.type)return void n.abort();const a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}};var Xt=e=>t=>n=>{if("DROP_ANIMATION_FINISHED"!==n.type)return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&L(!1),e.dispatch(Rt({completed:r.completed}))};var Zt=e=>{let t=null,n=null;return r=>a=>{if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"!==a.type)return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=k(window,[o])}))}};var Jt=e=>t=>n=>{if(t(n),"PUBLISH_WHILE_DRAGGING"!==n.type)return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Dt({reason:r.reason})))};const en=s.compose;var tn=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:a,autoScroller:o})=>{return(0,s.createStore)(ft,en((0,s.applyMiddleware)((i=n,()=>e=>t=>{"INITIAL_PUBLISH"===t.type&&i.dragging(),"DROP_ANIMATE"===t.type&&i.dropping(t.payload.completed.result.reason),"FLUSH"!==t.type&&"DROP_COMPLETE"!==t.type||i.resting(),e(t)}),(e=>()=>t=>n=>{"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>a=>{if("LIFT"!==a.type)return void r(a);const{id:o,clientSelection:i,movementMode:s}=a.payload,l=t();"DROP_ANIMATING"===l.phase&&n(Rt({completed:l.completed})),"IDLE"!==t().phase&&L(!1),n(_t()),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:p}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:i,movementMode:s,viewport:p}})})(e),zt,Xt,Zt,Jt,(e=>t=>n=>r=>{if((e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);const a=t.getState();return"DRAGGING"!==a.phase&&L(!1),void e.start(a)}n(r),e.scroll(t.getState())})(o),Ht,(e=>{let t=!1;return()=>n=>r=>{if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),Yt(r,a))));var i};var nn=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const a=W({x:t,y:e},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},rn=()=>{const e=document.documentElement;return e||L(!1),e},an=()=>{const e=rn();return nn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},on=({critical:e,scrollOptions:t,registry:n})=>{st();const r=(()=>{const e=Ut(),t=an(),n=e.y,r=e.x,a=rn(),o=a.clientWidth,i=a.clientHeight;return{frame:h({top:n,left:r,right:r+o,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:z,displacement:z}}}})(),a=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map((e=>e.callbacks.getDimensionAndWatchScroll(a,t))),s=n.draggable.getAllByType(e.draggable.type).map((e=>e.getDimension(a))),l={draggables:re(s),droppables:ne(i)};lt();return{dimensions:l,critical:e,viewport:r}};function sn(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var ln=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const a=()=>{r||(t.collectionStarting(),r=requestAnimationFrame((()=>{r=null,st();const{additions:a,removals:o,modified:i}=n,s=Object.keys(a).map((t=>e.draggable.getById(t).getDimension(z))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(i).map((t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(o),modified:l};n={additions:{},removals:{},modified:{}},lt(),t.publish(c)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],a()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{n||L(!1);const a=n.critical.draggable;"ADDITION"===t.type&&sn(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&sn(e,a,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,a)=>{e.droppable.exists(r)||L(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:(r,a)=>{n&&(e.droppable.exists(r)||L(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,a)=>{n&&(e.droppable.exists(r)||L(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:t=>{n&&L(!1);const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(a);return n={critical:i,unsubscribe:s},on({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return o},cn=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),un=e=>{window.scrollBy(e.x,e.y)};const dn=O((e=>ae(e).filter((e=>!!e.isEnabled&&!!e.frame))));var pn=({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>{const n=dn(t).find((t=>(t.frame||L(!1),Qe(t.frame.pageMarginBox)(e))))||null;return n})(e,n);return r};const hn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var fn=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;if(0===r)return 0;return(n-e)/r},gn=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const o=((e,t,n=()=>hn)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const a=1-fn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)})(e,t,a);return 0===o?0:r?Math.max(((e,t,n)=>{const r=n(),a=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,s=o,l=Date.now()-i;if(l>=o)return e;if(l<a)return 1;const c=fn({startOfRange:a,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(o,n,a),1):o},mn=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=((e,t,n=()=>hn)=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,o);return t[r.end]<t[r.start]?gn({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*gn({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})};const vn=Y((e=>0===e?0:e));var bn=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},s=mn({container:t,distanceToEdges:i,dragStartTime:e,axis:ve,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),l=mn({container:t,distanceToEdges:i,dragStartTime:e,axis:be,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),c=vn({x:l,y:s});if(H(c,z))return null;const u=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,a=t.width>e.width;return a||r?a&&r?null:{x:a?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:c});return u?H(u,z)?null:u:null};const yn=Y((e=>0===e?0:e>0?1:-1)),wn=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const a=U(t,r),o={x:e(a.x,n.x),y:e(a.y,n.y)};return H(o,z)?null:o}})(),xn=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=yn(n),o=wn({max:r,current:t,change:a});return!o||(0!==a.x&&0===o.x||0!==a.y&&0===o.y)},Sn=(e,t)=>xn({current:e.scroll.current,max:e.scroll.max,change:t}),En=(e,t)=>{const n=e.frame;return!!n&&xn({current:n.scroll.current,max:n.scroll.max,change:t})};var Cn=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const a=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=bn({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return i&&Sn(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(a)return void r(a)}const l=pn({center:i,destination:Ge(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const s=bn({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return s&&En(e,s)?s:null})({dragStartTime:t,droppable:l,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});c&&a(l.descriptor.id,c)},On=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(e,n)=>{if(!En(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&En(e,t)?wn({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const a=W(n,r);t(e.descriptor.id,a);return W(n,a)},a=(e,t,r)=>{if(!e)return r;if(!Sn(t,r))return r;const a=((e,t)=>{if(!Sn(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return wn({current:r,max:n,change:t})})(t,r);if(!a)return n(r),null;const o=W(r,a);n(o);return W(r,o)};return t=>{const n=t.scrollJumpRequest;if(!n)return;const o=Ge(t.impact);o||L(!1);const i=r(t.dimensions.droppables[o],n);if(!i)return;const s=t.viewport,l=a(t.isWindowScrollAllowed,s,i);l&&((t,n)=>{const r=U(t.current.client.selection,n);e({client:r})})(t,l)}},_n=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const a=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>hn})=>{const r=_(e),a=_(t);let o=null;const i=e=>{o||L(!1);const{shouldUseTimeDampening:t,dragStartTime:i}=o;Cn({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{st(),o&&L(!1);const t=Date.now();let r=!1;const a=()=>{r=!0};Cn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:n}),o={dragStartTime:t,shouldUseTimeDampening:r},lt(),r&&i(e)},stop:()=>{o&&(r.cancel(),a.cancel(),o=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=On({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}};const Rn="data-rfd",Dn=(()=>{const e=`${Rn}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),In=(()=>{const e=`${Rn}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),kn=(()=>{const e=`${Rn}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Tn={contextId:`${Rn}-scroll-container-context-id`},An=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");var Pn=e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Dn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e=`\n      transition: ${Nt.outOfTheWay};\n    `;return{selector:t(In.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(kn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:An(a,"always"),resting:An(a,"resting"),dragging:An(a,"dragging"),dropAnimating:An(a,"dropAnimating"),userCancel:An(a,"userCancel")}};var Ln="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;const Nn=()=>{const e=document.querySelector("head");return e||L(!1),e},jn=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Mn(e,t){return Array.from(e.querySelectorAll(t))}var $n=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Vn(e){return e instanceof $n(e).HTMLElement}function Fn(e,t){const n=`[${Dn.contextId}="${e}"]`,r=Mn(document,n);if(!r.length)return null;const a=r.find((e=>e.getAttribute(Dn.draggableId)===t));return a&&Vn(a)?a:null}function Bn(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||L(!1),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=a(e);return t||L(!1),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var zn=a().createContext(null),Un=()=>{const e=document.body;return e||L(!1),e};var Wn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const Hn=e=>`rfd-announcement-${e}`;let Gn=0;const qn={separator:"::"};var Kn="useId"in a()?function(e,t=qn){const n=a().useId();return u((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}:function(e,t=qn){return u((()=>`${e}${t.separator}${Gn++}`),[t.separator,e])};var Qn=a().createContext(null);function Yn(e){0}function Xn(e,t){Yn()}function Zn(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),t}function Jn(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const er=9,tr=13,nr=33,rr=34,ar=35,or=36,ir={[tr]:!0,[er]:!0};var sr=e=>{ir[e.keyCode]&&e.preventDefault()};var lr=(()=>{const e="visibilitychange";if("undefined"==typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const cr={type:"IDLE"};function ur({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:a,clientY:o}=e;if(0!==t)return;const i={x:a,y:o},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);"PENDING"!==s.type&&L(!1);const l=s.point;if(c=l,u=i,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(i);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void sr(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&L(!1),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:lr,fn:e}]}function dr(){}const pr={[rr]:!0,[nr]:!0,[or]:!0,[ar]:!0};function hr(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(pr[r.keyCode]?r.preventDefault():sr(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:lr,fn:n}]}const fr={type:"IDLE"};const gr=["input","button","textarea","select","option","optgroup","video","audio"];function mr(e,t){if(null==t)return!1;if(gr.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&mr(e,t.parentElement)}function vr(e,t){const n=t.target;return!!Vn(n)&&mr(e,n)}var br=e=>h(e.getBoundingClientRect()).center;const yr=(()=>{const e="matches";if("undefined"==typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function wr(e,t){return null==e?null:e[yr](t)?e:wr(e.parentElement,t)}function xr(e,t){return e.closest?e.closest(t):wr(e,t)}function Sr(e,t){const n=t.target;if(!((r=n)instanceof $n(r).Element))return null;var r;const a=function(e){return`[${Dn.contextId}="${e}"]`}(e),o=xr(n,a);return o&&Vn(o)?o:null}function Er(e){e.preventDefault()}function Cr({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function Or({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const a=n.draggable.findById(r);return!!a&&(!!a.options.isEnabled&&!!cn(t.getState(),r))}function _r({lockAPI:e,contextId:t,store:n,registry:r,draggableId:a,forceSensorStop:o,sourceEvent:i}){if(!Or({lockAPI:e,store:n,registry:r,draggableId:a}))return null;const s=r.draggable.getById(a),l=function(e,t){const n=`[${In.contextId}="${e}"]`,r=Mn(document,n).find((e=>e.getAttribute(In.id)===t));return r&&Vn(r)?r:null}(t,s.descriptor.id);if(!l)return null;if(i&&!s.options.canDragInteractiveElements&&vr(l,i))return null;const c=e.claim(o||I);let u="PRE_DRAG";function d(){return s.options.shouldRespectForcePress}function p(){return e.isActive(c)}const h=function(e,t){Cr({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function f(t){function r(){e.release(),u="COMPLETED"}function a(e,a={shouldBlockNextClick:!1}){if(t.cleanup(),a.shouldBlockNextClick){const e=k(window,[{eventName:"click",fn:Er,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(Dt({reason:e}))}return"PRE_DRAG"!==u&&(r(),L(!1)),n.dispatch(gt(t.liftActionArgs)),u="DRAGGING",{isActive:()=>Cr({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e),...t.actions}}return{isActive:()=>Cr({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:function(e){const t=_((e=>{h((()=>xt({client:e})))}));return{...f({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>h(St),moveRight:()=>h(Ct),moveDown:()=>h(Et),moveLeft:()=>h(Ot)};return f({liftActionArgs:{id:a,clientSelection:br(l),movementMode:"SNAP"},cleanup:I,actions:e})},abort:function(){Cr({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&e.release()}}}const Rr=[function(e){const t=(0,r.useRef)(cr),n=(0,r.useRef)(I),a=u((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,s,{sourceEvent:t});if(!a)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),p(a,o)}})),[e]),o=u((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),i=d((function(){n.current=k(window,[o,a],{passive:!1,capture:!0})}),[o,a]),s=d((()=>{"IDLE"!==t.current.type&&(t.current=cr,n.current(),i())}),[i]),l=d((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=d((function(){const e=ur({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=k(window,e,{capture:!0,passive:!1})}),[l,s]),p=d((function(e,n){"IDLE"!==t.current.type&&L(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Ln((function(){return i(),function(){n.current()}}),[i])},function(e){const t=(0,r.useRef)(dr),n=u((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:n});if(!o)return;n.preventDefault();let i=!0;const s=o.snapLift();function l(){i||L(!1),i=!1,t.current(),a()}t.current(),t.current=k(window,hr(s,l),{capture:!0,passive:!1})}})),[e]),a=d((function(){t.current=k(window,[n],{passive:!1,capture:!0})}),[n]);Ln((function(){return a(),function(){t.current()}}),[a])},function(e){const t=(0,r.useRef)(fr),n=(0,r.useRef)(I),a=d((function(){return t.current}),[]),o=d((function(e){t.current=e}),[]),i=u((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,l,{sourceEvent:t});if(!a)return;const o=t.touches[0],{clientX:i,clientY:s}=o,c={x:i,y:s};n.current(),f(a,c)}})),[e]),s=d((function(){n.current=k(window,[i],{capture:!0,passive:!1})}),[i]),l=d((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(fr),n.current(),s())}),[s,o]),c=d((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),p=d((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:a},r=k(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:a,clientY:o}=t.touches[0],i={x:a,y:o};t.preventDefault(),r.actions.move(i)}},{eventName:"touchend",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&L(!1);const a=t.touches[0];if(!a)return;if(!(a.force>=.15))return;const o=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return o?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}},{eventName:lr,fn:e}]}(t),e),o=k(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:lr,fn:e}]}(t),e);n.current=function(){r(),o()}}),[c,a,l]),h=d((function(){const e=a();"PENDING"!==e.type&&L(!1);const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,o]),f=d((function(e,t){"IDLE"!==a().type&&L(!1);const n=setTimeout(h,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),p()}),[p,a,o,h]);Ln((function(){return s(),function(){n.current();const e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(fr))}}),[a,s,o]),Ln((function(){return k(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function Dr({contextId:e,store:t,registry:n,customSensors:a,enableDefaultSensors:o}){const i=[...o?Rr:[],...a||[]],s=(0,r.useState)((()=>function(){let e=null;function t(){e||L(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&L(!1);const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],l=d((function(e,t){Jn(e)&&!Jn(t)&&s.tryAbandon()}),[s]);Ln((function(){let e=t.getState();return t.subscribe((()=>{const n=t.getState();l(e,n),e=n}))}),[s,t,l]),Ln((()=>s.tryAbandon),[s.tryAbandon]);const c=d((e=>Or({lockAPI:s,registry:n,store:t,draggableId:e})),[s,n,t]),p=d(((r,a,o)=>_r({lockAPI:s,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:a||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[e,s,n,t]),h=d((t=>function(e,t){const n=Sr(e,t);return n?n.getAttribute(Dn.draggableId):null}(e,t)),[e]),f=d((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),g=d((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch(_t()))}),[s,t]),m=d((()=>s.isClaimed()),[s]),v=u((()=>({canGetLock:c,tryGetLock:p,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:g,isLockClaimed:m})),[c,p,h,f,g,m]);Yn();for(let e=0;e<i.length;e++)i[e](v)}const Ir=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};a().version.startsWith("16")||a().version.startsWith("17")?n():(0,o.flushSync)(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),kr=e=>({...hn,...e.autoScrollerOptions,durationDampening:{...hn.durationDampening,...e.autoScrollerOptions}});function Tr(e){return e.current||L(!1),e.current}function Ar(e){const{contextId:t,setCallbacks:n,sensors:o,nonce:i,dragHandleUsageInstructions:c}=e,p=(0,r.useRef)(null);Xn();const h=Zn(e),f=d((()=>Ir(h.current)),[h]),g=d((()=>kr(h.current)),[h]),m=function(e){const t=u((()=>Hn(e)),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),R(e.style,Wn),Un().appendChild(e),function(){setTimeout((function(){const t=Un();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),d((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),v=function({contextId:e,text:t}){const n=Kn("hidden-text",{separator:"-"}),a=u((()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n})),[n,e]);return(0,r.useEffect)((function(){const e=document.createElement("div");return e.id=a,e.textContent=t,e.style.display="none",Un().appendChild(e),function(){const t=Un();t.contains(e)&&t.removeChild(e)}}),[a,t]),a}({contextId:t,text:c}),b=function(e,t){const n=u((()=>Pn(e)),[e]),a=(0,r.useRef)(null),o=(0,r.useRef)(null),i=d(O((e=>{const t=o.current;t||L(!1),t.textContent=e})),[]),s=d((e=>{const t=a.current;t||L(!1),t.textContent=e}),[]);Ln((()=>{(a.current||o.current)&&L(!1);const r=jn(t),l=jn(t);return a.current=r,o.current=l,r.setAttribute(`${Rn}-always`,e),l.setAttribute(`${Rn}-dynamic`,e),Nn().appendChild(r),Nn().appendChild(l),s(n.always),i(n.resting),()=>{const e=e=>{const t=e.current;t||L(!1),Nn().removeChild(t),e.current=null};e(a),e(o)}}),[t,s,i,n.always,n.resting,e]);const l=d((()=>i(n.dragging)),[i,n.dragging]),c=d((e=>{i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),p=d((()=>{o.current&&i(n.resting)}),[i,n.resting]);return u((()=>({dragging:l,dropping:c,resting:p})),[l,c,p])}(t,i),y=d((e=>{Tr(p).dispatch(e)}),[]),w=u((()=>(0,s.bindActionCreators)({publishWhileDragging:mt,updateDroppableScroll:bt,updateDroppableIsEnabled:yt,updateDroppableIsCombineEnabled:wt,collectionStarting:vt},y)),[y]),x=function(){const e=u(Bn,[]);return(0,r.useEffect)((()=>function(){a().version.startsWith("16")||a().version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()}),[e]),e}(),S=u((()=>ln(x,w)),[x,w]),E=u((()=>_n({scrollWindow:un,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:g,...(0,s.bindActionCreators)({move:xt},y)})),[S.scrollDroppable,y,g]),C=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),a=(0,r.useRef)(null),o=(0,r.useRef)(!1),i=d((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=d((function(t){const n=Fn(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=d((function(e,t){n.current===e&&(n.current=t)}),[]),c=d((function(){a.current||o.current&&(a.current=requestAnimationFrame((()=>{a.current=null;const e=n.current;e&&s(e)})))}),[s]),p=d((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(Dn.draggableId)===e&&(n.current=e)}),[]);return Ln((()=>(o.current=!0,function(){o.current=!1;const e=a.current;e&&cancelAnimationFrame(e)})),[]),u((()=>({register:i,tryRecordFocus:p,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[i,p,c,l])}(t),_=u((()=>tn({announce:m,autoScroller:E,dimensionMarshal:S,focusMarshal:C,getResponders:f,styleMarshal:b})),[m,E,S,C,f,b]);p.current=_;const D=d((()=>{const e=Tr(p);"IDLE"!==e.getState().phase&&e.dispatch(_t())}),[]),I=d((()=>{const e=Tr(p).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(u((()=>({isDragging:I,tryAbort:D})),[I,D]));const k=d((e=>cn(Tr(p).getState(),e)),[]),T=d((()=>Ke(Tr(p).getState())),[]),A=u((()=>({marshal:S,focus:C,contextId:t,canLift:k,isMovementAllowed:T,dragHandleUsageInstructionsId:v,registry:x})),[t,S,v,C,k,T,x]);return Dr({contextId:t,store:_,registry:x,customSensors:o||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((()=>D),[D]),a().createElement(Qn.Provider,{value:A},a().createElement(l.Provider,{context:zn,store:_},e.children))}let Pr=0;var Lr="useId"in a()?function(){return a().useId()}:function(){return u((()=>""+Pr++),[])};function Nr(e){const t=Lr(),n=e.dragHandleUsageInstructions||B.dragHandleUsageInstructions;return a().createElement(N,null,(r=>a().createElement(Ar,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const jr=5e3,Mr=4500,$r=(e,t)=>t?Nt.drop(t.duration):e?Nt.snap:Nt.fluid,Vr=(e,t)=>{if(e)return t?Tt.drop:Tt.combining};function Fr(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:a}=e,o=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(a),l=s?$t(n,o):Mt(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:$r(i,a),transform:l,opacity:Vr(o,s),zIndex:s?Mr:jr,pointerEvents:"none"}}(e):{transform:Mt((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function Br(e){const t=Kn("draggable"),{descriptor:n,registry:a,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}=e,c=u((()=>({canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l})),[i,l,s]),p=d((e=>{const t=o();return t||L(!1),function(e,t,n=z){const r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=x(a,r),i=w(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)}),[n,o]),h=u((()=>({uniqueId:t,descriptor:n,options:c,getDimension:p})),[n,p,c,t]),f=(0,r.useRef)(h),g=(0,r.useRef)(!0);Ln((()=>(a.draggable.register(f.current),()=>a.draggable.unregister(f.current))),[a.draggable]),Ln((()=>{if(g.current)return void(g.current=!1);const e=f.current;f.current=h,a.draggable.update(h,e)}),[h,a.draggable])}var zr=a().createContext(null);function Ur(e){const t=(0,r.useContext)(e);return t||L(!1),t}function Wr(e){e.preventDefault()}var Hr=e=>{const t=(0,r.useRef)(null),n=d(((e=null)=>{t.current=e}),[]),i=d((()=>t.current),[]),{contextId:s,dragHandleUsageInstructionsId:l,registry:c}=Ur(Qn),{type:p,droppableId:h}=Ur(zr),f=u((()=>({id:e.draggableId,index:e.index,type:p,droppableId:h})),[e.draggableId,e.index,p,h]),{children:g,draggableId:m,isEnabled:v,shouldRespectForcePress:b,canDragInteractiveElements:y,isClone:w,mapped:x,dropAnimationFinished:S}=e;if(Xn(),Yn(),!w){Br(u((()=>({descriptor:f,registry:c,getDraggableRef:i,canDragInteractiveElements:y,shouldRespectForcePress:b,isEnabled:v})),[f,c,i,y,b,v]))}const E=u((()=>v?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Wr}:null),[s,l,m,v]),C=d((e=>{"DRAGGING"===x.type&&x.dropping&&"transform"===e.propertyName&&(a().version.startsWith("16")||a().version.startsWith("17")?S():(0,o.flushSync)(S))}),[S,x]),O=u((()=>{const e=Fr(x),t="DRAGGING"===x.type&&x.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:E}}),[s,E,m,x,C,n]),_=u((()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}})),[f.droppableId,f.id,f.index,f.type]);return a().createElement(a().Fragment,null,g(O,x.snapshot,_))},Gr=(e,t)=>e===t,qr=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Kr(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Qr={mapped:{type:"SECONDARY",offset:z,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Kr(null)}};const Yr={dropAnimationFinished:It},Xr=(0,l.connect)((()=>{const e=function(){const e=O(((e,t)=>({x:e,y:t}))),t=O(((e,t,n=null,r=null,a=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}))),n=O(((e,n,r,a,o=null,i=null,s=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,a,o,i,null)}})));return(r,a)=>{if(Jn(r)){if(r.critical.draggable.id!==a.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],s=Ge(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,a.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==a.draggableId)return null;const n=a.isClone,o=r.dimensions.draggables[a.draggableId],i=e.result,s=i.mode,l=qr(i),c=(e=>e.combine?e.combine.draggableId:null)(i),u={duration:r.dropDuration,curve:kt,moveTo:r.newHomeClientOffset,opacity:c?Tt.drop:null,scale:c?At.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=O(((e,t)=>({x:e,y:t}))),t=O(Kr),n=O(((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}))),r=e=>e?n(z,e,!0):null,a=(t,a,o,i)=>{const s=o.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=le(o),u=c&&c.draggableId===t?a:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const a=G(i.displacedBy.point),s=e(a.x,a.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,p=e(d.x,d.y);return n(p,u,s.shouldAnimate)};return(e,t)=>{if(Jn(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||Qr}),Yr,null,{context:zn,areStatePropsEqual:Gr})(Hr);var Zr=Xr;function Jr(e){return Ur(zr).isUsingCloneFor!==e.draggableId||e.isClone?a().createElement(Zr,e):null}function ea(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return a().createElement(Jr,R({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ta=e=>t=>e===t,na=ta("scroll"),ra=ta("auto"),aa=(ta("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),oa=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return aa(n,na)||aa(n,ra)},ia=e=>null==e||e===document.body||e===document.documentElement?null:oa(e)?e:ia(e.parentElement);var sa=e=>({x:e.scrollLeft,y:e.scrollTop});const la=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||la(e.parentElement)};var ca=({ref:e,descriptor:t,env:n,windowScroll:r,direction:a,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:s})=>{const l=n.closestScrollable,c=((e,t)=>{const n=S(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,s=f({top:r,right:i,bottom:o,left:a},n.border);return v({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(e,l),u=w(c,r),d=(()=>{if(!l)return null;const e=S(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:w(e,r),scroll:sa(l),scrollSize:t,shouldClipSubject:s}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:o,page:i,closest:s})=>{const l=(()=>{if(!s)return null;const{scrollSize:e,client:t}=s,n=nn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:z,displacement:z}}}})(),c="vertical"===a?ve:be;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:o,page:i,frame:l,subject:ee({page:i,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:a,client:c,page:u,closest:d});return p};const ua={passive:!1},da={passive:!0};var pa=e=>e.shouldPublishImmediately?ua:da;const ha=e=>e&&e.env.closestScrollable||null;function fa(e){const t=(0,r.useRef)(null),n=Ur(Qn),a=Kn("droppable"),{registry:o,marshal:i}=n,s=Zn(e),l=u((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),p=u((()=>O(((e,n)=>{t.current||L(!1);const r={x:e,y:n};i.updateDroppableScroll(l.id,r)}))),[l.id,i]),h=d((()=>{const e=t.current;return e&&e.env.closestScrollable?sa(e.env.closestScrollable):z}),[]),f=d((()=>{const e=h();p(e.x,e.y)}),[h,p]),g=u((()=>_(f)),[f]),m=d((()=>{const e=t.current,n=ha(e);e&&n||L(!1);e.scrollOptions.shouldPublishImmediately?f():g()}),[g,f]),v=d(((e,r)=>{t.current&&L(!1);const a=s.current,o=a.getDroppableRef();o||L(!1);const i=(e=>({closestScrollable:ia(e),isFixedOnPage:la(e)}))(o),c={ref:o,descriptor:l,env:i,scrollOptions:r};t.current=c;const u=ca({ref:o,descriptor:l,env:i,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=i.closestScrollable;return d&&(d.setAttribute(Tn.contextId,n.contextId),d.addEventListener("scroll",m,pa(c.scrollOptions))),u}),[n.contextId,l,m,s]),b=d((()=>{const e=t.current,n=ha(e);return e&&n||L(!1),sa(n)}),[]),y=d((()=>{const e=t.current;e||L(!1);const n=ha(e);t.current=null,n&&(g.cancel(),n.removeAttribute(Tn.contextId),n.removeEventListener("scroll",m,pa(e.scrollOptions)))}),[m,g]),w=d((e=>{const n=t.current;n||L(!1);const r=ha(n);r||L(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),x=u((()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:b,dragStopped:y,scroll:w})),[y,v,b,w]),S=u((()=>({uniqueId:a,descriptor:l,callbacks:x})),[x,l,a]);Ln((()=>(c.current=S.descriptor,o.droppable.register(S),()=>{t.current&&y(),o.droppable.unregister(S)})),[x,l,y,S,i,o.droppable]),Ln((()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),Ln((()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}function ga(){}const ma={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},va=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?ma:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Nt.placeholder:null}};var ba=a().memo((e=>{const t=(0,r.useRef)(null),n=d((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:o,onTransitionEnd:i,onClose:s,contextId:l}=e,[c,u]=(0,r.useState)("open"===e.animate);(0,r.useEffect)((()=>c?"open"!==o?(n(),u(!1),ga):t.current?ga:(t.current=setTimeout((()=>{t.current=null,u(!1)})),n):ga),[o,c,n]);const p=d((e=>{"height"===e.propertyName&&(i(),"close"===o&&s())}),[o,s,i]),h=va({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return a().createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})}));class ya extends a().PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}var wa=e=>{const t=(0,r.useContext)(Qn);t||L(!1);const{contextId:n,isMovementAllowed:o}=t,s=(0,r.useRef)(null),l=(0,r.useRef)(null),{children:c,droppableId:p,type:h,mode:f,direction:g,ignoreContainerClipping:m,isDropDisabled:v,isCombineEnabled:b,snapshot:y,useClone:w,updateViewportMaxScroll:x,getContainerForClone:S}=e,E=d((()=>s.current),[]),C=d(((e=null)=>{s.current=e}),[]),O=(d((()=>l.current),[]),d(((e=null)=>{l.current=e}),[]));Xn();const _=d((()=>{o()&&x({maxScroll:an()})}),[o,x]);fa({droppableId:p,type:h,mode:f,direction:g,isDropDisabled:v,isCombineEnabled:b,ignoreContainerClipping:m,getDroppableRef:E});const R=u((()=>a().createElement(ya,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(({onClose:e,data:t,animate:r})=>a().createElement(ba,{placeholder:t,onClose:e,innerRef:O,animate:r,contextId:n,onTransitionEnd:_})))),[n,_,e.placeholder,e.shouldAnimatePlaceholder,O]),D=u((()=>({innerRef:C,placeholder:R,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":n}})),[n,p,R,C]),I=w?w.dragging.draggableId:null,k=u((()=>({droppableId:p,type:h,isUsingCloneFor:I})),[p,I,h]);return a().createElement(zr.Provider,{value:k},c(D,y),function(){if(!w)return null;const{dragging:e,render:t}=w,n=a().createElement(Jr,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return i().createPortal(n,S())}())};const xa={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||L(!1),document.body}},Sa=e=>{let t,n={...e};for(t in xa)void 0===e[t]&&(n={...n,[t]:xa[t]});return n},Ea=(e,t)=>e===t.droppable.type,Ca=(e,t)=>t.draggables[e.draggable.id],Oa={updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})};var _a=(0,l.connect)((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=O((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=O(((r,a,o,i,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!i)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,a)=>{const o=Sa(a),i=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(Jn(n)){const e=n.critical;if(!Ea(s,e))return t;const a=Ca(e,n.dimensions),o=Ge(n.impact)===i;return r(i,l,o,o,a,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!Ea(s,e.critical))return t;const a=Ca(e.critical,n.dimensions);return r(i,l,qr(e.result)===i,Ge(e.impact)===i,a,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!Ea(s,r.critical))return t;const a=Ge(r.impact)===i,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===i;return a?o?e:t:l?e:t}return t}}),Oa,((e,t,n)=>({...Sa(n),...e,...t})),{context:zn,areStatePropsEqual:Gr})(wa)},7842:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",f="[object Promise]",g="[object RegExp]",m="[object Set]",v="[object String]",b="[object Symbol]",y="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",S=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[o]=C[i]=C[w]=C[s]=C[x]=C[l]=C[c]=C[u]=C[d]=C[p]=C[h]=C[g]=C[m]=C[v]=C[y]=!1;var O="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,_="object"==typeof self&&self&&self.Object===Object&&self,R=O||_||Function("return this")(),D=t&&!t.nodeType&&t,I=D&&e&&!e.nodeType&&e,k=I&&I.exports===D,T=k&&O.process,A=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),P=A&&A.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var M,$,V,F=Array.prototype,B=Function.prototype,z=Object.prototype,U=R["__core-js_shared__"],W=B.toString,H=z.hasOwnProperty,G=(M=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",q=z.toString,K=RegExp("^"+W.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=k?R.Buffer:void 0,Y=R.Symbol,X=R.Uint8Array,Z=z.propertyIsEnumerable,J=F.splice,ee=Y?Y.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=Q?Q.isBuffer:void 0,re=($=Object.keys,V=Object,function(e){return $(V(e))}),ae=Ae(R,"DataView"),oe=Ae(R,"Map"),ie=Ae(R,"Promise"),se=Ae(R,"Set"),le=Ae(R,"WeakMap"),ce=Ae(Object,"create"),ue=je(ae),de=je(oe),pe=je(ie),he=je(se),fe=je(le),ge=Y?Y.prototype:void 0,me=ge?ge.valueOf:void 0;function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function xe(e){var t=this.__data__=new be(e);this.size=t.size}function Se(e,t){var n=Ve(e),r=!n&&$e(e),a=!n&&!r&&Fe(e),o=!n&&!r&&!a&&He(e),i=n||r||a||o,s=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!H.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ne(c,l))||s.push(c);return s}function Ee(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=H.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var a=q.call(e);r&&(t?e[ee]=n:delete e[ee]);return a}(e):function(e){return q.call(e)}(e)}function Oe(e){return We(e)&&Ce(e)==o}function _e(e,t,n,r,a){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!=e&&t!=t:function(e,t,n,r,a,u){var f=Ve(e),y=Ve(t),S=f?i:Le(e),E=y?i:Le(t),C=(S=S==o?h:S)==h,O=(E=E==o?h:E)==h,_=S==E;if(_&&Fe(e)){if(!Fe(t))return!1;f=!0,C=!1}if(_&&!C)return u||(u=new xe),f||He(e)?Ie(e,t,n,r,a,u):function(e,t,n,r,a,o,i){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!o(new X(e),new X(t)));case s:case l:case p:return Me(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case d:var u=N;case m:var h=1&r;if(u||(u=j),e.size!=t.size&&!h)return!1;var f=i.get(e);if(f)return f==t;r|=2,i.set(e,t);var y=Ie(u(e),u(t),r,a,o,i);return i.delete(e),y;case b:if(me)return me.call(e)==me.call(t)}return!1}(e,t,S,n,r,a,u);if(!(1&n)){var R=C&&H.call(e,"__wrapped__"),D=O&&H.call(t,"__wrapped__");if(R||D){var I=R?e.value():e,k=D?t.value():t;return u||(u=new xe),a(I,k,n,r,u)}}if(!_)return!1;return u||(u=new xe),function(e,t,n,r,a,o){var i=1&n,s=ke(e),l=s.length,c=ke(t),u=c.length;if(l!=u&&!i)return!1;var d=l;for(;d--;){var p=s[d];if(!(i?p in t:H.call(t,p)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var f=!0;o.set(e,t),o.set(t,e);var g=i;for(;++d<l;){var m=e[p=s[d]],v=t[p];if(r)var b=i?r(v,m,p,t,e,o):r(m,v,p,e,t,o);if(!(void 0===b?m===v||a(m,v,n,r,o):b)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,u)}(e,t,n,r,_e,a))}function Re(e){return!(!Ue(e)||function(e){return!!G&&G in e}(e))&&(Be(e)?K:S).test(je(e))}function De(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||z,t!==r)return re(e);var t,n,r,a=[];for(var o in Object(e))H.call(e,o)&&"constructor"!=o&&a.push(o);return a}function Ie(e,t,n,r,a,o){var i=1&n,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,p=2&n?new we:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var h=e[u],f=t[u];if(r)var g=i?r(f,h,u,t,e,o):r(h,f,u,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!L(t,(function(e,t){if(i=t,!p.has(i)&&(h===e||a(h,e,n,r,o)))return p.push(t);var i}))){d=!1;break}}else if(h!==f&&!a(h,f,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ke(e){return function(e,t,n){var r=t(e);return Ve(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Ge,Pe)}function Te(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}ve.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return H.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:H.call(t,e)},ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?r:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},be.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},be.prototype.has=function(e){return Ee(this.__data__,e)>-1},be.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(oe||be),string:new ve}},ye.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Te(this,e).get(e)},ye.prototype.has=function(e){return Te(this,e).has(e)},ye.prototype.set=function(e,t){var n=Te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,r),this},we.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new be,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Pe=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}(te(e),(function(t){return Z.call(e,t)})))}:function(){return[]},Le=Ce;function Ne(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function je(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(ae&&Le(new ae(new ArrayBuffer(1)))!=x||oe&&Le(new oe)!=d||ie&&Le(ie.resolve())!=f||se&&Le(new se)!=m||le&&Le(new le)!=y)&&(Le=function(e){var t=Ce(e),n=t==h?e.constructor:void 0,r=n?je(n):"";if(r)switch(r){case ue:return x;case de:return d;case pe:return f;case he:return m;case fe:return y}return t});var $e=Oe(function(){return arguments}())?Oe:function(e){return We(e)&&H.call(e,"callee")&&!Z.call(e,"callee")},Ve=Array.isArray;var Fe=ne||function(){return!1};function Be(e){if(!Ue(e))return!1;var t=Ce(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return null!=e&&"object"==typeof e}var He=P?function(e){return function(t){return e(t)}}(P):function(e){return We(e)&&ze(e.length)&&!!C[Ce(e)]};function Ge(e){return null!=(t=e)&&ze(t.length)&&!Be(t)?Se(e):De(e);var t}e.exports=function(e,t){return _e(e,t)}},5162:(e,t,n)=>{var r=n(1433).Symbol;e.exports=r},7148:(e,t,n)=>{var r=n(5162),a=n(7903),o=n(1738),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},8812:(e,t,n)=>{var r=n(2140),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},2999:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7903:(e,t,n)=>{var r=n(5162),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},1738:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},1433:(e,t,n)=>{var r=n(2999),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},2140:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},6177:(e,t,n)=>{var r=n(8953),a=n(3664),o=n(5378),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,h,f=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-f>=u}function w(){var e=a();if(y(e))return x(e);p=setTimeout(w,function(e){var n=t-(e-h);return m?s(n,u-(e-f)):n}(e))}function x(e){return p=void 0,v&&l?b(e):(l=c=void 0,d)}function S(){var e=a(),n=y(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return function(e){return f=e,p=setTimeout(w,t),g?b(e):d}(h);if(m)return clearTimeout(p),p=setTimeout(w,t),b(h)}return void 0===p&&(p=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,u=(m="maxWait"in n)?i(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=h=c=p=void 0},S.flush=function(){return void 0===p?d:x(a())},S}},8953:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2934:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},5414:(e,t,n)=>{var r=n(7148),a=n(2934);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},3664:(e,t,n)=>{var r=n(1433);e.exports=function(){return r.Date.now()}},5378:(e,t,n)=>{var r=n(8812),a=n(8953),o=n(5414),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},362:(e,t,n)=>{"use strict";var r=n(6441);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2688:(e,t,n)=>{e.exports=n(362)()},6441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5959)),a=p(n(2688)),o=p(n(8398)),i=p(n(8262)),s=n(2837),l=n(402),c=n(6732),u=p(n(1060)),d=p(n(7988));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),g(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),g(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,o]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),g(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:c,defaultClassNameDragged:d,position:p,positionOffset:h,scale:g,...m}=this.props;let v={},b=null;const y=!Boolean(p)||this.state.dragging,w=p||a,x={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?b=(0,s.createSVGTransform)(x,h):v=(0,s.createCSSTransform)(x,h);const S=(0,i.default)(n.props.className||"",o,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,f({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:{...n.props.style,...v},transform:b}))}}t.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...u.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5959)),a=u(n(2688)),o=u(n(8398)),i=n(2837),s=n(402),l=n(6732),c=u(n(7988));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let g=f;class m extends r.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,s.getControlPosition)(e,r,this);if(null==a)return;const{x:o,y:l}=a,u=(0,s.createCoreData)(this,o,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,i.addEvent)(n,g.move,this.handleDrag),(0,i.addEvent)(n,g.stop,this.handleDragStop))})),p(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);(0,c.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),p(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(o.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,c.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(o.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(o.ownerDocument,g.stop,this.handleDragStop))})),p(this,"onMouseDown",(e=>(g=f,this.handleDragStart(e)))),p(this,"onMouseUp",(e=>(g=f,this.handleDragStop(e)))),p(this,"onTouchStart",(e=>(g=h,this.handleDragStart(e)))),p(this,"onTouchEnd",(e=>(g=h,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,h.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,h.move,this.handleDrag),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(t,h.stop,this.handleDragStop),(0,i.removeEvent)(e,h.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,p(m,"displayName","DraggableCore"),p(m,"propTypes",{allowAnyClick:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(m,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},8230:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(9111);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(6732),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(7350));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let i="";function s(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[i])&&e[i](t)}function l(e,t,n){let{x:r,y:a}=e,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(a(t,n[e])in r)return n[e];return""}function a(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),i=o(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=o(e);if("string"==typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:e.querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const o=n,l=t.getComputedStyle(s),c=t.getComputedStyle(o);i={left:-s.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,a.innerWidth)(o)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,a.innerHeight)(o)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const i=o(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(6732),a=n(2837);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},8262:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{clsx:()=>a,default:()=>o});const o=a},8100:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(5959)),o=p(n(2688)),i=n(8230),s=n(936),l=n(414),c=n(906),u=n(7222),d=p(n(7256));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,e);var t,n,r,o=v(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=o.call.apply(o,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),w(b(e),"elementRef",a.default.createRef()),w(b(e),"onDragStart",(function(t,n){var r=n.node,a=e.props,o=a.onDragStart,i=a.transformScale;if(o){var s={top:0,left:0},l=r.offsetParent;if(l){var u=l.getBoundingClientRect(),d=r.getBoundingClientRect(),p=d.left/i,h=u.left/i,f=d.top/i,g=u.top/i;s.left=p-h+l.scrollLeft,s.top=f-g+l.scrollTop,e.setState({dragging:s});var m=(0,c.calcXY)(e.getPositionParams(),s.top,s.left,e.props.w,e.props.h),v=m.x,y=m.y;return o.call(b(e),e.props.i,v,y,{e:t,node:r,newPosition:s})}}})),w(b(e),"onDrag",(function(t,n){var r=n.node,a=n.deltaX,o=n.deltaY,i=e.props.onDrag;if(i){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var s=e.state.dragging.top+o,l=e.state.dragging.left+a,u=e.props,d=u.isBounded,p=u.i,h=u.w,f=u.h,g=u.containerWidth,m=e.getPositionParams();if(d){var v=r.offsetParent;if(v){var y=e.props,w=y.margin,x=y.rowHeight,S=v.clientHeight-(0,c.calcGridItemWHPx)(f,x,w[1]);s=(0,c.clamp)(s,0,S);var E=(0,c.calcGridColWidth)(m),C=g-(0,c.calcGridItemWHPx)(h,E,w[0]);l=(0,c.clamp)(l,0,C)}}var O={top:s,left:l};e.setState({dragging:O});var _=(0,c.calcXY)(m,s,l,h,f),R=_.x,D=_.y;return i.call(b(e),p,R,D,{e:t,node:r,newPosition:O})}})),w(b(e),"onDragStop",(function(t,n){var r=n.node,a=e.props.onDragStop;if(a){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=e.props,i=o.w,s=o.h,l=o.i,u=e.state.dragging,d=u.left,p=u.top,h={top:p,left:d};e.setState({dragging:null});var f=(0,c.calcXY)(e.getPositionParams(),p,d,i,s),g=f.x,m=f.y;return a.call(b(e),l,g,m,{e:t,node:r,newPosition:h})}})),w(b(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),w(b(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),w(b(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=u,n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,c.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=this.elementRef.current;if(n){var r=e.droppingPosition||{left:0,top:0},a=this.state.dragging,o=a&&t.left!==r.left||t.top!==r.top;if(a){if(o){var i=t.left-a.left,s=t.top-a.top;this.onDrag(t.e,{node:n,deltaX:i,deltaY:s})}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,a=n.containerWidth;return n.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),r&&(t.left=(0,l.perc)(e.left/a),t.width=(0,l.perc)(e.width/a))),t}},{key:"mixinDraggable",value:function(e,t){return a.default.createElement(i.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,n){var r=this.props,o=r.cols,i=r.x,l=r.minW,u=r.minH,d=r.maxW,p=r.maxH,h=r.transformScale,f=r.resizeHandles,g=r.resizeHandle,m=this.getPositionParams(),v=(0,c.calcGridItemPosition)(m,0,0,o-i,0).width,b=(0,c.calcGridItemPosition)(m,0,0,l,u),y=(0,c.calcGridItemPosition)(m,0,0,d,p),w=[b.width,b.height],x=[Math.min(y.width,v),Math.min(y.height,1/0)];return a.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:w,maxConstraints:x,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:h,resizeHandles:f,handle:g},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,a=t.size,o=this.props[n];if(o){var i=this.props,s=i.cols,l=i.x,u=i.y,d=i.i,p=i.maxH,h=i.minH,f=this.props,g=f.minW,m=f.maxW,v=(0,c.calcWH)(this.getPositionParams(),a.width,a.height,l,u),b=v.w,y=v.h;g=Math.max(g,1),m=Math.min(m,s-l),b=(0,c.clamp)(b,g,m),y=(0,c.clamp)(y,h,p),this.setState({resizing:"onResizeStop"===n?null:a}),o.call(this,d,b,y,{e,node:r,size:a})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.w,o=e.h,i=e.isDraggable,s=e.isResizable,l=e.droppingPosition,u=e.useCSSTransforms,p=(0,c.calcGridItemPosition)(this.getPositionParams(),t,n,r,o,this.state),h=a.default.Children.only(this.props.children),g=a.default.cloneElement(h,{ref:this.elementRef,className:(0,d.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:u}),style:f(f(f({},this.props.style),h.props.style),this.createStyle(p))});return g=this.mixinResizable(g,p,s),g=this.mixinDraggable(g,i)}}],n&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a.default.Component);t.default=x,w(x,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),w(x,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9482:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(5959)),o=d(n(7842)),i=d(n(7256)),s=n(414),l=n(906),c=d(n(8100)),u=d(n(7222));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(this,n)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O="react-grid-layout",_=!1;try{_=/firefox/i.test(navigator.userAgent)}catch(e){}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(d,e);var t,n,r,u=x(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(S(e=u.call.apply(u,[this].concat(n))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(e.props.layout,e.props.children,e.props.cols,(0,s.compactType)(e.props),e.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),C(S(e),"dragEnterCounter",0),C(S(e),"onDragStart",(function(t,n,r,a){var o=a.e,i=a.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);if(c)return e.setState({oldDragItem:(0,s.cloneLayoutItem)(c),oldLayout:l}),e.props.onDragStart(l,c,c,null,o,i)})),C(S(e),"onDrag",(function(t,n,r,a){var o=a.e,i=a.node,l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.allowOverlap,h=u.preventCollision,f=(0,s.getLayoutItem)(c,t);if(f){var g={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};c=(0,s.moveElement)(c,f,n,r,!0,h,(0,s.compactType)(e.props),d,p),e.props.onDrag(c,l,f,g,o,i),e.setState({layout:p?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),activeDrag:g})}})),C(S(e),"onDragStop",(function(t,n,r,a){var o=a.e,i=a.node;if(e.state.activeDrag){var l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.preventCollision,h=u.allowOverlap,f=(0,s.getLayoutItem)(c,t);if(f){c=(0,s.moveElement)(c,f,n,r,!0,p,(0,s.compactType)(e.props),d,h),e.props.onDragStop(c,l,f,null,o,i);var g=h?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),m=e.state.oldLayout;e.setState({activeDrag:null,layout:g,oldDragItem:null,oldLayout:null}),e.onLayoutMaybeChanged(g,m)}}})),C(S(e),"onResizeStart",(function(t,n,r,a){var o=a.e,i=a.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);c&&(e.setState({oldResizeItem:(0,s.cloneLayoutItem)(c),oldLayout:e.state.layout}),e.props.onResizeStart(l,c,c,null,o,i))})),C(S(e),"onResize",(function(t,n,r,a){var o=a.e,i=a.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,h=d.preventCollision,f=d.allowOverlap,v=(0,s.withLayoutItem)(c,t,(function(e){var t;if(h&&!f){var a=(0,s.getAllCollisions)(c,g(g({},e),{},{w:n,h:r})).filter((function(t){return t.i!==e.i}));if(t=a.length>0){var o=1/0,i=1/0;a.forEach((function(t){t.x>e.x&&(o=Math.min(o,t.x)),t.y>e.y&&(i=Math.min(i,t.y))})),Number.isFinite(o)&&(e.w=o-e.x),Number.isFinite(i)&&(e.h=i-e.y)}}return t||(e.w=n,e.h=r),e})),b=m(v,2),y=b[0],w=b[1];if(w){var x={w:w.w,h:w.h,x:w.x,y:w.y,static:!0,i:t};e.props.onResize(y,u,w,x,o,i),e.setState({layout:f?y:(0,s.compact)(y,(0,s.compactType)(e.props),p),activeDrag:x})}})),C(S(e),"onResizeStop",(function(t,n,r,a){var o=a.e,i=a.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,h=d.allowOverlap,f=(0,s.getLayoutItem)(c,t);e.props.onResizeStop(c,u,f,null,o,i);var g=h?c:(0,s.compact)(c,(0,s.compactType)(e.props),p),m=e.state.oldLayout;e.setState({activeDrag:null,layout:g,oldResizeItem:null,oldLayout:null}),e.onLayoutMaybeChanged(g,m)})),C(S(e),"onDragOver",(function(t){var n;if(t.preventDefault(),t.stopPropagation(),_&&(null===(n=t.nativeEvent.target)||void 0===n||!n.classList.contains(O)))return!1;var r=e.props,o=r.droppingItem,i=r.onDropDragOver,s=r.margin,c=r.cols,u=r.rowHeight,d=r.maxRows,p=r.width,f=r.containerPadding,m=r.transformScale,v=null==i?void 0:i(t);if(!1===v)return e.state.droppingDOMNode&&e.removeDroppingPlaceholder(),!1;var b=g(g({},o),v),y=e.state.layout,w=t.nativeEvent,x=w.layerX,S=w.layerY,E={left:x/m,top:S/m,e:t};if(e.state.droppingDOMNode){if(e.state.droppingPosition){var C=e.state.droppingPosition,R=C.left,D=C.top;(R!=x||D!=S)&&e.setState({droppingPosition:E})}}else{var I={cols:c,margin:s,maxRows:d,rowHeight:u,containerWidth:p,containerPadding:f||s},k=(0,l.calcXY)(I,S,x,b.w,b.h);e.setState({droppingDOMNode:a.createElement("div",{key:b.i}),droppingPosition:E,layout:[].concat(h(y),[g(g({},b),{},{x:k.x,y:k.y,static:!1,isDraggable:!0})])})}})),C(S(e),"removeDroppingPlaceholder",(function(){var t=e.props,n=t.droppingItem,r=t.cols,a=e.state.layout,o=(0,s.compact)(a.filter((function(e){return e.i!==n.i})),(0,s.compactType)(e.props),r);e.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),C(S(e),"onDragLeave",(function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter--,0===e.dragEnterCounter&&e.removeDroppingPlaceholder()})),C(S(e),"onDragEnter",(function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter++})),C(S(e),"onDrop",(function(t){t.preventDefault(),t.stopPropagation();var n=e.props.droppingItem,r=e.state.layout,a=r.find((function(e){return e.i===n.i}));e.dragEnterCounter=0,e.removeDroppingPlaceholder(),e.props.onDrop(r,a,t)})),e}return t=d,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,o.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,s.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,s.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,s.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,s.fastRGLPropsEqual)(this.props,e,o.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,s.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,o.default)(t,e)||this.props.onLayoutChange(e)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,i=t.containerPadding,s=t.rowHeight,l=t.maxRows,u=t.useCSSTransforms,d=t.transformScale;return a.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:i||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:d},a.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,s.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var r=this.props,o=r.width,i=r.cols,l=r.margin,u=r.containerPadding,d=r.rowHeight,p=r.maxRows,h=r.isDraggable,f=r.isResizable,g=r.isBounded,m=r.useCSSTransforms,v=r.transformScale,b=r.draggableCancel,y=r.draggableHandle,w=r.resizeHandles,x=r.resizeHandle,S=this.state,E=S.mounted,C=S.droppingPosition,O="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&h,_="boolean"==typeof n.isResizable?n.isResizable:!n.static&&f,R=n.resizeHandles||w,D=O&&g&&!1!==n.isBounded;return a.createElement(c.default,{containerWidth:o,cols:i,margin:l,containerPadding:u||l,maxRows:p,rowHeight:d,cancel:b,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:O,isResizable:_,isBounded:D,useCSSTransforms:m&&E,usePercentages:!E,transformScale:v,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?C:void 0,resizeHandles:R,resizeHandle:x},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.isDroppable,l=t.innerRef,c=(0,i.default)(O,n),u=g({height:this.containerHeight()},r);return a.createElement("div",{ref:l,className:c,style:u,onDrop:o?this.onDrop:s.noop,onDragLeave:o?this.onDragLeave:s.noop,onDragEnter:o?this.onDragEnter:s.noop,onDragOver:o?this.onDragOver:s.noop},a.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component);t.default=R,C(R,"displayName","ReactGridLayout"),C(R,"propTypes",u.default),C(R,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},7222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=o(n(2688)),a=o(n(5959));function o(e){return e&&e.__esModule?e:{default:e}}var i=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=i;var s=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(414).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:i,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};a.default.Children.forEach(n,(function(e){if(null!=(null==e?void 0:e.key)){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}}))},innerRef:r.default.any};t.default=l},4636:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(5959)),o=d(n(2688)),i=d(n(7842)),s=n(414),l=n(544),c=d(n(9482)),u=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return Object.prototype.toString.call(e)};function C(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(d,e);var t,n,r,o=y(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=o.call.apply(o,[this].concat(n))),"state",e.generateInitialState()),S(w(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,m(m({},e.props.layouts),{},S({},e.state.breakpoint,t)))})),e}return t=d,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,i.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,a=e.cols,o=(0,l.getBreakpointFromWidth)(n,t),i=(0,l.getColsFromBreakpoint)(o,a),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,i,s),breakpoint:o,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.default)(this.props.breakpoints,e.breakpoints)&&(0,i.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,a=t.layouts,o=t.compactType,i=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,u=(0,l.getColsFromBreakpoint)(i,r),d=m({},a);if(c!==i||e.breakpoints!==n||e.cols!==r){c in d||(d[c]=(0,s.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(d,n,i,c,u,o);p=(0,s.synchronizeLayoutWithChildren)(p,this.props.children,u,o,this.props.allowOverlap),d[i]=p,this.props.onLayoutChange(p,d),this.props.onBreakpointChange(i,u),this.setState({breakpoint:i,layout:p,cols:u})}var h=C(this.props.margin,i),f=C(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,h,u,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,r=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,f(e,u));return a.createElement(c.default,h({},r,{margin:C(t,this.state.breakpoint),containerPadding:C(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component);t.default=O,S(O,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,allowOverlap:o.default.bool,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==E(e[t]))throw new Error("Layout property must be an object. Received: "+E(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),S(O,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},906:(e,t)=>{"use strict";function n(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,a=e.cols;return(r-t[0]*(a-1)-2*n[0])/a}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,a,o,i,s){var l=e.margin,c=e.containerPadding,u=e.rowHeight,d=n(e),p={};s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=r(o,d,l[0]),p.height=r(i,u,l[1]));s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):(p.top=Math.round((u+l[1])*a+c[1]),p.left=Math.round((d+l[0])*t+c[0]));return p},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,o,i){var s=e.margin,l=e.maxRows,c=e.cols,u=e.rowHeight,d=n(e),p=Math.round((t+s[0])/(d+s[0])),h=Math.round((r+s[1])/(u+s[1]));return p=a(p,0,c-o),h=a(h,0,l-i),{w:p,h}},t.calcXY=function(e,t,r,o,i){var s=e.margin,l=e.cols,c=e.rowHeight,u=e.maxRows,d=n(e),p=Math.round((r-s[0])/(d+s[0])),h=Math.round((t-s[1])/(c+s[1]));return p=a(p,0,l-o),h=a(h,0,u-i),{x:p,y:h}},t.clamp=a},6805:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,t);var n,o,l=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(o){var a=f(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=l.call.apply(l,[this].concat(n))),"state",{width:1280}),g(h(e),"elementRef",a.createRef()),g(h(e),"mounted",!1),g(h(e),"onWindowResize",(function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,n){t&&d(e.prototype,t);n&&d(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(c,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,s);return n&&!this.mounted?a.createElement("div",{className:(0,i.default)(this.props.className,m),style:this.props.style,ref:this.elementRef}):a.createElement(e,u({innerRef:this.elementRef},r,this.state))}}]),c}(a.Component),g(t,"defaultProps",{measureBeforeMount:!1}),g(t,"propTypes",{measureBeforeMount:o.default.bool}),t};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(5959)),o=l(n(2688)),i=l(n(7256)),s=["measureBeforeMount"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="react-grid-layout"},7434:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,o,i,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[o],c=a(t),u=c.slice(c.indexOf(n)),d=0,p=u.length;d<p;d++){var h=u[d];if(e[h]){l=e[h];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:i}),s,i)},t.getBreakpointFromWidth=function(e,t){for(var n=a(e),r=n[0],o=1,i=n.length;o<i;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var r=n(414);function a(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=d,t.childrenEqual=function(e,t){return(0,r.default)(a.default.Children.map(e,(function(e){return null==e?void 0:e.key})),a.default.Children.map(t,(function(e){return null==e?void 0:e.key})))},t.cloneLayout=p,t.cloneLayoutItem=f,t.collides=m,t.compact=v,t.compactItem=w,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.correctBounds=x,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=C,t.getFirstCollision=E,t.getLayoutItem=S,t.getStatics=O,t.modifyLayout=h,t.moveElement=_,t.moveElementAwayFromCollision=R,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,a=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,a=e.height,o="translate(".concat(n,"px,").concat(t,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=D,t.sortLayoutItemsByColRow=k,t.sortLayoutItemsByRowCol=I,t.synchronizeLayoutWithChildren=function(e,t,n,r,o){e=e||[];var i=[];a.default.Children.forEach(t,(function(t){if(null!=(null==t?void 0:t.key)){var n=S(e,String(t.key));if(n)i.push(f(n));else{!c&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var r=t.props["data-grid"]||t.props._grid;r?(c||T([r],"ReactGridLayout.children"),i.push(f(s(s({},r),{},{i:t.key})))):i.push(f({w:1,h:1,x:0,y:d(i),i:String(t.key)}))}}}));var l=x(i,{cols:n});return o?l:v(l,r,n)},t.validateLayout=T,t.withLayoutItem=function(e,t,n){var r=S(e,t);return r?(r=n(f(r)),[e=h(e,r),r]):[e,null]};var r=o(n(7842)),a=o(n(5959));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!0,u=!1;function d(e){for(var t,n=0,r=0,a=e.length;r<a;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function p(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=f(e[n]);return t}function h(e,t){for(var n=Array(e.length),r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function f(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var g=n(7434);function m(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function v(e,t,n){for(var r=O(e),a=D(e,t),o=Array(e.length),i=0,s=a.length;i<s;i++){var l=f(a[i]);l.static||(l=w(r,l,t,n,a),r.push(l)),o[e.indexOf(a[i])]=l,l.moved=!1}return o}t.fastRGLPropsEqual=g;var b={x:"w",y:"h"};function y(e,t,n,r){var a=b[r];t[r]+=1;for(var o=e.map((function(e){return e.i})).indexOf(t.i)+1;o<e.length;o++){var i=e[o];if(!i.static){if(i.y>t.y+t.h)break;m(t,i)&&y(e,i,n+t[a],r)}}t[r]=n}function w(e,t,n,r,a){var o,i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(d(e),t.y);t.y>0&&!E(e,t);)t.y--;else if(i)for(;t.x>0&&!E(e,t);)t.x--;for(;o=E(e,t);)i?y(a,t,o.x+o.w,"x"):y(a,t,o.y+o.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function x(e,t){for(var n=O(e),r=0,a=e.length;r<a;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;E(n,o);)o.y++;else n.push(o)}return e}function S(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function E(e,t){for(var n=0,r=e.length;n<r;n++)if(m(e[n],t))return e[n]}function C(e,t){return e.filter((function(e){return m(e,t)}))}function O(e){return e.filter((function(e){return e.static}))}function _(e,t,n,r,a,o,i,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;A("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var d=D(e,i);("vertical"===i&&"number"==typeof r?u>=r:"horizontal"===i&&"number"==typeof n&&c>=n)&&(d=d.reverse());var h=C(d,t),f=h.length>0;if(f&&l)return p(e);if(f&&o)return A("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=u,t.moved=!1,e;for(var g=0,m=h.length;g<m;g++){var v=h[g];A("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(v.i," at [").concat(v.x,",").concat(v.y,"]")),v.moved||(e=v.static?R(e,v,t,a,i,s):R(e,t,v,a,i,s))}return e}function R(e,t,n,r,a,o){var i="horizontal"===a,s="horizontal"!==a,l=t.static;if(r){r=!1;var c={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!E(e,c))return A("Doing reverse collision on ".concat(n.i," up to [").concat(c.x,",").concat(c.y,"].")),_(e,n,i?c.x:void 0,s?c.y:void 0,r,l,a,o)}return _(e,n,i?n.x+1:void 0,s?n.y+1:void 0,r,l,a,o)}function D(e,t){return"horizontal"===t?k(e):"vertical"===t?I(e):e}function I(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function k(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,a=e.length;r<a;r++)for(var o=e[r],i=0;i<n.length;i++)if("number"!=typeof o[n[i]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!")}function A(){var e;u&&(e=console).log.apply(e,arguments)}t.noop=function(){}},2548:(e,t,n)=>{e.exports=n(9482).default,e.exports.utils=n(414),e.exports.Responsive=n(4636).default,e.exports.Responsive.utils=n(544),e.exports.WidthProvider=n(6805).default},7256:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{clsx:()=>a,default:()=>o});const o=a},1794:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5959)),a=n(8230),o=n(9954),i=n(6333),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var l=i.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,a=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!a&&!o)return[e,t];if(o){var i=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*i)?t=e/i:e=t*i}var c=e,u=t,d=this.slack||[0,0],p=d[0],h=d[1];return e+=p,t+=h,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[p+(c-e),h+(u-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,a){var o=a.node,i=a.deltaX,s=a.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=o.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===d)i+=p.left-n.lastHandleRect.left;if("n"===u)s+=p.top-n.lastHandleRect.top}n.lastHandleRect=p,"w"===d&&(i=-i),"n"===u&&(s=-s);var h=n.props.width+(l?i/n.props.transformScale:0),f=n.props.height+(c?s/n.props.transformScale:0),g=n.runConstraints(h,f);h=g[0],f=g[1];var m=h!==n.props.width||f!==n.props.height,v="function"==typeof n.props[e]?n.props[e]:null;v&&!("onResize"===e&&!m)&&(null==r.persist||r.persist(),v(r,{node:o,size:{width:h,height:f},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof n)return n(e,t);var a=d({ref:t},"string"==typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,a)},l.render=function(){var e=this,t=this.props,n=t.children,i=t.className,l=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,s));return(0,o.cloneElement)(n,d(d({},p),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(n.props.children,u.map((function(t){var n,o=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(a.DraggableCore,c({},l,{nodeRef:o,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,o))})))}))},i}(r.Component);t.default=f,f.propTypes=i.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},6609:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5959)),a=l(n(2688)),o=l(n(1794)),i=n(6333),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var g=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,a=(e.onResize,e.onResizeStart),i=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,d=e.maxConstraints,h=e.lockAspectRatio,f=e.axis,g=(e.width,e.height,e.resizeHandles),m=e.style,v=e.transformScale,b=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,s);return r.createElement(o.default,{axis:f,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:h,maxConstraints:d,minConstraints:c,onResizeStart:a,onResize:this.onResize,onResizeStop:i,resizeHandles:g,transformScale:v,width:this.state.width},r.createElement("div",u({},b,{style:p(p({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(r.Component);t.default=g,g.propTypes=p(p({},i.resizableProps),{},{children:a.default.element})},6333:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,a=(r=n(2688))&&r.__esModule?r:{default:r};n(8230);var o={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return"both"===o.axis||"y"===o.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return"both"===o.axis||"x"===o.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)}};t.resizableProps=o},9954:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=i(i({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return a.default.cloneElement(e,t)};var r,a=(r=n(5959))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},936:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(1794).default,e.exports.ResizableBox=n(6609).default},3367:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,r,a,o,i,s,l){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,a,o,i,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(4),o=((r=a)&&r.__esModule?r:{default:r}).default.createContext({registerPane:function(){},unregisterPane:function(){}});t.default=o,e.exports=t.default},function(e,t,n){"use strict";(function(t){var r,a=n(1);"production"!==t.env.NODE_ENV&&(r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o="Warning: "+e.replace(/%s/g,(function(){return n[a++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}},a=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];r.apply(void 0,[t].concat(a))}}),e.exports=a}).call(t,n(0))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}),!0)}else e.exports=n(12)()}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),o=l(a),i=l(n(7)),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.panes={},r.registerPane=function(e,t){t.forEach((function(t){r.panes[t]||(r.panes[t]=[]),r.findPane(e,t)||(r.panes[t].length>0&&r.syncScrollPosition(r.panes[t][0],e),r.panes[t].push(e))})),r.addEvents(e,t)},r.unregisterPane=function(e,t){t.forEach((function(t){r.findPane(e,t)&&(r.removeEvents(e),r.panes[t].splice(r.panes[t].indexOf(e),1))}))},r.addEvents=function(e,t){e.onscroll=r.handlePaneScroll.bind(r,e,t)},r.removeEvents=function(e){e.onscroll=null},r.findPane=function(e,t){return!!r.panes[t]&&r.panes[t].find((function(t){return t===e}))},r.handlePaneScroll=function(e,t){r.props.enabled&&window.requestAnimationFrame((function(){r.syncScrollPositions(e,t)}))},r.syncScrollPositions=function(e,t){t.forEach((function(n){r.panes[n].forEach((function(a){e!==a&&(r.removeEvents(a,n),r.syncScrollPosition(e,a),window.requestAnimationFrame((function(){r.addEvents(a,t)})))}))})),r.props.onSync&&r.props.onSync(e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,t){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight,o=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth,l=r-a,c=i-s,u=this.props,d=u.proportional,p=u.vertical,h=u.horizontal,f=t.scrollHeight-a,g=t.scrollWidth-s;p&&l>0&&(t.scrollTop=d?f*n/l:n),h&&c>0&&(t.scrollLeft=d?g*o/c:o)}},{key:"render",value:function(){return o.default.createElement(s.default.Provider,{value:this.getContextValue()},o.default.Children.only(this.props.children))}}]),t}(a.Component);u.propTypes={onSync:i.default.func,children:i.default.element.isRequired,proportional:i.default.bool,vertical:i.default.bool,horizontal:i.default.bool,enabled:i.default.bool},u.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),o=s(n(7)),i=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toArray=function(e){return[].concat(e)},n.updateNode=function(){n.props.attachTo?n.node=n.props.attachTo.current:n.node=n.childRef.current},n.childRef=e.innerRef?e.innerRef:(0,a.createRef)(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.updateNode(),this.node&&this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.attachTo!==e.attachTo&&(this.node&&this.context.unregisterPane(this.node,this.toArray(e.group)),this.updateNode(),this.node&&this.context.registerPane(this.node,this.toArray(e.group))),this.node&&this.props.enabled!==e.enabled&&(this.props.enabled?this.context.registerPane(this.node,this.toArray(e.group)):this.context.unregisterPane(this.node,this.toArray(e.group))),this.node&&this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.node&&this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.attachTo?this.props.children:(0,a.cloneElement)(a.Children.only(this.props.children),{ref:this.childRef})}}]),t}(a.Component);l.contextType=i.default,l.propTypes={children:o.default.node.isRequired,attachTo:o.default.oneOfType([o.default.func,o.default.shape({current:o.default.any})]),group:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),enabled:o.default.bool,innerRef:o.default.oneOfType([o.default.func,o.default.shape({current:o.default.any})])},l.defaultProps={group:"default",enabled:!0},t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);Object.defineProperty(t,"ScrollSync",{enumerable:!0,get:function(){return o(r).default}});var a=n(9);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ScrollSyncPane",{enumerable:!0,get:function(){return o(a).default}})},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var r=n(2),a=n(6),o=n(3),i={};e.exports=function(e,n,s,l,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{r("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",l||"React class",s,u),d=e[u](n,u,l,s,null,o)}catch(e){d=e}if(a(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,u,typeof d),d instanceof Error&&!(d.message in i)){i[d.message]=!0;var p=c?c():"";a(!1,"Failed %s type: %s%s",s,d.message,null!=p?p:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(3);e.exports=function(){function e(e,t,n,r,i,s){s!==o&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";(function(t){var r=n(1),a=n(2),o=n(6),i=n(3),s=n(11);e.exports=function(e,n){var l="function"==typeof Symbol&&Symbol.iterator,c="<<anonymous>>",u={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:h(r.thatReturnsNull),arrayOf:function(e){return h((function(t,n,r,a,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new p("Invalid "+a+" `"+o+"` of type `"+m(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,r,a,o+"["+l+"]",i);if(c instanceof Error)return c}return null}))},element:h((function(t,n,r,a,o){var i=t[n];return e(i)?null:new p("Invalid "+a+" `"+o+"` of type `"+m(i)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(e){return h((function(t,n,r,a,o){if(!(t[n]instanceof e)){var i=e.name||c;return new p("Invalid "+a+" `"+o+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:c)+"` supplied to `"+r+"`, expected instance of `"+i+"`.")}var s;return null}))},node:h((function(e,t,n,r,a){return g(e[t])?null:new p("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return h((function(t,n,r,a,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=m(s);if("object"!==l)return new p("Invalid "+a+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var u=e(s,c,r,a,o+"."+c,i);if(u instanceof Error)return u}return null}))},oneOf:function(e){return Array.isArray(e)?h((function(t,n,r,a,o){for(var i=t[n],s=0;s<e.length;s++)if(d(i,e[s]))return null;return new p("Invalid "+a+" `"+o+"` of value `"+i+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var a=e[n];if("function"!=typeof a)return o(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",b(a),n),r.thatReturnsNull}return h((function(t,n,r,a,o){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,a,o,i))return null;return new p("Invalid "+a+" `"+o+"` supplied to `"+r+"`.")}))},shape:function(e){return h((function(t,n,r,a,o){var s=t[n],l=m(s);if("object"!==l)return new p("Invalid "+a+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var d=u(s,c,r,a,o+"."+c,i);if(d)return d}}return null}))}};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function h(e){if("production"!==t.env.NODE_ENV)var r={},s=0;function l(l,u,d,h,f,g,m){if(h=h||c,g=g||d,m!==i)if(n)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=h+":"+d;!r[v]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",g,h),r[v]=!0,s++)}return null==u[d]?l?null===u[d]?new p("The "+f+" `"+g+"` is marked as required in `"+h+"`, but its value is `null`."):new p("The "+f+" `"+g+"` is marked as required in `"+h+"`, but its value is `undefined`."):null:e(u,d,h,f,g)}var u=l.bind(null,!1);return u.isRequired=l.bind(null,!0),u}function f(e){return h((function(t,n,r,a,o,i){var s=t[n];return m(s)!==e?new p("Invalid "+a+" `"+o+"` of type `"+v(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var n=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,a=n.call(t);if(n!==t.entries){for(;!(r=a.next()).done;)if(!g(r.value))return!1}else for(;!(r=a.next()).done;){var o=r.value;if(o&&!g(o[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,u.checkPropTypes=s,u.PropTypes=u,u}}).call(t,n(0))}])},e.exports=r(n(5959))},2192:(e,t,n)=>{"use strict";var r=n(5959),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},2540:(e,t,n)=>{"use strict";e.exports=n(2192)},9524:(e,t,n)=>{const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=o(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=a;const o=n(7095),{safeRe:i,t:s}=n(6850),l=n(3811),c=n(9796),u=n(7944),d=n(8395)},8395:(e,t,n)=>{const r=/\s+/g;class a{constructor(e,t){if(t=i(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!v(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,n=o.get(t);if(n)return n;const r=this.options.loose,a=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(a,k(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],p),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],h),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],f),l("caret trim",e);let i=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options)));r&&(i=i.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),l("range list",i);const c=new Map,b=i.map((e=>new s(e,this.options)));for(const e of b){if(v(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const y=[...c.values()];return o.set(t,y),y}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some((n=>y(n,t)&&e.set.some((e=>y(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=a;const o=new(n(1158)),i=n(7095),s=n(9524),l=n(9796),c=n(7944),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:f}=n(6850),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=n(9630),v=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every((e=>a.intersects(e,t))),a=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=C(e,t),l("caret",e),e=S(e,t),l("tildes",e),e=_(e,t),l("xrange",e),e=D(e,t),l("stars",e),e),x=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,((t,n,r,a,o)=>{let i;return l("tilde",e,t,n,r,a,o),x(n)?i="":x(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:x(a)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(l("replaceTilde pr",o),i=`>=${n}.${r}.${a}-${o} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,l("tilde return",i),i}))},C=(e,t)=>e.trim().split(/\s+/).map((e=>O(e,t))).join(" "),O=(e,t)=>{l("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,a,o,i)=>{let s;return l("caret",e,t,n,a,o,i),x(n)?s="":x(a)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:x(o)?s="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:i?(l("replaceCaret pr",i),s="0"===n?"0"===a?`>=${n}.${a}.${o}-${i} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}-${i} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o}-${i} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===a?`>=${n}.${a}.${o}${r} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o} <${+n+1}.0.0-0`),l("caret return",s),s}))},_=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>R(e,t))).join(" ")),R=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,((n,r,a,o,i,s)=>{l("xRange",e,n,r,a,o,i,s);const c=x(a),u=c||x(o),d=u||x(i),p=d;return"="===r&&p&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(u&&(o=0),i=0,">"===r?(r=">=",u?(a=+a+1,o=0,i=0):(o=+o+1,i=0)):"<="===r&&(r="<",u?a=+a+1:o=+o+1),"<"===r&&(s="-0"),n=`${r+a}.${o}.${i}${s}`):u?n=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${o}.0${s} <${a}.${+o+1}.0-0`),l("xRange return",n),n}))},D=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),I=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),k=e=>(t,n,r,a,o,i,s,l,c,u,d,p)=>`${n=x(r)?"":x(a)?`>=${r}.0.0${e?"-0":""}`:x(o)?`>=${r}.${a}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=x(c)?"":x(u)?`<${+c+1}.0.0-0`:x(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},7944:(e,t,n)=>{const r=n(9796),{MAX_LENGTH:a,MAX_SAFE_INTEGER:o}=n(9630),{safeRe:i,safeSrc:s,t:l}=n(6850),c=n(7095),{compareIdentifiers:u}=n(4031);class d{constructor(e,t){if(t=c(t),e instanceof d){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[l.LOOSE]:i[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof d||(e=new d(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=new RegExp(`^${this.options.loose?s[l.PRERELEASELOOSE]:s[l.PRERELEASE]}$`),n=`-${t}`.match(e);if(!n||n[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=d},7994:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},3811:(e,t,n)=>{const r=n(6909),a=n(7659),o=n(144),i=n(2077),s=n(599),l=n(7092);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return a(e,n,c);case">":return o(e,n,c);case">=":return i(e,n,c);case"<":return s(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},5334:(e,t,n)=>{const r=n(7944),a=n(5860),{safeRe:o,t:i}=n(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let a;for(;(a=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),r.lastIndex=a.index+a[1].length+a[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${s}.${l}.${c}${u}${d}`,t)}},2801:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n)=>{const a=new r(e,n),o=new r(t,n);return a.compare(o)||a.compareBuild(o)}},7023:(e,t,n)=>{const r=n(5380);e.exports=(e,t)=>r(e,t,!0)},5380:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},660:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,null,!0),a=r(t,null,!0),o=n.compare(a);if(0===o)return null;const i=o>0,s=i?n:a,l=i?a:n,c=!!s.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}const u=c?"pre":"";return n.major!==a.major?u+"major":n.minor!==a.minor?u+"minor":n.patch!==a.patch?u+"patch":"prerelease"}},6909:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>0===r(e,t,n)},144:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>0},2077:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>=0},5955:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n,a,o)=>{"string"==typeof n&&(o=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,o).version}catch(e){return null}}},599:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<0},7092:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<=0},2966:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).major},5986:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).minor},7659:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>0!==r(e,t,n)},5860:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},1617:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).patch},9613:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},2862:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(t,e,n)},6033:(e,t,n)=>{const r=n(2801);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},1722:(e,t,n)=>{const r=n(8395);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},603:(e,t,n)=>{const r=n(2801);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},7645:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},8449:(e,t,n)=>{const r=n(6850),a=n(9630),o=n(7944),i=n(4031),s=n(5860),l=n(7645),c=n(7994),u=n(5955),d=n(660),p=n(2966),h=n(5986),f=n(1617),g=n(9613),m=n(5380),v=n(2862),b=n(7023),y=n(2801),w=n(603),x=n(6033),S=n(144),E=n(599),C=n(6909),O=n(7659),_=n(2077),R=n(7092),D=n(3811),I=n(5334),k=n(9524),T=n(8395),A=n(1722),P=n(651),L=n(7840),N=n(7930),j=n(3489),M=n(7494),$=n(5463),V=n(7871),F=n(4266),B=n(1112),z=n(1465),U=n(9252);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:p,minor:h,patch:f,prerelease:g,compare:m,rcompare:v,compareLoose:b,compareBuild:y,sort:w,rsort:x,gt:S,lt:E,eq:C,neq:O,gte:_,lte:R,cmp:D,coerce:I,Comparator:k,Range:T,satisfies:A,toComparators:P,maxSatisfying:L,minSatisfying:N,minVersion:j,validRange:M,outside:$,gtr:V,ltr:F,intersects:B,simplifyRange:z,subset:U,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4031:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},1158:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},7095:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},6850:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:o}=n(9630),i=n(9796),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],d=t.t={};let p=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",o],[h,a]],g=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=p++;i(e,a,t),d[e]=a,c[a]=t,u[a]=r,s[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[d.NUMERICIDENTIFIER]}|${c[d.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NUMERICIDENTIFIERLOOSE]}|${c[d.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),g("FULL",`^${c[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),g("LOOSE",`^${c[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),g("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[d.COERCE],!0),g("COERCERTLFULL",c[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7871:(e,t,n)=>{const r=n(5463);e.exports=(e,t,n)=>r(e,t,">",n)},1112:(e,t,n)=>{const r=n(8395);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},4266:(e,t,n)=>{const r=n(5463);e.exports=(e,t,n)=>r(e,t,"<",n)},7840:(e,t,n)=>{const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(o&&-1!==i.compare(e)||(o=e,i=new r(o,n)))})),o}},7930:(e,t,n)=>{const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(o&&1!==i.compare(e)||(o=e,i=new r(o,n)))})),o}},3489:(e,t,n)=>{const r=n(7944),a=n(8395),o=n(144);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const a=e.set[t];let i=null;a.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||n&&!o(n,i)||(n=i)}return n&&e.test(n)?n:null}},5463:(e,t,n)=>{const r=n(7944),a=n(9524),{ANY:o}=a,i=n(8395),s=n(1722),l=n(144),c=n(599),u=n(7092),d=n(2077);e.exports=(e,t,n,p)=>{let h,f,g,m,v;switch(e=new r(e,p),t=new i(t,p),n){case">":h=l,f=u,g=c,m=">",v=">=";break;case"<":h=c,f=d,g=l,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null,s=null;if(r.forEach((e=>{e.semver===o&&(e=new a(">=0.0.0")),i=i||e,s=s||e,h(e.semver,i.semver,p)?i=e:g(e.semver,s.semver,p)&&(s=e)})),i.operator===m||i.operator===v)return!1;if((!s.operator||s.operator===m)&&f(e,s.semver))return!1;if(s.operator===v&&g(e,s.semver))return!1}return!0}},1465:(e,t,n)=>{const r=n(1722),a=n(5380);e.exports=(e,t,n)=>{const o=[];let i=null,s=null;const l=e.sort(((e,t)=>a(e,t,n)));for(const e of l){r(e,t,n)?(s=e,i||(i=e)):(s&&o.push([i,s]),s=null,i=null)}i&&o.push([i,null]);const c=[];for(const[e,t]of o)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},9252:(e,t,n)=>{const r=n(8395),a=n(9524),{ANY:o}=a,i=n(1722),s=n(5380),l=[new a(">=0.0.0-0")],c=[new a(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=c}const r=new Set;let a,u,h,f,g,m,v;for(const t of e)">"===t.operator||">="===t.operator?a=d(a,t,n):"<"===t.operator||"<="===t.operator?u=p(u,t,n):r.add(t.semver);if(r.size>1)return null;if(a&&u){if(h=s(a.semver,u.semver,n),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==u.operator))return null}for(const e of r){if(a&&!i(e,String(a),n))return null;if(u&&!i(e,String(u),n))return null;for(const r of t)if(!i(e,String(r),n))return!1;return!0}let b=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,y=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;b&&1===b.prerelease.length&&"<"===u.operator&&0===b.prerelease[0]&&(b=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,a)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(f=d(a,e,n),f===e&&f!==a)return!1}else if(">="===a.operator&&!i(a.semver,String(e),n))return!1;if(u)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if(g=p(u,e,n),g===e&&g!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),n))return!1;if(!e.operator&&(u||a)&&0!==h)return!1}return!(a&&m&&!u&&0!==h)&&(!(u&&v&&!a&&0!==h)&&(!y&&!b))},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},651:(e,t,n)=>{const r=n(8395);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7494:(e,t,n)=>{const r=n(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},5745:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var a,o=new Uint8Array(16);function i(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)}for(var s=[],l=0;l<256;++l)s.push((l+256).toString(16).slice(1));function c(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}const u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=a[o];return t}return c(a)}},7151:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},1625:(e,t,n)=>{"use strict";n.d(t,{$m:()=>i,fY:()=>s,ob:()=>a,qM:()=>o,uH:()=>r,vp:()=>l});var r=(e=>(e.Ascending="Ascending",e.Descending="Descending",e))(r||{});var a=(e=>(e.Actions="actions",e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(a||{});var o=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(o||{}),i=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(i||{}),s=(e=>(e.exact="exact",e.none="none",e.numbers="numbers",e.signature="signature",e))(s||{});const l="browser"},6145:(e,t,n)=>{"use strict";n.d(t,{CO:()=>a,rw:()=>r,yV:()=>o});const r={allowCustomValue:!0,includeAll:!1,multi:!1,options:[],skipUrlSync:!1};var a=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(a||{});var o=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(o||{})},2245:(e,t,n)=>{"use strict";n.d(t,{zL:()=>a});var r=n(6145),a=(e=>(e[e.dontHide=0]="dontHide",e[e.hideLabel=1]="hideLabel",e[e.hideVariable=2]="hideVariable",e))(a||{});r.rw},2051:(e,t,n)=>{"use strict";n.d(t,{d:()=>T});var r=n(2540),a=n(5959);!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode("._arrowContainer_xqmcg_1{display:var(--json-tree-inline-flex);margin-right:var(--json-tree-arrow-container-margin-right)}._arrow_xqmcg_1{transition:var(--json-tree-arrow-transition);transform-origin:var(--json-tree-arrow-transform-origin);display:var(--json-tree-inline-flex);color:var(--json-tree-arrow-color);position:var(--json-tree-arrow-position);left:var(--json-tree-arrow-left-offset);margin-right:var(--json-tree-arrow-right-margin);top:0}._arrow--expanded_xqmcg_16{transform:var(--json-tree-arrow-transform)}._arrowInner_xqmcg_19{position:var(--json-tree-arrow-position);left:calc(var(--json-tree-arrow-width) / 3 * -1)}._itemRange_o3i3u_1{position:relative}._nestedNode_j6j98_1{display:var(--json-tree-inline-flex);position:relative;cursor:default}._nestedNode--expandable_j6j98_6{align-items:var(--json-tree-align-items);display:var(--json-tree-block);cursor:pointer}._nestedNode--expanded_j6j98_11{display:var(--json-tree-inline)}._nestedNode--itemType_j6j98_14{margin-right:var(--json-tree-nested-node-item-type-margin)}._nestedNode--itemType--expanded_j6j98_17{display:var(--json-tree-inline)}._nestedNodeLabelWrap_j6j98_21{display:var(--json-tree-block);align-items:var(--json-tree-align-items)}._nestedNodeItemString_j6j98_26{display:var(--json-tree-inline-flex)}._nestedNodeChildren_j6j98_30{display:var(--json-tree-block);flex-direction:var(--json-tree-flex-direction);margin-left:var(--json-tree-children-margin);padding:var(--json-tree-ul-padding)}._nestedNodeLabel_j6j98_21{display:var(--json-tree-inline-flex);align-items:var(--json-tree-align-items);margin-right:var(--json-tree-nested-node-label-margin);cursor:default}._nestedNodeLabel--expandable_j6j98_43{display:var(--json-tree-inline-flex);align-items:var(--json-tree-align-items);cursor:pointer}._nestedNodeLabel--expanded_j6j98_48{display:var(--json-tree-inline-flex)}._rootNode_j6j98_52{display:var(--json-tree-inline-flex);cursor:default}._rootNodeExpandable_j6j98_57{cursor:pointer}._rootNodeChildren_j6j98_61{display:var(--json-tree-block);flex-direction:var(--json-tree-flex-direction);padding:var(--json-tree-ul-root-children-padding)}._valueNode_1w3pv_1{display:var(--json-tree-block);align-items:var(--json-tree-value-node-align-items);cursor:default}._valueNodeValue_1w3pv_7{text-wrap:var(--json-tree-value-text-wrap);word-break:var(--json-tree-value-text-word-break);color:var(--json-tree-label-value-color)}._valueNodeLabel_1w3pv_13{margin-right:var(--json-tree-value-label-margin);display:var(--json-tree-inline-flex)}:root{--json-tree-spacing-sm: .25em;--json-tree-spacing-md: .5em;--json-tree-spacing-lg: 1em;--json-tree-spacing-xl: 1.5em;--json-tree-spacing-xxl: 2em;--json-tree-children-margin: var(--json-tree-spacing-xl);--json-tree-value-label-margin: var(--json-tree-spacing-sm);--json-tree-value-node-margin: var(--json-tree-spacing-xl);--json-tree-nested-node-label-margin: var(--json-tree-spacing-md);--json-tree-nested-node-item-type-margin: var(--json-tree-spacing-sm);--json-tree-default-label-wrap-margin-right: var(--json-tree-spacing-md);--json-tree-arrow-container-margin-right: 0;--json-tree-ul-root-padding: 0 0 0 var(--json-tree-spacing-xxl);--json-tree-ul-root-children-padding: 0;--json-tree-ul-padding: 0;--json-tree-value-text-wrap: wrap;--json-tree-value-text-word-break: break-word;--json-tree-inline: inline;--json-tree-inline-flex: inline-flex;--json-tree-block: flex;--json-tree-align-items: center;--json-tree-value-node-align-items: flex-start;--json-tree-flex-direction: column;--json-tree-arrow-transition: var(--json-tree-transition-timing) linear transform;--json-tree-arrow-transform-origin: 45% 50%;--json-tree-arrow-transform: rotateZ(90deg);--json-tree-arrow-width: 1.5em;--json-tree-arrow-height: 1.5em;--json-tree-arrow-position: absolute;--json-tree-arrow-left-offset: calc(var(--json-tree-arrow-width) * -1);--json-tree-arrow-right-margin: 0;--json-tree-label-color: rgb(102, 217, 239);--json-tree-key-label-color: rgb(71, 131, 0);--json-tree-label-value-color: rgb(249, 38, 114);--json-tree-arrow-color: var(--json-tree-label-color);--json-tree-transition-timing: .15s}._tree_14ia6_46{padding:var(--json-tree-ul-root-padding)}._defaultItemString_14ia6_50{display:var(--json-tree-inline-flex);color:var(--json-tree-key-label-color)}._defaultLabelWrap_14ia6_55{display:var(--json-tree-inline-flex);margin-right:var(--json-tree-default-label-wrap-margin-right);color:var(--json-tree-label-color);cursor:default}._defaultLabelWrap--expandable_14ia6_61{cursor:pointer}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();const o={arrow:"_arrow_xqmcg_1",arrowExpanded:"_arrow--expanded_xqmcg_16",arrowInner:"_arrowInner_xqmcg_19"};function i({arrowStyle:e="single",expanded:t,onClick:n}){return(0,r.jsxs)("div",{role:"button","aria-expanded":t,tabIndex:0,onClick:n,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),n())},className:`${o.arrow} ${t?o.arrowExpanded:""} ${"single"===e?o.arrowArrowStyleSingle:o.arrowArrowStyleDouble}`,children:["","double"===e&&(0,r.jsx)("div",{className:`${o.arrowInner}`,children:""})]})}function s(e,t,n,r=0,a=1/0){let o;if("Object"===e){let e=Object.getOwnPropertyNames(t);n&&e.sort(!0===n?void 0:n),e=e.slice(r,a+1),o={entries:e.map((e=>({key:e,value:t[e]})))}}else if("Array"===e)o={entries:t.slice(r,a+1).map(((e,t)=>({key:t+r,value:e})))};else{let e=0;const n=[];let i=!0;const s=function(e){return"function"==typeof e.set}(t);for(const o of t){if(e>a){i=!1;break}r<=e&&(s&&Array.isArray(o)?"string"==typeof o[0]||"number"==typeof o[0]?n.push({key:o[0],value:o[1]}):n.push({key:`[entry ${e}]`,value:{"[key]":o[0],"[value]":o[1]}}):n.push({key:e,value:o})),e++}o={hasMore:!i,entries:n}}return o}function l(e,t,n){const r=[];for(;t-e>n*n;)n*=n;for(let a=e;a<=t;a+=n)r.push({from:a,to:Math.min(t,a+n-1)});return r}function c(e,t,n,r,a=0,o=1/0){const i=s.bind(null,e,t,n);if(!r)return i().entries;const c=o<1/0,u=Math.min(o-a,function(e,t){return"Object"===e?Object.keys(t).length:"Array"===e?t.length:1/0}(e,t));if("Iterable"!==e){if(u<=r||r<7)return i(a,o).entries}else if(u<=r&&!c)return i(a,o).entries;let d;if("Iterable"===e){const{hasMore:e,entries:t}=i(a,a+r-1);d=e?[...t,...l(a+r,a+2*r-1,r)]:t}else d=c?l(a,o,r):[...i(0,r-5).entries,...l(r-4,u-5,r),...i(u-4,u-1).entries];return d}const u={itemRange:"_itemRange_o3i3u_1"};function d(e){const{from:t,to:n,renderChildNodes:o,nodeType:s}=e,[l,c]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{c(!l)}),[l]);return l?(0,r.jsx)("div",{className:`${u.itemRange} ${l?u.itemRangeExpanded:""}`,children:o(e,t,n)}):(0,r.jsxs)("div",{className:`${u.itemRange} ${l?u.itemRangeExpanded:""}`,children:[(0,r.jsx)(i,{nodeType:s,expanded:!1,onClick:d,arrowStyle:"double"}),`${t} ... ${n}`]})}const p={nestedNode:"_nestedNode_j6j98_1",nestedNodeExpandable:"_nestedNode--expandable_j6j98_6",nestedNodeExpanded:"_nestedNode--expanded_j6j98_11",nestedNodeItemType:"_nestedNode--itemType_j6j98_14",nestedNodeItemTypeExpanded:"_nestedNode--itemType--expanded_j6j98_17",nestedNodeLabelWrap:"_nestedNodeLabelWrap_j6j98_21",nestedNodeItemString:"_nestedNodeItemString_j6j98_26",nestedNodeChildren:"_nestedNodeChildren_j6j98_30",nestedNodeLabel:"_nestedNodeLabel_j6j98_21",nestedNodeLabelExpandable:"_nestedNodeLabel--expandable_j6j98_43",nestedNodeLabelExpanded:"_nestedNodeLabel--expanded_j6j98_48",rootNode:"_rootNode_j6j98_52",rootNodeExpandable:"_rootNodeExpandable_j6j98_57",rootNodeChildren:"_rootNodeChildren_j6j98_61"},h=({children:e,expanded:t,expandable:n,nodeType:a,keyPath:o,className:i})=>{var s,l;return n?(0,r.jsx)("li",{role:"treeitem","aria-expanded":t,"data-nodetype":a,"data-keypath":o[0],"aria-label":null==(s=o[0])?void 0:s.toString(),className:i,children:e}):(0,r.jsx)("li",{role:"treeitem","data-nodetype":a,"data-keypath":o[0],"aria-label":null==(l=o[0])?void 0:l.toString(),className:i,children:e})};function f(e,t,n){const{nodeType:r,data:o,collectionLimit:i,circularCache:s,keyPath:l,postprocessValue:u,sortObjectKeys:p}=e,h=[];return c(r,o,p,i,t,n).forEach((t=>{if(function(e){return void 0!==e.to}(t))h.push((0,a.createElement)(d,{...e,key:`ItemRange--${t.from}-${t.to}`,from:t.from,to:t.to,renderChildNodes:f}));else{const{key:n,value:r}=t,o=s.includes(r);h.push((0,a.createElement)(C,{...e,postprocessValue:u,collectionLimit:i,key:`Node--${n}`,keyPath:[n,...l],value:u(r),circularCache:[...s,r],isCircular:o,hideRoot:!1}))}})),h}function g(e){const{circularCache:t=[],collectionLimit:n,createItemString:o,data:s,expandable:l,getItemString:c,hideRoot:u,hideRootExpand:d,isCircular:g,keyPath:m,labelRenderer:v,level:b=0,nodeType:y,nodeTypeIndicator:w,shouldExpandNodeInitially:x}=e,S="root"===m[0],E=d?l&&!S&&d:l,C=l&&E,[O,_]=(0,a.useState)(!g&&x(m,s,b)),R=(0,a.useCallback)((()=>{C&&_(!O)}),[C,O]),D=O||u&&0===b?f({...e,circularCache:t,level:b+1}):null,I=c(y,s,(0,r.jsx)("span",{className:`${p.nestedNodeItemType} ${O?p.nestedNodeItemTypeExpanded:""}`,children:w}),o(s,n),m),k=[m,y,O,C];return u?(0,r.jsx)(h,{expandable:C,expanded:O,nodeType:y,keyPath:m,className:`${p.rootNode} ${O?p.rootNodeExpanded:""} ${l?p.rootNodeExpandable:""}`,children:(0,r.jsx)("ul",{className:`${p.rootNodeChildren}`,children:D})}):(0,r.jsxs)(h,{expandable:C,expanded:O,nodeType:y,keyPath:m,className:`${p.nestedNode}  ${O?p.nestedNodeExpanded:""} ${C?p.nestedNodeExpandable:""}`,children:[(0,r.jsxs)("span",{className:p.nestedNodeLabelWrap,children:[E&&(0,r.jsx)(i,{nodeType:y,expanded:O,onClick:R}),(0,r.jsx)("span",{"data-nodetype":y,"data-keypath":m[0],className:`${p.nestedNodeLabel} ${O?p.nestedNodeLabelExpanded:""} ${C?p.nestedNodeLabelExpandable:""}`,onClick:R,children:v(...k)}),(0,r.jsx)("span",{className:p.nestedNodeItemString,onClick:R,children:I})]}),D&&(0,r.jsx)("ul",{className:p.nestedNodeChildren,children:D})]})}function m(e){const t=Object.getOwnPropertyNames(e).length;return`${t} ${1!==t?"keys":"key"}`}function v({data:e,...t}){return(0,r.jsx)(g,{...t,data:e,nodeType:"Object",nodeTypeIndicator:"Error"===t.nodeType?"Error()":"{}",createItemString:m,expandable:Object.getOwnPropertyNames(e).length>0})}function b(e){return`${e.length} ${1!==e.length?"items":"item"}`}function y({data:e,...t}){return(0,r.jsx)(g,{...t,data:e,nodeType:"Array",nodeTypeIndicator:"[]",createItemString:b,expandable:e.length>0})}function w(e,t){let n=0,r=!1;if(Number.isSafeInteger(e.size))n=e.size;else for(const a of e){if(t&&n+1>t){r=!0;break}n+=1}return`${r?">":""}${n} ${1!==n?"entries":"entry"}`}function x(e){return(0,r.jsx)(g,{...e,nodeType:"Iterable",nodeTypeIndicator:"()",createItemString:w,expandable:!0})}const S={valueNode:"_valueNode_1w3pv_1",valueNodeValue:"_valueNodeValue_1w3pv_7",valueNodeLabel:"_valueNodeLabel_1w3pv_13"};function E({nodeType:e,labelRenderer:t,keyPath:n,valueRenderer:a,value:o,valueGetter:i=e=>e}){return(0,r.jsxs)("li",{className:`${S.valueNode} valueNode--${e} valueNode--${n[0]}`,children:[(0,r.jsx)("span",{"data-testid":"value-node-label",className:S.valueNodeLabel,children:t(n,e,!1,!1)}),(0,r.jsx)("span",{"data-testid":"value-node-value",className:S.valueNodeValue,children:a(i?i(o):void 0,o,...n)})]})}function C({getItemString:e,keyPath:t,labelRenderer:n,value:o,valueRenderer:i,isCustomNode:s,valueWrap:l,...c}){const u=s(o)?"Custom":function(e){const t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&"function"==typeof e[Symbol.iterator]?"Iterable":"Custom"===t&&e.constructor!==Object&&e instanceof Object?"Object":t}(o),d=t[0],p={getItemString:e,keyPath:t,labelRenderer:n,nodeType:u,value:o,valueRenderer:i},h={...c,...p,data:o,isCustomNode:s,valueWrap:l};switch(u){case"Object":case"Error":case"WeakMap":case"WeakSet":return(0,r.jsx)(v,{...h},d);case"Array":return(0,r.jsx)(y,{...h},d);case"Iterable":case"Map":case"Set":return(0,r.jsx)(x,{...h},d);case"String":return(0,a.createElement)(E,{...p,key:d,valueGetter:e=>`${l}${e}${l}`});case"Number":case"Custom":return(0,r.jsx)(E,{...p},d);case"Boolean":return(0,r.jsx)(E,{...p,valueGetter:e=>e?"true":"false"},d);case"Date":return(0,r.jsx)(E,{...p,valueGetter:e=>e.toISOString()},d);case"Null":return(0,r.jsx)(E,{...p,valueGetter:()=>"null"},d);case"Undefined":return(0,r.jsx)(E,{...p,valueGetter:()=>"undefined"},d);case"Function":case"Symbol":return(0,r.jsx)(E,{...p,valueGetter:e=>e.toString()},d);default:return(0,r.jsx)(E,{...p,valueGetter:()=>`<${u}>`},d)}}const O={tree:"_tree_14ia6_46",defaultItemString:"_defaultItemString_14ia6_50",defaultLabelWrap:"_defaultLabelWrap_14ia6_55",defaultLabelWrapExpandable:"_defaultLabelWrap--expandable_14ia6_61"},_=e=>e,R=(e,t,n)=>0===n,D=(e,t,n,a,o)=>(0,r.jsxs)("span",{className:O.defaultItemString,children:[n," ",a]}),I=([e],t,n,a)=>(0,r.jsxs)("span",{className:`${O.defaultLabelWrap} ${a?O.defaultLabelWrapExpandable:""}`,children:[e,":"]}),k=()=>!1;function T({data:e,keyPath:t=["root"],labelRenderer:n=I,valueRenderer:a=_,shouldExpandNodeInitially:o=R,hideRoot:i=!1,hideRootExpand:s=!1,getItemString:l=D,postprocessValue:c=_,isCustomNode:u=k,collectionLimit:d=50,sortObjectKeys:p=!1,valueWrap:h='"'}){return(0,r.jsx)("ul",{role:"tree","aria-multiselectable":!0,"aria-readonly":"true",className:O.tree,children:(0,r.jsx)(C,{hideRootExpand:s,keyPath:i?[]:t,value:c(e),isCustomNode:u,labelRenderer:n,valueRenderer:a,shouldExpandNodeInitially:o,hideRoot:i,getItemString:l,postprocessValue:c,collectionLimit:d,sortObjectKeys:p,valueWrap:h})})}},7993:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});const r=(e,t)=>e>t?1:e<t?-1:0,a=1/0,o=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i="eexxaacctt",s=/\p{P}/gu,l=["en",{numeric:!0,sensitivity:"base"}],c=(e,t,n)=>e.replace("A-Z",t).replace("a-z",n),u={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:a,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,a],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,n,a=r)=>{let{idx:o,chars:i,terms:s,interLft2:l,interLft1:c,start:u,intraIns:d,interIns:p,cases:h}=e;return o.map(((e,t)=>t)).sort(((e,n)=>i[n]-i[e]||d[e]-d[n]||s[n]+l[n]+.5*c[n]-(s[e]+l[e]+.5*c[e])||p[e]-p[n]||u[e]-u[n]||h[n]-h[e]||a(t[o[e]],t[o[n]])))}},d=(e,t)=>0==t?"":1==t?e+"??":t==a?e+"*?":e+`{0,${t}}?`,p="(?:\\b|_)";function h(e){e=Object.assign({},u,e);let{unicode:t,interLft:n,interRgt:a,intraMode:h,intraSlice:f,intraIns:m,intraSub:v,intraTrn:b,intraDel:y,intraContr:w,intraSplit:x,interSplit:S,intraBound:E,interBound:C,intraChars:O,toUpper:_,toLower:R,compare:D}=e;m??=h,v??=h,b??=h,y??=h,D??="undefined"==typeof Intl?r:new Intl.Collator(...l).compare;let I=e.letters??e.alpha;if(null!=I){let e=_(I),t=R(I);S=c(S,e,t),x=c(x,e,t),C=c(C,e,t),E=c(E,e,t),O=c(O,e,t),w=c(w,e,t)}let k=t?"u":"";const T='".+?"',A=new RegExp(T,"gi"+k),P=new RegExp(`(?:\\s+|^)-(?:${O}+|${T})`,"gi"+k);let{intraRules:L}=e;null==L&&(L=e=>{let t=u.intraSlice,n=0,r=0,a=0,o=0;if(/[^\d]/.test(e)){let i=e.length;i<=4?i>=3&&(a=Math.min(b,1),4==i&&(n=Math.min(m,1))):(t=f,n=m,r=v,a=b,o=y)}return{intraSlice:t,intraIns:n,intraSub:r,intraTrn:a,intraDel:o}});let N=!!x,j=new RegExp(x,"g"+k),M=new RegExp(S,"g"+k),$=new RegExp("^"+S+"|"+S+"$","g"+k),V=new RegExp(w,"gi"+k);const F=(e,t=!1)=>{let n=[];e=(e=e.replace(A,(e=>(n.push(e),i)))).replace($,""),t||(e=R(e)),N&&(e=e.replace(j,(e=>e[0]+" "+e[1])));let r=0;return e.split(M).filter((e=>""!=e)).map((e=>e===i?n[r++]:e))},B=/[^\d]+|\d+/g,z=(t,r=0,i=!1)=>{let s=F(t);if(0==s.length)return[];let l,c=Array(s.length).fill("");if(s=s.map(((e,t)=>e.replace(V,(e=>(c[t]=e,""))))),1==h)l=s.map(((e,t)=>{if('"'===e[0])return o(e.slice(1,-1));let n="";for(let r of e.matchAll(B)){let e=r[0],{intraSlice:a,intraIns:o,intraSub:i,intraTrn:s,intraDel:l}=L(e);if(o+i+s+l==0)n+=e+c[t];else{let[r,u]=a,p=e.slice(0,r),h=e.slice(u),f=e.slice(r,u);1==o&&1==p.length&&p!=f[0]&&(p+="(?!"+p+")");let g=f.length,m=[e];if(i)for(let e=0;e<g;e++)m.push(p+f.slice(0,e)+O+f.slice(e+1)+h);if(s)for(let e=0;e<g-1;e++)f[e]!=f[e+1]&&m.push(p+f.slice(0,e)+f[e+1]+f[e]+f.slice(e+2)+h);if(l)for(let e=0;e<g;e++)m.push(p+f.slice(0,e+1)+"?"+f.slice(e+1)+h);if(o){let e=d(O,1);for(let t=0;t<g;t++)m.push(p+f.slice(0,t)+e+f.slice(t)+h)}n+="(?:"+m.join("|")+")"+c[t]}}return n}));else{let e=d(O,m);2==r&&m>0&&(e=")("+e+")("),l=s.map(((t,n)=>'"'===t[0]?o(t.slice(1,-1)):t.split("").map(((e,t,n)=>(1==m&&0==t&&n.length>1&&e!=n[t+1]&&(e+="(?!"+e+")"),e))).join(e)+c[n]))}let u=2==n?p:"",f=2==a?p:"",g=f+d(e.interChars,e.interIns)+u;return r>0?i?l=u+"("+l.join(")"+f+"|"+u+"(")+")"+f:(l="("+l.join(")("+g+")(")+")",l="(.??"+u+")"+l+"("+f+".*)"):(l=l.join(g),l=u+l+f),[new RegExp(l,"i"+k),s,c]},U=(e,t,n)=>{let[r]=z(t);if(null==r)return null;let a=[];if(null!=n)for(let t=0;t<n.length;t++){let o=n[t];r.test(e[o])&&a.push(o)}else for(let t=0;t<e.length;t++)r.test(e[t])&&a.push(t);return a};let W=!!E,H=new RegExp(C,k),G=new RegExp(E,k);const q=(t,r,o)=>{let[i,s,l]=z(o,1),c=F(o,!0),[u]=z(o,2),d=s.length,p=Array(d),h=Array(d);for(let e=0;e<d;e++){let t=s[e],n=c[e],r='"'==t[0]?t.slice(1,-1):t+l[e],a='"'==n[0]?n.slice(1,-1):n+l[e];p[e]=r,h[e]=a}let f=t.length,g=Array(f).fill(0),m={idx:Array(f),start:g.slice(),chars:g.slice(),cases:g.slice(),terms:g.slice(),interIns:g.slice(),intraIns:g.slice(),interLft2:g.slice(),interRgt2:g.slice(),interLft1:g.slice(),interRgt1:g.slice(),ranges:Array(f)},v=1==n||1==a,b=0;for(let o=0;o<t.length;o++){let s=r[t[o]],l=s.match(i),c=l.index+l[1].length,f=c,g=!1,y=0,w=0,x=0,S=0,E=0,C=0,O=0,_=0,D=0,I=[];for(let t=0,r=2;t<d;t++,r+=2){let o=R(l[r]),i=p[t],u=h[t],m=i.length,b=o.length,T=o==i;if(l[r]==u&&O++,!T&&l[r+1].length>=m){let e=R(l[r+1]).indexOf(i);e>-1&&(I.push(f,b,e,m),f+=K(l,r,e,m),o=i,b=m,T=!0,0==t&&(c=f))}if(v||T){let e=f-1,u=f+b,d=!1,p=!1;if(-1==e||H.test(s[e]))T&&y++,d=!0;else{if(2==n){g=!0;break}if(W&&G.test(s[e]+s[e+1]))T&&w++,d=!0;else if(1==n){let e=l[r+1],n=f+b;if(e.length>=m){let a,u=0,p=!1,h=new RegExp(i,"ig"+k);for(;a=h.exec(e);){u=a.index;let e=n+u,t=e-1;if(-1==t||H.test(s[t])){y++,p=!0;break}if(G.test(s[t]+s[e])){w++,p=!0;break}}p&&(d=!0,I.push(f,b,u,m),f+=K(l,r,u,m),o=i,b=m,T=!0,0==t&&(c=f))}if(!d){g=!0;break}}}if(u==s.length||H.test(s[u]))T&&x++,p=!0;else{if(2==a){g=!0;break}if(W&&G.test(s[u-1]+s[u]))T&&S++,p=!0;else if(1==a){g=!0;break}}T&&(E+=m,d&&p&&C++)}if(b>m&&(D+=b-m),t>0&&(_+=l[r-1].length),!e.intraFilt(i,o,f)){g=!0;break}t<d-1&&(f+=b+l[r+1].length)}if(!g){m.idx[b]=t[o],m.interLft2[b]=y,m.interLft1[b]=w,m.interRgt2[b]=x,m.interRgt1[b]=S,m.chars[b]=E,m.terms[b]=C,m.cases[b]=O,m.interIns[b]=_,m.intraIns[b]=D,m.start[b]=c;let e=s.match(u),n=e.index+e[1].length,r=I.length,a=r>0?0:1/0,i=r-4;for(let t=2;t<e.length;){let r=e[t].length;if(a<=i&&I[a]==n){let r=I[a+1],o=I[a+2],i=I[a+3],s=t,l="";for(let t=0;t<r;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),n+=K(e,t,o,i),a+=4}else n+=r,t++}n=e.index+e[1].length;let l=m.ranges[b]=[],d=n,p=n;for(let t=2;t<e.length;t++){let r=e[t].length;n+=r,t%2==0?p=n:r>0&&(l.push(d,p),d=p=n)}p>d&&l.push(d,p),b++}}if(b<t.length)for(let e in m)m[e]=m[e].slice(0,b);return m},K=(e,t,n,r)=>{let a=e[t]+e[t+1].slice(0,n);return e[t-1]+=a,e[t]=e[t+1].slice(n,n+r),e[t+1]=e[t+1].slice(n+r),a.length};return{search:(...t)=>((t,n,r,a=1e3,i)=>{r=r?!0===r?5:r:0;let l=null,c=null,u=[];n=n.replace(P,(e=>{let t=e.trim().slice(1);return t='"'===t[0]?o(t.slice(1,-1)):t.replace(s,""),""!=t&&u.push(t),""}));let d,p=F(n);if(u.length>0){if(d=new RegExp(u.join("|"),"i"+k),0==p.length){let e=[];for(let n=0;n<t.length;n++)d.test(t[n])||e.push(n);return[e,null,null]}}else if(0==p.length)return[null,null,null];if(r>0){let e=F(n);if(e.length>1){let n=e.slice().sort(((e,t)=>t.length-e.length));for(let e=0;e<n.length;e++){if(0==i?.length)return[[],null,null];i=U(t,n[e],i)}if(e.length>r)return[i,null,null];l=g(e).map((e=>e.join(" "))),c=[];let a=new Set;for(let e=0;e<l.length;e++)if(a.size<i.length){let n=i.filter((e=>!a.has(e))),r=U(t,l[e],n);for(let e=0;e<r.length;e++)a.add(r[e]);c.push(r)}else c.push([])}}null==l&&(l=[n],c=[i?.length>0?i:U(t,n)]);let h=null,f=null;if(u.length>0&&(c=c.map((e=>e.filter((e=>!d.test(t[e])))))),c.reduce(((e,t)=>e+t.length),0)<=a){h={},f=[];for(let n=0;n<c.length;n++){let r=c[n];if(null==r||0==r.length)continue;let a=l[n],o=q(r,t,a),i=e.sort(o,t,a,D);if(n>0)for(let e=0;e<i.length;e++)i[e]+=f.length;for(let e in o)h[e]=(h[e]??[]).concat(o[e]);f=f.concat(i)}}return[[].concat(...c),h,f]})(...t),split:F,filter:U,info:q,sort:e.sort}}const f=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let r in e)e[r].split("").forEach((e=>{n+=e,t.set(e,r)}));let r=new RegExp(`[${n}]`,"g"),a=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(r,a);let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].replace(r,a);return t}})();function g(e){let t,n,r=(e=e.slice()).length,a=[e.slice()],o=new Array(r).fill(0),i=1;for(;i<r;)o[i]<i?(t=i%2&&o[i],n=e[i],e[i]=e[t],e[t]=n,++o[i],i=1,a.push(e.slice())):(o[i]=0,++i);return a}const m=(e,t)=>t?`<mark>${e}</mark>`:e,v=(e,t)=>e+t;h.latinize=f,h.permute=e=>g([...Array(e.length).keys()]).sort(((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0})).map((t=>t.map((t=>e[t])))),h.highlight=function(e,t,n=m,r="",a=v){r=a(r,n(e.substring(0,t[0]),!1))??r;for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];r=a(r,n(e.substring(i,s),!0))??r,o<t.length-3&&(r=a(r,n(e.substring(t[o+1],t[o+2]),!1))??r)}return r=a(r,n(e.substring(t[t.length-1]),!1))??r}},5540:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(5959);function a(e){const{ref:t,box:n,onResize:a}=e;(0,r.useEffect)((()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",a,!1),()=>{window.removeEventListener("resize",a,!1)};{const t=new window.ResizeObserver((e=>{e.length&&a()}));return t.observe(e,{box:n}),()=>{e&&t.unobserve(e)}}}}),[a,t,n])}},1792:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(5959),a=e=>"string"!=typeof e?{}:e.split(/ ?; ?/).reduce(((e,t)=>{const[n,r]=t.split(/ ?: ?/).map(((e,t)=>0===t?e.replace(/\s+/g,""):e.trim()));if(n&&r){const t=n.replace(/(\w)-(\w)/g,((e,t,n)=>`${t}${n.toUpperCase()}`));let a=r.trim();Number.isNaN(Number(r))||(a=Number(r)),e[n.startsWith("-")?n:t]=a}return e}),{});var o=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],i={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"};function s(e,t){const{key:n,level:s,...c}=t;switch(e.nodeType){case 1:return r.createElement(function(e){if(/[a-z]+[A-Z]+[a-z]+/.test(e))return e;return e.toLowerCase()}(e.nodeName),function(e,t){const n={key:t};if(e instanceof Element){const t=e.getAttribute("class");t&&(n.className=t),[...e.attributes].forEach((e=>{switch(e.name){case"class":break;case"style":n[e.name]=a(e.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[i[e.name]||e.name]=!0;break;default:n[i[e.name]||e.name]=e.value}}))}return n}(e,n),l(e.childNodes,s,c));case 3:{const t=e.nodeValue?.toString()??"";if(!c.allowWhiteSpaces&&/^\s+$/.test(t)&&!/[\u00A0\u202F]/.test(t))return null;if(!e.parentNode)return t;const n=e.parentNode.nodeName.toLowerCase();return o.includes(n)?(/\S/.test(t)&&console.warn(`A textNode is not allowed inside '${n}'. Your text "${t}" will be ignored`),null):t}case 8:default:return null;case 11:return l(e.childNodes,s,t)}}function l(e,t,n){const r=[...e].map(((e,r)=>u(e,{...n,index:r,level:t+1}))).filter(Boolean);return r.length?r:null}function c(e,t={}){return"string"==typeof e?function(e,t={}){if(!e||"string"!=typeof e)return null;const{includeAllNodes:n=!1,nodeOnly:r=!1,selector:a="body > *",type:o="text/html"}=t;try{const i=(new DOMParser).parseFromString(e,o);if(n){const{childNodes:e}=i.body;return r?e:[...e].map((e=>u(e,t)))}const s=i.querySelector(a)||i.body.childNodes[0];if(!(s instanceof Node))throw new TypeError("Error parsing input");return r?s:u(s,t)}catch(e){0}return null}(e,t):e instanceof Node?u(e,t):null}function u(e,t={}){if(!(e&&e instanceof Node))return null;const{actions:n=[],index:r=0,level:a=0,randomKey:o}=t;let i=e,l=`${a}-${r}`;const c=[];return o&&0===a&&(l=`${function(e=6){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";for(let r=e;r>0;--r)n+=t[Math.round(61*Math.random())];return n}()}-${l}`),Array.isArray(n)&&n.forEach((t=>{t.condition(i,l,a)&&("function"==typeof t.pre&&(i=t.pre(i,l,a),i instanceof Node||(i=e)),"function"==typeof t.post&&c.push(t.post(i,l,a)))})),c.length?c:s(i,{key:l,level:a,...t})}var d=Object.defineProperty,p=(e,t,n)=>((e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),h="react-inlinesvg",f={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function g(){return!("undefined"==typeof window||!window.document?.createElement)}function m(){return function(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!=typeof window&&null!==window}async function v(e,t){const n=await fetch(e,t),r=n.headers.get("content-type"),[a]=(r??"").split(/ ?; ?/);if(n.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((e=>a.includes(e))))throw new Error(`Content type isn't valid: ${a}`);return n.text()}function b(e=1){return new Promise((t=>{setTimeout(t,1e3*e)}))}var y,w=class{constructor(){p(this,"cacheApi"),p(this,"cacheStore"),p(this,"subscribers",[]),p(this,"isReady",!1),this.cacheStore=new Map;let e=h,t=!1;g()&&(e=window.REACT_INLINESVG_CACHE_NAME??h,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE&&"caches"in window),t?caches.open(e).then((e=>{this.cacheApi=e})).catch((e=>{console.error(`Failed to open cache: ${e.message}`),this.cacheApi=void 0})).finally((()=>{this.isReady=!0;const e=[...this.subscribers];this.subscribers.length=0,e.forEach((e=>{try{e()}catch(e){console.error(`Error in CacheStore subscriber callback: ${e.message}`)}}))})):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),this.cacheStore.get(e)?.content??""}set(e,t){this.cacheStore.set(e,t)}isCached(e){return this.cacheStore.get(e)?.status===f.LOADED}async fetchAndAddToInternalCache(e,t){const n=this.cacheStore.get(e);if(n?.status!==f.LOADING){if(!n?.content){this.cacheStore.set(e,{content:"",status:f.LOADING});try{const n=await v(e,t);this.cacheStore.set(e,{content:n,status:f.LOADED})}catch(t){throw this.cacheStore.set(e,{content:"",status:f.FAILED}),t}}}else await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:f.IDLE}),await this.fetchAndAddToInternalCache(e,t)}))}async fetchAndAddToPersistentCache(e,t){const n=this.cacheStore.get(e);if(n?.status===f.LOADED)return;if(n?.status===f.LOADING)return void await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:f.IDLE}),await this.fetchAndAddToPersistentCache(e,t)}));this.cacheStore.set(e,{content:"",status:f.LOADING});const r=await(this.cacheApi?.match(e));if(r){const t=await r.text();this.cacheStore.set(e,{content:t,status:f.LOADED})}else try{await(this.cacheApi?.add(new Request(e,t)));const n=await(this.cacheApi?.match(e)),r=await(n?.text())??"";this.cacheStore.set(e,{content:r,status:f.LOADED})}catch(t){throw this.cacheStore.set(e,{content:"",status:f.FAILED}),t}}async handleLoading(e,t){for(let t=0;t<10;t++){if(this.cacheStore.get(e)?.status!==f.LOADING)return;await b(.1)}await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map((([e,t])=>({[e]:t})))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();await Promise.allSettled(e.map((e=>this.cacheApi.delete(e))))}this.cacheStore.clear()}};function x(e){const t=(0,r.useRef)(void 0);return(0,r.useEffect)((()=>{t.current=e})),t.current}function S(e){const{baseURL:t,content:n,description:r,handleError:a,hash:o,preProcessor:i,title:s,uniquifyIDs:l=!1}=e;try{const e=function(e,t){if(t)return t(e);return e}(n,i),a=c(e,{nodeOnly:!0});if(!(a&&a instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const u=E(a,{baseURL:t,hash:o,uniquifyIDs:l});if(r){const e=u.querySelector("desc");e?.parentNode&&e.parentNode.removeChild(e);const t=document.createElementNS("http://www.w3.org/2000/svg","desc");t.innerHTML=r,u.prepend(t)}if(void 0!==s){const e=u.querySelector("title");if(e?.parentNode&&e.parentNode.removeChild(e),s){const e=document.createElementNS("http://www.w3.org/2000/svg","title");e.innerHTML=s,u.prepend(e)}}return u}catch(e){return a(e)}}function E(e,t){const{baseURL:n="",hash:r,uniquifyIDs:a}=t,o=["id","href","xlink:href","xlink:role","xlink:arcrole"],i=["href","xlink:href"];return a?([...e.children].forEach((e=>{if(e.attributes?.length){const t=Object.values(e.attributes).map((e=>{const t=e,a=/url\((.*?)\)/.exec(e.value);return a?.[1]&&(t.value=e.value.replace(a[0],`url(${n}${a[1]}__${r})`)),t}));o.forEach((e=>{const n=t.find((t=>t.name===e));var a,o;n&&(a=e,o=n.value,!i.includes(a)||!o||o.includes("#"))&&(n.value=`${n.value}__${r}`)}))}return e.children.length?E(e,t):e})),e):e}function C(e){const{cacheRequests:t=!0,children:n=null,description:a,fetchOptions:o,innerRef:i,loader:s=null,onError:l,onLoad:u,src:d,title:p,uniqueHash:h}=e,[b,w]=(0,r.useReducer)(((e,t)=>({...e,...t})),{content:"",element:null,isCached:t&&y.isCached(e.src),status:f.IDLE}),{content:E,element:C,isCached:O,status:_}=b,R=x(e),D=x(b),I=(0,r.useRef)(h??function(e){const t="abcdefghijklmnopqrstuvwxyz",n=`${t}${t.toUpperCase()}1234567890`;let r="";for(let t=0;t<e;t++)r+=(a=n)[Math.floor(Math.random()*a.length)];var a;return r}(8)),k=(0,r.useRef)(!1),T=(0,r.useRef)(!1),A=(0,r.useCallback)((e=>{k.current&&(w({status:"Browser does not support SVG"===e.message?f.UNSUPPORTED:f.FAILED}),l?.(e))}),[l]),P=(0,r.useCallback)(((e,t=!1)=>{k.current&&w({content:e,isCached:t,status:f.LOADED})}),[]),L=(0,r.useCallback)((async()=>{const e=await v(d,o);P(e)}),[o,P,d]),N=(0,r.useCallback)((()=>{try{const t=c(S({...e,handleError:A,hash:I.current,content:E}));if(!t||!(0,r.isValidElement)(t))throw new Error("Could not convert the src to a React element");w({element:t,status:f.READY})}catch(e){A(e)}}),[E,A,e]),j=(0,r.useCallback)((async()=>{const e=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(d);let n;if(e?n=e[1]?window.atob(e[2]):decodeURIComponent(e[2]):d.includes("<svg")&&(n=d),n)P(n);else try{if(t){const e=await y.get(d,o);P(e,!0)}else await L()}catch(e){A(e)}}),[t,L,o,A,P,d]),M=(0,r.useCallback)((async()=>{k.current&&w({content:"",element:null,isCached:!1,status:f.LOADING})}),[]);(0,r.useEffect)((()=>{if(k.current=!0,g()&&!T.current){try{if(_===f.IDLE){if(!m())throw new Error("Browser does not support SVG");if(!d)throw new Error("Missing src");M()}}catch(e){A(e)}return T.current=!0,()=>{k.current=!1}}}),[]),(0,r.useEffect)((()=>{if(g()&&R&&R.src!==d){if(!d)return void A(new Error("Missing src"));M()}}),[A,M,R,d]),(0,r.useEffect)((()=>{_===f.LOADED&&N()}),[_,N]),(0,r.useEffect)((()=>{g()&&R&&R.src===d&&(R.title===p&&R.description===a||N())}),[a,N,R,d,p]),(0,r.useEffect)((()=>{if(D)switch(_){case f.LOADING:D.status!==f.LOADING&&j();break;case f.LOADED:D.status!==f.LOADED&&N();break;case f.READY:D.status!==f.READY&&u?.(d,O)}}),[j,N,O,u,D,d,_]);const $=function(e,...t){const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}(e,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return g()?C?(0,r.cloneElement)(C,{ref:i,...$}):[f.UNSUPPORTED,f.FAILED].includes(_)?n:s:s}function O(e){y||(y=new w);const{loader:t}=e,[n,a]=(0,r.useState)(y.isReady);return(0,r.useEffect)((()=>{n||y.onReady((()=>{a(!0)}))}),[n]),n?r.createElement(C,{...e}):t}}}]);
//# sourceMappingURL=83.js.map?_cache=7d0001eb5cec9ec20659